{"version":3,"sources":["../node_modules/babel-runtime/node_modules/core-js/library/modules/_core.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_global.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_descriptors.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_export.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-dp.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_has.js","../node_modules/create-react-class/index.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_hide.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_is-object.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_fails.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_to-iobject.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_wks.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_an-object.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_property-desc.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_library.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_uid.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-pie.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_to-object.js","../node_modules/reactstrap/es/Label.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_to-primitive.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_defined.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_to-integer.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_shared-key.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_shared.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_enum-bug-keys.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gops.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_iterators.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-create.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_set-to-string-tag.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_wks-ext.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_wks-define.js","../node_modules/reactstrap/es/Form.js","../node_modules/reactstrap/es/FormGroup.js","../node_modules/reactstrap/es/Input.js","../node_modules/react-datetime/node_modules/object-assign/index.js","../node_modules/react-lottie/dist/index.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_ctx.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_ie8-dom-define.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_dom-create.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys-internal.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_iobject.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_cof.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gpo.js","../node_modules/babel-runtime/helpers/typeof.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_iter-define.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_redefine.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gopn.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gopd.js","../node_modules/react-hook-form/dist/react-hook-form.es.js","../node_modules/react-datetime/DateTime.js","../node_modules/create-react-class/factory.js","../node_modules/react-datetime/src/CalendarContainer.js","../node_modules/react-datetime/src/DaysView.js","../node_modules/react-datetime/src/MonthsView.js","../node_modules/react-datetime/src/YearsView.js","../node_modules/react-datetime/src/TimeView.js","../node_modules/react-onclickoutside/dist/react-onclickoutside.es.js","../node_modules/attr-accept/dist/es/index.js","../node_modules/babel-runtime/helpers/extends.js","../node_modules/babel-runtime/core-js/object/assign.js","../node_modules/babel-runtime/node_modules/core-js/library/fn/object/assign.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.assign.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_a-function.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-assign.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_array-includes.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_to-length.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_to-absolute-index.js","../node_modules/babel-runtime/core-js/object/get-prototype-of.js","../node_modules/babel-runtime/node_modules/core-js/library/fn/object/get-prototype-of.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.get-prototype-of.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-sap.js","../node_modules/babel-runtime/helpers/classCallCheck.js","../node_modules/babel-runtime/helpers/createClass.js","../node_modules/babel-runtime/core-js/object/define-property.js","../node_modules/babel-runtime/node_modules/core-js/library/fn/object/define-property.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.define-property.js","../node_modules/babel-runtime/helpers/possibleConstructorReturn.js","../node_modules/babel-runtime/core-js/symbol/iterator.js","../node_modules/babel-runtime/node_modules/core-js/library/fn/symbol/iterator.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/es6.string.iterator.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_string-at.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_iter-create.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-dps.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_html.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/web.dom.iterable.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/es6.array.iterator.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_add-to-unscopables.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_iter-step.js","../node_modules/babel-runtime/core-js/symbol.js","../node_modules/babel-runtime/node_modules/core-js/library/fn/symbol/index.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/es6.symbol.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_meta.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_enum-keys.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_is-array.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gopn-ext.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/es7.symbol.async-iterator.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/es7.symbol.observable.js","../node_modules/babel-runtime/helpers/inherits.js","../node_modules/babel-runtime/core-js/object/set-prototype-of.js","../node_modules/babel-runtime/node_modules/core-js/library/fn/object/set-prototype-of.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.set-prototype-of.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_set-proto.js","../node_modules/babel-runtime/core-js/object/create.js","../node_modules/babel-runtime/node_modules/core-js/library/fn/object/create.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.create.js","../node_modules/lottie-web/build/player/lottie.js","../node_modules/webpack/buildin/amd-options.js","../node_modules/tslib/tslib.es6.js","../../../src/file.ts","../../../src/file-selector.ts","../node_modules/react-dropzone/dist/es/utils/index.js","../node_modules/react-dropzone/dist/es/index.js"],"names":["core","module","exports","version","__e","global","window","Math","self","Function","__g","require","Object","defineProperty","get","a","ctx","hide","has","$export","type","name","source","key","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","P","IS_BIND","B","IS_WRAP","W","expProto","target","undefined","C","b","c","this","arguments","length","apply","call","virtual","R","U","anObject","IE8_DOM_DEFINE","toPrimitive","dP","f","O","Attributes","e","TypeError","value","hasOwnProperty","it","React","factory","Error","ReactNoopUpdateQueue","Component","updater","isValidElement","createDesc","object","exec","IObject","defined","store","uid","Symbol","USE_SYMBOL","isObject","bitmap","enumerable","configurable","writable","$keys","enumBugKeys","keys","id","px","random","concat","toString","propertyIsEnumerable","_excluded","stringOrNumberProp","PropTypes","oneOfType","number","string","columnProps","bool","shape","size","order","offset","propTypes","children","node","hidden","check","for","tag","tagPropType","className","cssModule","xs","sm","md","lg","xl","widths","array","defaultProps","getColumnSizeClass","isXs","colWidth","colSize","Label","props","Tag","htmlFor","attributes","_objectWithoutPropertiesLoose","colClasses","forEach","i","columnProp","colClass","_classNames","colSizeInterfix","push","mapToCssModules","classNames","classes","createElement","_extends","fn","val","valueOf","ceil","floor","isNaN","shared","mode","copyright","split","getOwnPropertySymbols","dPs","IE_PROTO","Empty","createDict","iframeDocument","iframe","style","display","appendChild","src","contentWindow","document","open","write","lt","close","create","Properties","result","def","TAG","stat","prototype","LIBRARY","wksExt","$Symbol","charAt","inline","innerRef","func","Form","_Component","_this","getRef","bind","_assertThisInitialized","submit","_inheritsLoose","_proto","ref","render","_this$props","row","disabled","FormGroup","bsSize","valid","invalid","plaintext","addon","Input","_React$Component","focus","checkInput","indexOf","isNotaNumber","RegExp","formControlClass","test","warnOnce","propIsEnumerable","ToObject","ownEnumerableKeys","obj","getOwnPropertyNames","filter","assign","from","to","s","_extends3","_interopRequireDefault","_getPrototypeOf2","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_react2","_propTypes2","_lottieWeb2","__esModule","default","Lottie","_ref","_temp","_ret","_len","args","Array","_key","__proto__","handleClickToPause","anim","isPaused","play","pause","_props","options","eventListeners","loop","autoplay","animationData","rendererSettings","segments","container","el","renderer","loadAnimation","registerEvents","nextProps","deRegisterEvents","destroy","isStopped","stop","playSegments","setSpeed","setDirection","speed","direction","_this2","eventListener","addEventListener","eventName","callback","_this3","removeEventListener","_this4","_props2","width","height","ariaRole","ariaLabel","isClickToPauseDisabled","title","getSize","initial","lottieStyles","overflow","margin","outline","onClickHandler","onClick","role","tabIndex","arrayOf","isRequired","aFunction","that","is","toIObject","arrayIndexOf","names","cof","slice","toObject","ObjectProto","getPrototypeOf","constructor","_iterator2","_symbol2","_typeof","redefine","Iterators","$iterCreate","setToStringTag","ITERATOR","BUGGY","returnThis","Base","NAME","Constructor","next","DEFAULT","IS_SET","FORCED","methods","IteratorPrototype","getMethod","kind","proto","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","entries","values","hiddenKeys","pIE","gOPD","getOwnPropertyDescriptor","isUndefined","isNullOrUndefined","isArray","isObjectType","isHTMLElement","nodeType","Node","ELEMENT_NODE","VALIDATION_MODE","EVENTS","INPUT_VALIDATION_RULES","REGEX_IS_DEEP_PROP","REGEX_IS_PLAIN_PROP","REGEX_PROP_NAME","REGEX_ESCAPE_CHAR","attachEventListeners","field","handleChange","isRadioOrCheckbox","isKey","stringToPath","replace","match","quote","set","path","index","tempPath","lastIndex","newValue","objValue","transformToNestObject","data","reduce","previous","defaultValue","Boolean","focusErrorField","fields","fieldErrors","removeAllEventListeners","validateWithStateUpdate","isRadioInput","element","isCheckBoxInput","isDetached","HTMLElement","DOCUMENT_NODE","parentNode","isEmptyObject","castPath","parent","updatePath","baseGet","start","end","baseSlice","unset","paths","childObject","previousObjRef","k","objectRef","currentPaths","currentPathsLength","item","baseUnset","findRemovedFieldAndRemoveListener","forceDelete","mutationWatcher","fieldValue","disconnect","defaultReturn","isValid","getRadioValue","checked","isFileInput","isMultipleSelect","isEmptyString","defaultResult","validResult","getCheckboxValue","map","getFieldValue","files","selected","isString","getFieldsValues","search","output","isSearchString","isSearchArray","isNest","nest","startsWith","find","isSameError","error","types","message","objectA","objectB","compareObject","shouldUpdateWithError","errors","validFields","fieldsWithValidation","isFieldValid","isFormValid","currentFieldError","existFieldError","isManual","isRegex","getValueAndMessage","validationData","isPureObject","isFunction","isBoolean","getValidateError","isStringValue","appendErrors","validateAllFieldCriteria","validateField","fieldsRef","required","maxLength","minLength","min","max","pattern","validate","current","isRadio","isCheckBox","isEmpty","appendErrorsCurry","getMinMaxMessage","exceedMax","maxLengthMessage","minLengthMessage","maxType","minType","requiredValue","requiredMessage","maxValue","maxMessage","minValue","minMessage","valueNumber","valueAsNumber","parseFloat","exceedMin","valueDate","valueAsDate","Date","maxLengthValue","minLengthValue","inputLength","patternValue","patternMessage","validateRef","validateError","validateFunctions","Promise","resolve","validateResult","validationResult","parseErrorSchema","inner","validateWithSchema","validationSchema","validationResolver","context","abortEarly","getDefaultValue","defaultValues","isPrimitive","getPath$1","parentPath","flatArray","list","getPath","getInnerPath","pathWithIndex","assignWatchFields","fieldValues","fieldName","watchFields","combinedDefaultValues","watchFieldArray","add","skipValidation","hasError","isBlurEvent","isOnSubmit","isReValidateOnSubmit","isOnBlur","isReValidateOnBlur","isSubmitted","getFieldValueByName","results","getIsFieldsDifferent","referenceArray","differenceArray","isMatch","dataA","dataB","isMatchFieldArrayName","searchName","isNameInFieldArray","prev","isFileListObject","FileList","onDomRemove","onDetachCallback","observer","MutationObserver","observe","childList","subtree","modeChecker","isOnChange","useRef","useState","useCallback","useEffect","useForm","reValidateMode","validationContext","submitFocusError","validateCriteriaMode","errorsRef","touchedFieldsRef","watchFieldArrayRef","watchFieldsRef","Set","dirtyFieldsRef","fieldsWithValidationRef","validFieldsRef","isValidRef","defaultRenderValuesRef","defaultValuesRef","isUnMount","isWatchAllRef","isSubmittedRef","isDirtyRef","submitCountRef","isSubmittingRef","handleChangeRef","resetFieldArrayFunctionRef","validationContextRef","fieldArrayNamesRef","isWindowUndefined","shouldValidateCallback","isWeb","isProxyEnabled","readFormStateRef","dirty","dirtyFields","submitCount","touched","isSubmitting","reRender","shouldRenderBaseOnError","shouldRender","skipReRender","shouldReRender","delete","setFieldValue","rawValue","radioRef","selectRef","includes","checkboxRef","setDirty","isFieldArray","previousDirtyFieldsLength","isDirty","fieldArrayName","substring","isDirtyChanged","setDirtyAndTouchedFields","setInternalValueBatch","parentFieldName","isValueArray","setInternalValue","executeValidation","executeSchemaValidation","payload","previousFormIsValid","triggerValidation","all","every","isFieldWatched","preFixName","setValue","valueOrShouldValidate","shouldValidate","isMultiple","isStringFieldName","currentError","shouldSkipValidation","shouldUpdateDirty","shouldUpdateState","validateSchemaIsValid","then","removeFieldEventListener","removeFieldEventListenerAndRef","clearError","setInternalError","preventRender","setError","watch","fieldNames","unregister","registerFieldsRef","validateOptions","console","warn","fieldAttributes","currentField","isEmptyDefaultValue","fieldToAttachListener","register","refOrValidationOptions","validationOptions","handleSubmit","preventDefault","persist","resolvedPrevious","fieldError","resetRefs","reset","closest","_a","resetFieldArray","getValues","outputValues","formState","control","Proxy","prop","createContext","createClass","moment","CalendarContainer","onClickOutside","viewModes","freeze","YEARS","MONTHS","DAYS","TIME","TYPES","Datetime","displayName","onFocus","onBlur","onChange","onViewModeChange","onNavigateBack","onNavigateForward","locale","utc","displayTimeZone","input","inputProps","timeConstraints","viewMode","oneOf","isValidDate","strictParsing","closeOnSelect","closeOnTab","getInitialState","checkTZ","state","getStateFromProps","currentView","dateFormat","updateOn","parseDate","date","formats","parsedDate","localMoment","datetime","selectedDate","viewDate","inputValue","getFormats","clone","startOf","getUpdateOn","format","inputFormat","time","timeFormat","localeData","longDateFormat","componentWillReceiveProps","updatedState","updatedViewDate","updatedSelectedDate","tz","local","setState","onInputChange","update","onInputKey","which","closeCalendar","showView","view","me","setDate","nextViews","month","year","parseInt","getAttribute","subtractTime","amount","toSelected","updateTime","addTime","op","allowedSetTime","setTime","nextType","updateSelectedDate","currentTarget","modifier","currentDate","hours","minutes","seconds","milliseconds","openCalendar","handleClickOutside","disableCloseOnClickOutside","m","con","tzWarning","componentProps","fromProps","fromState","fromThis","getComponentProps","overrideEvent","handler","action","overridenEvents","join","finalInputProps","onKeyDown","renderInput","ClickableWrapper","onClickOut","viewProps","_assign","emptyObject","_invariant","condition","d","argIndex","framesToPop","ReactComponent","injectedMixins","ReactClassInterface","mixins","statics","contextTypes","childContextTypes","getDefaultProps","getChildContext","componentWillMount","componentDidMount","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount","UNSAFE_componentWillMount","UNSAFE_componentWillReceiveProps","UNSAFE_componentWillUpdate","updateComponent","ReactClassStaticInterface","getDerivedStateFromProps","RESERVED_SPEC_KEYS","mixSpecIntoComponent","createMergedResultFunction","property","mixStaticSpecIntoComponent","autobind","validateMethodOverride","isAlreadyDefined","specPolicy","ReactClassMixin","spec","autoBindPairs","__reactAutoBindPairs","isReactClassMethod","createChainedFunction","mergeIntoWithNoDuplicateKeys","one","two","bindAutoBindMethod","component","method","IsMountedPreMixin","__isMounted","IsMountedPostMixin","replaceState","newState","enqueueReplaceState","isMounted","ReactClassComponent","pairs","autoBindKey","bindAutoBindMethods","refs","initialState","methodName","viewComponents","days","months","years","DateTimePickerDays","tableChildren","footer","renderFooter","colSpan","getDaysOfWeek","day","renderDays","_weekdaysMin","first","firstDayOfWeek","dow","isDisabled","dayProps","prevMonth","subtract","currentYear","currentMonth","weeks","renderDay","alwaysValidDate","daysInMonth","lastDay","isBefore","isSame","event","DateTimePickerMonths","renderMonths","noOfDaysInMonth","rows","renderMonth","endOf","updateSelectedMonth","str","monthStrFixedLength","monthsShort","toUpperCase","DateTimePickerYears","renderYears","noOfDaysInYear","renderYear","dayOfYear","updateSelectedYear","DateTimePickerTime","calculateState","counters","toLowerCase","daypart","renderCounter","onMouseDown","onStartClicking","onContextMenu","disableContextMenu","renderDayPart","updateMilli","renderHeader","step","milli","timer","setTimeout","increaseTimer","setInterval","mouseUpListener","clearTimeout","clearInterval","body","padValues","toggleDayPart","pad","increase","decrease","_setPrototypeOf","o","p","setPrototypeOf","ReferenceError","isNodeFound","componentNode","ignoreClass","correspondingElement","classList","contains","seed","passiveEventSupport","handlersMap","enabledInstances","touchEvents","IGNORE_CLASS_NAME","getEventHandlerOptions","instance","handlerOptions","passive","onClickOutsideHOC","WrappedComponent","config","_class","componentName","subClass","superClass","__outsideClickHandler","__clickOutsideHandlerProp","getInstance","__getComponentNode","setClickOutsideRef","findDOMNode","enableOnClickOutside","_uid","noop","testPassiveEventSupport","events","eventTypes","evt","stopPropagation","excludeScrollbar","documentElement","clientWidth","clientX","clientHeight","clientY","host","findHighest","composed","composedPath","shift","outsideClickIgnoreClass","disableOnClickOutside","instanceRef","isReactComponent","excluded","sourceKeys","wrappedRef","getClass","file","acceptedFiles","acceptedFilesArray","fileName","mimeType","baseMimeType","some","validType","trim","endsWith","_assign2","DESCRIPTORS","getKeys","gOPS","$assign","A","K","T","aLen","getSymbols","isEnum","j","toLength","toAbsoluteIndex","IS_INCLUDES","$this","fromIndex","toInteger","$getPrototypeOf","fails","KEY","exp","_defineProperty","_defineProperty2","defineProperties","descriptor","protoProps","staticProps","$Object","desc","_typeof2","_typeof3","$at","String","iterated","_t","_i","point","done","TO_STRING","pos","l","charCodeAt","TO_STRING_TAG","DOMIterables","Collection","addToUnscopables","_k","Arguments","META","$fails","wks","wksDefine","enumKeys","_create","gOPNExt","$GOPD","$GOPS","$DP","gOPN","$JSON","JSON","_stringify","stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","USE_NATIVE","QObject","setter","findChild","setSymbolDesc","D","protoDesc","wrap","sym","isSymbol","iterator","$defineProperty","$defineProperties","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","es6Symbols","wellKnownSymbols","keyFor","useSetter","useSimple","FAILS_ON_PRIMITIVES","replacer","$replacer","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","meta","NEED","fastKey","getWeak","onFreeze","symbols","arg","windowNames","getWindowNames","_setPrototypeOf2","_create2","buggy","navigator","svgNS","locationHref","_useWebWorker","initialDefaultFrame","setWebWorker","flag","getWebWorker","setLocationHref","getLocationHref","createTag","extendPrototype","sources","destination","sourcePrototype","len","attr","getDescriptor","createProxyFunction","ProxyFunction","audioControllerFactory","AudioController","audioFactory","audios","_volume","_isMuted","addAudio","audio","resume","setRate","rateValue","createAudio","assetPath","Howl","isPlaying","seek","playing","rate","setVolume","setAudioFactory","_updateVolume","mute","unmute","getVolume","volume","createTypedArray","createRegularArray","arr","Uint8ClampedArray","Float32Array","Int16Array","createSizedArray","_typeof$6","subframeEnabled","expressionsPlugin","idPrefix$1","isSafari","userAgent","_shouldRoundValues","bmPow","pow","bmSqrt","sqrt","bmFloor","bmMax","bmMin","BMMath","ProjectInterface$1","propertyNames","abs","absArr","defaultCurveSegments","degToRads","PI","roundCorner","roundValues","bmRnd","round","styleDiv","position","top","left","transformOrigin","webkitTransformOrigin","backfaceVisibility","webkitBackfaceVisibility","transformStyle","webkitTransformStyle","mozTransformStyle","BMEnterFrameEvent","currentTime","totalTime","frameMultiplier","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","BMAnimationConfigErrorEvent","createElementID","_count","HSVtoRGB","h","v","r","g","q","t","RGBtoHSV","addSaturationToRGB","color","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","hex","colorMap","setSubframeEnabled","getSubframeEnabled","setExpressionsPlugin","getExpressionsPlugin","setDefaultCurveSegments","getDefaultCurveSegments","setIdPrefix","getIdPrefix","createNS","createElementNS","_typeof$5","dataManager","workerFn","workerInstance","_counterId","processes","workerProxy","onmessage","postMessage","_workerSelf","setupWorker","Worker","Blob","blob","url","URL","createObjectURL","createWorker","completeLayers","layers","comps","layerData","jLen","kLen","completed","tt","td","hasMask","maskProps","masksProperties","pt","convertPathsToAbsoluteValues","ty","findCompLayers","refId","completeShapes","shapes","comp","findComp","__used","parse","ks","checkVersion","minimum","animVersionString","animVersion","checkText","minimumVersion","updateTextLayer","textLayer","documentData","iterateLayers","assets","checkChars","chars","charData","ip","st","sr","sk","sa","checkPathProperties","pathData","checkColors","iterateShapes","checkShapes","completeClosingShapes","closed","cl","moduleOb","__complete","completeChars","dataFunctionManager","assetLoader","formatResponse","xhr","contentTypeHeader","getResponseHeader","responseType","response","responseText","load","fullPath","errorCallback","XMLHttpRequest","err","onreadystatechange","readyState","status","send","completeData","animation","process","onComplete","onError","createProcess","processId","location","origin","pathname","loadData","completeAnimation","ImagePreloader","proxyImage","canvas","getContext","fillStyle","fillRect","imageLoaded","loadedAssets","totalImages","loadedFootagesCount","totalFootages","imagesLoadedCb","footageLoaded","getAssetsPath","assetData","assetsPath","originalPath","imagePath","u","testImageLoaded","img","intervalId","getBBox","_imageLoaded","createFootageData","ob","footageData","_footageLoaded","ImagePreloaderFactory","images","loadAssets","cb","_createImageData","setAssetsPath","setPath","loadedImages","loadedFootages","getAsset","createImgData","crossOrigin","createImageData","setAttributeNS","_elementHelper","append","setCacheType","elementHelper","BaseEvent","triggerEvent","_cbs","callbacks","splice","markerParser","parsePayloadLines","line","lines","keysCount","_markers","markers","_marker","markerData","tm","duration","dr","cm","_","__","ProjectInterface","registerComposition","compositions","_thisProjectFunction","nm","prepareFrame","xt","currentFrame","compInterface","renderers","registerRenderer","getRenderer","_typeof$4","AnimationItem","isLoaded","currentRawFrame","frameRate","frameMult","playSpeed","playDirection","playCount","animationID","timeCompleted","segmentPos","isSubframeEnabled","_idle","_completedLoop","projectInterface","imagePreloader","audioController","configAnimation","onSetupError","onSegmentComplete","drawnFrameEvent","setParams","params","wrapper","animType","RendererClass","globalData","defs","setProjectInterface","autoloadSegments","initialSegment","setupAnimation","lastIndexOf","substr","trigger","setData","wrapperAttributes","getNamedItem","prerender","includeLayers","newLayers","fonts","fontManager","addChars","addFonts","initExpressions","loadNextSegment","segment","segmentPath","loadSegments","imagesLoaded","checkLoaded","preloadImages","animData","fr","searchExtraCompositions","updaFrameModifier","waitForFontsLoaded","triggerConfigError","rendererType","initItems","gotoFrame","resize","updateContainerSize","setSubframe","renderFrame","triggerRenderFrameError","togglePause","setCurrentRawFrameValue","getMarkerData","markerName","marker","goToAndStop","isFrame","numValue","Number","frameModifier","goToAndPlay","advanceTime","nextValue","_isComplete","checkSegments","adjustSegment","setSegment","init","pendingFrame","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onSegmentStart","onDestroy","getAssetData","show","getDuration","updateDocumentData","getElementByPath","animationManager","registeredAnimations","initTime","playingAnimationsNum","_stopped","_isFrozen","removeElement","ev","animItem","subtractPlayingCount","registerAnimation","elem","addPlayingCount","activate","nowTime","elapsedTime","requestAnimationFrame","searchAnimations","standalone","animElements","getElementsByClassName","lenAnims","setAttribute","getElementsByTagName","innerText","div","unfreeze","getRegisteredAnimations","animations","BezierFactory","beziers","bezEasing","BezierEasing","float32ArraySupported","aA1","aA2","calcBezier","aT","getSlope","points","_p","_mSampleValues","_precomputed","x","mX1","mY1","mX2","mY2","_precompute","_getTForX","_calcSampleValues","aX","mSampleValues","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","pooling","poolFactory","initialLength","_release","_length","_maxLength","pool","newElement","release","bezierLengthPool","addedLength","percents","lengths","segmentsLengthPool","totalLength","bezFunction","math","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","getBezierLength","pt1","pt2","pt3","pt4","ptCoord","perc","ptDistance","curveSegments","lastPoint","lengthData","BezierData","segmentLength","PointData","partial","partialLength","buildBezierData","storedData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","dir","bezierSegmentPoints","getSegmentsLength","shapeData","segmentsLength","pathV","pathO","pathI","getNewSegment","startPerc","endPerc","t0","t1","u0","u1","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","getPointInSegment","percent","pointOnLine3D","z1","z2","z3","diffDist","dist1","dist2","dist3","bez","PropertyFactory","initFrame","mathAbs","interpolateValue","frameNum","caching","offsetTime","propType","pv","keyData","nextKeyData","keyframeMetadata","fnc","iterationIndex","keyframes","keyframesMetadata","endValue","nextKeyTime","keyTime","ti","ind","__fnct","getBezierEasing","y","n","segmentPerc","distanceInLine","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quat","qx","qy","qz","qw","heading","atan2","attitude","asin","bank","quaternionToEuler","omega","cosom","sinom","scale0","scale1","ax","ay","az","aw","bx","by","bz","bw","acos","sin","slerp","createQuaternion","c1","cos","c2","c3","s1","s2","s3","getValueAtCurrentTime","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","mult","_mdf","processEffectsSequence","frameId","effectsSequence","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","addDynamicProperty","ValueProperty","vel","getValue","MultiDimensionalProperty","KeyframedValueProperty","KeyframedMultidimensionalProperty","arrLen","getProp","DynamicPropertyContainer","dynamicProperties","_isAnimated","iterateDynamicProperties","initDynamicPropertyContainer","pointPool","ShapePath","setPathData","setLength","doubleArrayLength","setXYAt","setTripleAt","vX","vY","oX","oY","iX","iY","reverse","newPath","vertices","outPoints","inPoints","cnt","shapePool","shapePath","cloned","ShapeCollection","addShape","releaseShapes","shapeCollectionPool","newShapeCollection","shapeCollection","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","localShapeCollection","shape1","shape2","shapesEqual","ShapeProperty","KeyframedShapeProperty","EllShapeProperty","cPoint","EllShapePropertyFactory","convertEllToPath","p0","p1","s0","_cw","_v","StarShapeProperty","StarShapePropertyFactory","sy","ir","convertToPath","convertStarToPath","convertPolygonToPath","or","os","rad","roundness","perimSegment","numPts","angle","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","currentAng","ox","oy","RectShapeProperty","RectShapePropertyFactory","convertRectToPath","v0","v1","Matrix","_cos","_sin","_tan","tan","_rnd","rotate","mCos","mSin","rotateX","rotateY","rotateZ","shear","sx","skew","skewFromAxis","scale","sz","setTransform","translate","tx","transform","a2","b2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_identityCalculated","a1","b1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","isIdentity","_identity","equals","matr","cloneFromProps","applyToPoint","z","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","p4","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","_typeof$3","lottie","setLocation","href","setSubframeRendering","setPrefix","prefix","setQuality","inBrowser","installPlugin","plugin","getFactory","checkReady","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","decodeURIComponent","useWebWorker","setIDPrefix","__getFactory","scripts","myScript","define","bodymovin","ShapeModifiers","modifiers","registerModifier","getModifier","ShapeModifier","TrimModifier","PuckerAndBloatModifier","initModifierProperties","addShapeToModifier","setAsAnimated","processKeys","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","segmentOb","shapeSegments","shapeS","shapeE","releasePathsData","processShapes","shapePaths","_s","totalShapeLength","edges","newShapesData","addShapes","lastShape","pop","addPaths","newPaths","addSegment","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","processPath","centerPoint","pathLength","clonedPath","TransformPropertyFactory","defaultVector","TransformProperty","pre","appliedTransformations","py","pz","rx","ry","rz","_isDirty","applyToMatrix","mat","forceRender","precalculateMatrix","autoOriented","v2","getValueAtTime","autoOrient","_addDynamicProperty","getTransformProperty","RepeaterModifier","RoundCornersModifier","getFontProperties","fontData","styles","fStyle","fWeight","weight","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","matrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","unshift","resetElements","elements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","items","itemsTransform","cont","hasReloaded","copies","group","ix","reloadShapes","elems","transformData","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","rd","currentV","currentI","currentO","closerV","distance","newPosPerc","FontManager","emptyChar","combinedCharacters","surrogateModifiers","zeroWidthJoiner","setUpNode","font","family","fontFamily","fontSize","fontVariant","fontStyle","fontWeight","letterSpacing","offsetWidth","familyArray","enabledFamilies","trimFontOptions","createHelper","helper","engine","fontProps","tHelper","fFamily","textContent","fClass","tCanvasHelper","OffscreenCanvas","measureText","text","getComputedTextLength","Font","typekitLoaded","_warned","now","setIsLoadedBinded","setIsLoaded","checkLoadedFontsBinded","checkLoadedFonts","isModifier","firstCharCode","secondCharCode","sum","isZeroWidthJoiner","isCombinedCharacter","_char3","found","ch","cache","fontArr","_pendingFonts","loadedSelector","shouldLoadFont","loaded","monoCase","sansCase","fPath","fOrigin","querySelectorAll","rel","sc","getCharData","_char","getFontByName","fName","_char2","fontName","doubleSize","singleSize","loadedCount","removeChild","RenderableElement","initRenderable","isInRange","isTransparent","renderableComponents","addRenderableComponent","removeRenderableComponent","prepareRenderableFrame","num","checkLayerLimits","checkTransparency","finalTransform","mProp","renderConfig","hideOnTransparent","renderRenderable","sourceRectAtTime","getLayerSize","textData","MaskManagerInterface","MaskInterface","mask","_mask","_data","maskManager","_masksInterfaces","viewData","ExpressionPropertyInterface","defaultUnidimensionalValue","defaultMultidimensionalValue","completeProperty","expressionValue","getVelocityAtTime","numKeys","valueProp","valueAtTime","speedAtTime","getSpeedAtTime","velocityAtTime","propertyGroup","defaultGetter","UnidimensionalPropertyInterface","arrValue","MultidimensionalPropertyInterface","TransformExpressionInterface","_thisFunction","rotation","xRotation","yRotation","xPosition","yPosition","zPosition","anchorPoint","opacity","_px","_py","_pz","_transformFactory","LayerExpressionInterface","getMatrix","toWorldMat","_elem","toWorldVec","applyPoint","toWorld","fromWorldVec","invertPoint","fromWorld","hierarchy","fromComp","sampleImage","transformInterface","_thisLayerFunction","shapeInterface","effect","textInterface","toComp","anchorPointDescriptor","hasParent","layerInterface","anchor_point","active","startTime","inPoint","outPoint","_name","registerMaskInterface","registerEffectsInterface","effects","propertyGroupFactory","interfaceFunction","parentPropertyGroup","PropertyInterface","propertyName","EffectsExpressionInterface","createGroupInterface","groupInterface","ef","mn","effectElements","_propertyGroup","createValueInterface","numProperties","np","enabled","en","expressionProperty","setGroupProperty","createEffectsInterface","effectsManager","effectsData","CompExpressionInterface","layer","pixelAspect","compSize","frameDuration","displayStartTime","numLayers","ShapePathInterface","propertyIndex","ShapeExpressionInterface","iterateElements","groupInterfaceFactory","fillInterfaceFactory","strokeInterfaceFactory","trimInterfaceFactory","ellipseInterfaceFactory","starInterfaceFactory","rectInterfaceFactory","roundedInterfaceFactory","repeaterInterfaceFactory","gradientFillInterfaceFactory","content","interfaces","transformInterfaceFactory","cix","contentsInterfaceFactory","startPoint","endPoint","_dashPropertyGroup","dashOb","addPropertyToDashOb","dataProps","strokeWidth","dash","skewAxis","outerRadius","outerRoundness","innerRoundness","innerRadius","radius","_interfaceFunction","TextExpressionInterface","_sourceText","sourceText","textProperty","stringValue","currentData","_prevValue","getBlendMode","blendModeEnums","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","EffectsManager","effectItem","GroupEffect","BaseElement","FrameElement","_typeof$2","eff","checkMasks","effectsInterface","shapesData","itemsData","setBlendMode","blendModeValue","bm","baseElement","layerElement","initBaseData","layerId","getType","prepareProperties","isVisible","_isParent","FootageInterface","dataInterfaceFactory","outlineInterface","currentPropertyName","currentProperty","getFootageData","searchProperty","propertyNameIndex","outlineInterfaceFactory","dataInterface","FootageElement","imageLoader","AudioElement","_isPlaying","_canPlay","_currentTime","_volumeMultiplier","_previousVolume","_placeholder","lv","au","BaseRenderer","TransformElement","MaskElement","maskElement","solidPath","rect","expansor","feMorph","properties","count","currentMasks","maskType","maskRef","getShapeProp","lastPath","filterID","expan","lastOperator","filterId","lastRadius","createLayerSolidPath","invRect","drawPath","maskedElement","getBaseElement","timeRemapped","totalVolume","volumeValue","checkLayers","buildItem","checkPendingElements","createItem","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","createFootage","buildAllItems","pInterface","progressiveLoad","buildElementParenting","parentName","setAsParent","setHierarchy","addPendingElement","pendingElements","pathValue","setupGlobalData","fontsContainer","animationItem","initTransform","_matMdf","_opMdf","ao","renderTransform","finalMat","globalToLocal","transforms","ptNew","mHelper","getMaskProperty","isFirstFrame","getMaskelement","pathNodes","pathString","pathShapeValue","filtersFactory","filId","skipCoordinates","fil","feColorMatrix","featureSupport","registeredEffects","idPrefix","SVGEffects","filterManager","createFilter","filters","Effect","countsAsEffect","registerEffect","SVGBaseElement","HierarchyElement","RenderableDOMElement","IImageElement","initElement","sourceRect","ProcessedElement","IShapeElement","initRendererElement","createContainerElements","matteElement","transformedElement","_sizeChanged","gg","layerElementParent","masker","createAlphaToLuminanceFilter","maskGroup","maskGrouper","feCTr","feFunc","alphaRect","ln","hd","cp","clipId","cpGroup","renderElement","destroyBaseElement","createRenderableComponents","renderableEffectsManager","setMatte","initHierarchy","checkParenting","createContent","renderInnerContent","innerElem","pr","imagePreserveAspectRatio","addShapeToModifiers","shapeModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","searchProcessedElement","processedElements","addProcessedElement","lineCapEnum","lineJoinEnum","SVGShapeData","transformers","level","caches","lStr","lvl","SVGStyleData","pElem","msElem","DashProperty","dashStr","dashArray","dashoffset","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGNoStyleData","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","SVGGradientFillStyleData","initGradientData","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","SVGTransformData","comparePoints","stops","setGradientData","setGradientOpacity","pathElement","gradientId","gfill","gf","cst","opacityId","maskId","opFill","lc","lj","ml","of","ms","ost","buildShapeString","_o","shapeString","SVGElementsRenderer","_identityMatrix","_matrixHelper","renderContentTransform","styleData","itemData","renderNoop","renderPath","pathStringTransformed","redraw","iterations","lLen","renderFill","styleElem","renderGradientStroke","renderGradient","renderStroke","hasOpacity","attr1","attr2","cValues","oValues","ang","dist","createRenderFunction","SVGShapeElement","stylesList","animatedContents","LetterProps","sw","fc","TextProperty","_frameId","keysIndex","canResize","minimumFontSize","ascent","boxWidth","defaultBoxWidth","justifyOffset","lh","lineWidths","ls","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","completeTextData","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","createShapeElement","ownTransformers","setElementStyles","currentTransform","processedPos","ownStyles","ownModifiers","renderShape","animatedContent","updated","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","currentIndex","textKeys","buildFinalText","charCode","charactersArray","shouldCombine","newLineFlag","letters","anchorGrouping","currentSize","currentPos","currentLine","lineWidth","maxLineWidth","trackingOffset","currentHeight","boxHeight","lastSpaceIndex","currentChar","uncollapsedSpaces","an","anIndexes","animatorJustifyOffset","extra","animatorData","letterData","based","animators","indexes","fh","fs","fb","rn","totalChars","newInd","currentInd","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","TextSelectorProp","TextSelectorPropFactory","_currentTextLength","finalS","finalE","xe","ne","getMult","easer","tot","smoothness","threshold","newCharsFlag","divisor","getTextSelectorProp","TextAnimatorDataProperty","animatorProps","defaultData","textAnimatorAnimatables","TextAnimatorProperty","renderType","_hasMaskedPath","_textData","_renderType","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","ITextElement","searchProperties","getMeasures","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","prevPoint","tanAngle","matrixHelper","renderedLettersCount","tLength","pi","letterValue","yOff","firstLine","offf","xPathPos","yPathPos","elemOpacity","letterSw","letterSc","letterFc","letterO","initPathPos","initSegmentInd","initPointInd","letterM","letterP","defaultPropsArray","animatorFirstCharOffset","justifyOffsetMult","isNewLine","animatorOffset","rot","atan","textAnimator","buildNewText","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","emptyShapeData","SVGTextLottieElement","textSpans","ISolidElement","NullElement","SVGRendererBase","ICompElement","SVGCompElement","supports3d","SVGRenderer","svgElement","titleElement","titleId","description","descElement","descId","preserveAspectRatio","contentVisibility","viewBoxOnly","viewBoxSize","focusable","filterSize","destroyed","CVContextData","saved","cArrPos","cTr","cO","savedOp","ShapeTransformManager","sequences","sequenceList","transform_key_count","CVEffects","CVMaskElement","hasMasks","CVBaseElement","CVShapeData","transformsManager","styledShapes","styledShape","addTransformSequence","trNodes","CVShapeElement","CVTextElement","stroke","fill","currentRender","sWidth","fValue","CVImageElement","CVSolidElement","CanvasRendererBase","clearCanvas","dpr","devicePixelRatio","currentGlobalAlpha","contextData","transformMat","CVCompElement","CanvasRenderer","HBaseElement","HSolidElement","HShapeElement","shapesContainer","currentBBox","HTextElement","textPaths","isMasked","HCameraElement","pe","_prevMat","HImageElement","HybridRendererBase","threeDElements","camera","HCompElement","HybridRenderer","singleShape","textContainer","buildTextContents","textArray","textContents","currentTextContent","fromCharCode","buildShapeData","shapeItem","tSpan","usesGlyphs","cachedSpansLength","span","childSpan","glyph","glyphElement","_debug","tElement","justify","textBox","bbox","renderedLetter","textSpan","appendElementInPos","nextElement","insertBefore","setElements","getElements","destroyElements","duplicate","newLength","currentSavedOp","sequence","processSequence","processSequences","getNewKey","canvasContext","beginPath","moveTo","lineTo","bezierCurveTo","save","clip","createElements","blendMode","globalCompositeOperation","hideElement","showElement","forceRealStack","ctxTransform","ctxOpacity","restore","transformHelper","dashResetter","preTransforms","co","wi","da","addTransformToStyleList","removeTransformFromStyleList","closeStyles","ownTransforms","_shouldRender","renderShapeTransform","parentTransform","groupTransform","drawLayer","nodes","currentStyle","coOp","strokeStyle","grd","lineCap","lineJoin","miterLimit","setLineDash","lineDashOffset","closePath","isMain","renderGradientFill","renderStyledShape","shapeNodes","groupTransformMat","createLinearGradient","createRadialGradient","addColorStop","hasFill","hasStroke","commands","pathArr","commandsCounter","lastFill","lastStroke","lastStrokeW","widthCrop","heightCrop","imgW","imgH","imgRel","canvasRel","par","drawImage","cProps","trProps","globalAlpha","actionFlag","popped","containerStyle","mozTransformOrigin","transformCanvas","isDashed","elementWidth","elementHeight","elementRel","animationRel","offsetHeight","fillType","clearRect","checkBlendMode","tg","transformedElementStyle","matrixValue","webkitTransform","addEffects","backgroundColor","_renderShapeFrame","shapeCont","getTransformedPoint","calculateShapeBoundingBox","boundingBox","vPoint","oPoint","nextIPoint","nextVPoint","checkBounds","getBoundsOfCurve","bounds","shapeBoundingBox","xMax","right","yMax","bottom","tempBoundingBox","p3","b2ac","t2","calculateF","calculateBoundingBox","currentBoxContains","box","changed","shapeStyle","shapeTransform","compW","compH","innerElemStyle","textColor","lineHeight","tParent","tCont","tContStyle","tContTranslation","tStyle","tSpanTranslation","svgStyle","translation","textPath","svgTransform","setup","perspectiveStyle","perspectiveElem","perspective","webkitPerspective","mTransf","diffVector","mag","lookDir","lookLengthOnXZ","mRotationX","mRotationY","hasMatrixChanged","matValue","Image","imageElem","newDOMElement","ddd","addTo3dContainer","nextDOMElement","nextLayer","getThreeDContainerByPos","startPos","endPos","createThreeDContainer","threeDContainerData","build3dContainers","lastThreeDContainerData","currentContainer","resizerElem","svg","cWidth","cHeight","floatingContainer","_createBaseContainerElements","Expressions","stackCount","registers","pushExpression","popExpression","releaseInstances","registerExpressionProperty","expression","_typeof$1","seedRandom","startdenom","significance","ARC4","keylen","copy","mixkey","smear","stringseed","tostring","shortseed","flatten","depth","typ","entropy","Uint8Array","crypto","msCrypto","getRandomValues","browser","plugins","screen","autoseed","arc4","prng","int32","quick","pass","is_math_call","initialize$2","SHAPE","ExpressionManager","fetch","frames","$bm_isInstanceOfArray","isNumerable","tOfV","$bm_neg","tOfA","lenA","retArr","easeInBez","easeOutBez","easeInOutBez","tOfB","lenB","sub","mul","mod","$bm_sum","$bm_sub","$bm_mul","$bm_div","$bm_mod","clamp","mm","radiansToDegrees","radians_to_degrees","degreesToRadians","degrees_to_radians","helperLengthArray","arr1","arr2","normalize","vec","rgbToHsl","hue2rgb","hslToRgb","linear","tMin","tMax","value1","value2","_tMin","rnd","createPath","inTangents","outTangents","inVertexPoint","outVertexPoint","arrPlaceholder","initiateExpression","needsVelocity","_needsRandom","elemType","$bm_transform","thisProperty","loopIn","loop_in","loopOut","loop_out","smooth","fromCompToSurface","thisLayer","thisComp","scoped_bm_rt","expression_function","eval","wiggle","freq","amp","iWiggle","lenWiggle","addedAmps","periods","loopInDuration","loopOutDuration","velocity","textIndex","textTotal","selectorValue","lookAt","elem1","elem2","fVec","pitch","easeOut","val1","val2","applyEase","easeIn","ease","iKey","lenKey","nearestKey","obKey","framesToTime","fps","timeToFrames","seedrandom","randSeed","posterizeTime","framesPerSecond","executeExpression","_value","frameExpressionId","__preventDeadCodeRemoval","expressionHelpers","searchExpressions","_cachingAtTime","getStaticValueAtTime","addPropertyDecorator","durationFlag","cycleDuration","firstKeyFrame","ret","lastKeyFrame","initV","endV","repeats","lastValue","nextLastValue","firstValue","nextFirstValue","samples","sampleValue","sampleFrequency","getTransformValueAtTime","_transformCachingAtTime","anchor","rotationZ","rotationY","rotationX","orientation","positionX","positionY","positionZ","getTransformStaticValueAtTime","propertyGetProp","ShapePropertyConstructorFunction","getConstructorFunction","KeyframedShapePropertyConstructorFunction","getKeyframedConstructorFunction","ShapeExpressions","isClosed","pointOnPath","_segmentsLength","accumulatedLength","initIndex","endIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","tangentOnPath","normalOnPath","shapeValue","lastTime","propertyGetShapeProp","trims","initialize$1","addDecorator","getExpressionValue","calculateExpression","isKeyframed","hasExpressions","initialize","SVGComposableEffect","SVGTintFilter","matrixFilter","feMerge","createMergeNode","SVGFillFilter","SVGStrokeEffect","initialized","SVGTritoneFilter","feComponentTransfer","feFuncR","feFuncG","feFuncB","SVGProLevelsFilter","createFeFunc","feFuncA","feFuncRComposed","feFuncGComposed","feFuncBComposed","SVGDropShadowEffect","feGaussianBlur","feOffset","feFlood","feComposite","resultId","ins","feMergeNode","colorBlack","colorWhite","groupPath","elemChildren","childNodes","removeAttribute","pathMasker","dasharrayValue","getTotalLength","lineLength","units","color1","color2","color3","tableR","tableG","tableB","getTableValue","inputBlack","inputWhite","gamma","outputBlack","outputWhite","colorValue","table","outputDelta","inputDelta","col","_svgMatteSymbols","SVGMatte3Effect","filterElem","SVGGaussianBlurEffect","findSymbol","replaceInParent","symbolId","nextChild","useElem","setElementAsMask","symbol","sigma","dimensions","sigmaX","sigmaY","edgeMode","__webpack_amd_options__","__awaiter","thisArg","_arguments","generator","reject","fulfilled","rejected","__generator","label","sent","trys","ops","verb","__read","ar","COMMON_MIME_TYPES","Map","toFileWithPath","ext","withMimeType","webkitRelativePath","FILES_TO_IGNORE","fromEvent","dataTransfer","getDataTransferFiles","getInputFiles","fromList","dt","toFilePromises","noIgnoredFiles","webkitGetAsEntry","fromDataTransferItem","entry","isDirectory","fromDirEntry","acc","getAsFile","fwp","fromEntry","fromFileEntry","reader","createReader","readEntries","batch","err_1","fileAccepted","accept","accepts","fileMatchSize","minSize","maxSize","isDefined","allFilesAccepted","multiple","isPropagationStopped","cancelBubble","isEvtWithFiles","onDocumentDragOver","isIe","isEdge","isIeOrEdge","composeEventHandlers","fns","_len2","_key2","_toConsumableArray","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","_slicedToArray","_arrayWithHoles","_arr","_n","_d","_e","_iterableToArrayLimit","_nonIterableRest","ownKeys","enumerableOnly","_objectSpread","getOwnPropertyDescriptors","_objectWithoutProperties","sourceSymbolKeys","Dropzone","forwardRef","_useDropzone","_ref2","_ref2$disabled","_ref2$getFilesFromEve","getFilesFromEvent","_ref2$maxSize","Infinity","_ref2$minSize","_ref2$multiple","onDragEnter","onDragLeave","onDragOver","onDrop","onDropAccepted","onDropRejected","onFileDialogCancel","_ref2$preventDropOnDo","preventDropOnDocument","_ref2$noClick","noClick","_ref2$noKeyboard","noKeyboard","_ref2$noDrag","noDrag","_ref2$noDragEventsBub","noDragEventsBubbling","rootRef","inputRef","_useReducer","useReducer","reducer","_useReducer2","dispatch","isFocused","isFileDialogActive","draggedFiles","openFileDialog","click","onWindowFocus","onKeyDownCb","isEqualNode","keyCode","onFocusCb","onBlurCb","onClickCb","dragTargetsRef","onDocumentDrop","onDragEnterCb","isDragActive","onDragOverCb","dropEffect","_unused","onDragLeaveCb","targets","onDropCb","rejectedFiles","composeHandler","composeKeyboardHandler","composeDragHandler","getRootProps","useMemo","_ref3","_ref3$refKey","refKey","rest","onInputElementClick","getInputProps","_ref4","_ref4$refKey","autoComplete","fileCount","isDragAccept","isDragReject","useDropzone","useImperativeHandle","Fragment"],"mappings":"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","file":"static/js/4.3cea90fd.chunk.js","sourcesContent":["var core = module.exports = { version: '2.6.12' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\nvar React = require('react');\nvar factory = require('./factory');\n\nif (typeof React === 'undefined') {\n  throw Error(\n    'create-react-class could not find the React object. If you are using script tags, ' +\n      'make sure that React is being loaded before create-react-class.'\n  );\n}\n\n// Hack to grab NoopUpdateQueue from isomorphic React\nvar ReactNoopUpdateQueue = new React.Component().updater;\n\nmodule.exports = factory(\n  React.Component,\n  React.isValidElement,\n  ReactNoopUpdateQueue\n);\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","module.exports = true;\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","exports.f = {}.propertyIsEnumerable;\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"hidden\", \"widths\", \"tag\", \"check\", \"size\", \"for\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType, isObject } from './utils';\nvar colWidths = ['xs', 'sm', 'md', 'lg', 'xl'];\nvar stringOrNumberProp = PropTypes.oneOfType([PropTypes.number, PropTypes.string]);\nvar columnProps = PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.number, PropTypes.shape({\n  size: stringOrNumberProp,\n  order: stringOrNumberProp,\n  offset: stringOrNumberProp\n})]);\nvar propTypes = {\n  children: PropTypes.node,\n  hidden: PropTypes.bool,\n  check: PropTypes.bool,\n  size: PropTypes.string,\n  for: PropTypes.string,\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  xs: columnProps,\n  sm: columnProps,\n  md: columnProps,\n  lg: columnProps,\n  xl: columnProps,\n  widths: PropTypes.array\n};\nvar defaultProps = {\n  tag: 'label',\n  widths: colWidths\n};\n\nvar getColumnSizeClass = function getColumnSizeClass(isXs, colWidth, colSize) {\n  if (colSize === true || colSize === '') {\n    return isXs ? 'col' : \"col-\" + colWidth;\n  } else if (colSize === 'auto') {\n    return isXs ? 'col-auto' : \"col-\" + colWidth + \"-auto\";\n  }\n\n  return isXs ? \"col-\" + colSize : \"col-\" + colWidth + \"-\" + colSize;\n};\n\nvar Label = function Label(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      hidden = props.hidden,\n      widths = props.widths,\n      Tag = props.tag,\n      check = props.check,\n      size = props.size,\n      htmlFor = props.for,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var colClasses = [];\n  widths.forEach(function (colWidth, i) {\n    var columnProp = props[colWidth];\n    delete attributes[colWidth];\n\n    if (!columnProp && columnProp !== '') {\n      return;\n    }\n\n    var isXs = !i;\n    var colClass;\n\n    if (isObject(columnProp)) {\n      var _classNames;\n\n      var colSizeInterfix = isXs ? '-' : \"-\" + colWidth + \"-\";\n      colClass = getColumnSizeClass(isXs, colWidth, columnProp.size);\n      colClasses.push(mapToCssModules(classNames((_classNames = {}, _classNames[colClass] = columnProp.size || columnProp.size === '', _classNames[\"order\" + colSizeInterfix + columnProp.order] = columnProp.order || columnProp.order === 0, _classNames[\"offset\" + colSizeInterfix + columnProp.offset] = columnProp.offset || columnProp.offset === 0, _classNames))), cssModule);\n    } else {\n      colClass = getColumnSizeClass(isXs, colWidth, columnProp);\n      colClasses.push(colClass);\n    }\n  });\n  var classes = mapToCssModules(classNames(className, hidden ? 'sr-only' : false, check ? 'form-check-label' : false, size ? \"col-form-label-\" + size : false, colClasses, colClasses.length ? 'col-form-label' : false), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({\n    htmlFor: htmlFor\n  }, attributes, {\n    className: classes\n  }));\n};\n\nLabel.propTypes = propTypes;\nLabel.defaultProps = defaultProps;\nexport default Label;","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2020 Denis Pushkarev (zloirock.ru)'\n});\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","exports.f = Object.getOwnPropertySymbols;\n","module.exports = {};\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","exports.f = require('./_wks');\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"inline\", \"tag\", \"innerRef\"];\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  children: PropTypes.node,\n  inline: PropTypes.bool,\n  tag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'form'\n};\n\nvar Form = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Form, _Component);\n\n  function Form(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    _this.getRef = _this.getRef.bind(_assertThisInitialized(_this));\n    _this.submit = _this.submit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = Form.prototype;\n\n  _proto.getRef = function getRef(ref) {\n    if (this.props.innerRef) {\n      this.props.innerRef(ref);\n    }\n\n    this.ref = ref;\n  };\n\n  _proto.submit = function submit() {\n    if (this.ref) {\n      this.ref.submit();\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        className = _this$props.className,\n        cssModule = _this$props.cssModule,\n        inline = _this$props.inline,\n        Tag = _this$props.tag,\n        innerRef = _this$props.innerRef,\n        attributes = _objectWithoutPropertiesLoose(_this$props, _excluded);\n\n    var classes = mapToCssModules(classNames(className, inline ? 'form-inline' : false), cssModule);\n    return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n      ref: innerRef,\n      className: classes\n    }));\n  };\n\n  return Form;\n}(Component);\n\nForm.propTypes = propTypes;\nForm.defaultProps = defaultProps;\nexport default Form;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"row\", \"disabled\", \"check\", \"inline\", \"tag\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  children: PropTypes.node,\n  row: PropTypes.bool,\n  check: PropTypes.bool,\n  inline: PropTypes.bool,\n  disabled: PropTypes.bool,\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar FormGroup = function FormGroup(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      row = props.row,\n      disabled = props.disabled,\n      check = props.check,\n      inline = props.inline,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var classes = mapToCssModules(classNames(className, row ? 'row' : false, check ? 'form-check' : 'form-group', check && inline ? 'form-check-inline' : false, check && disabled ? 'disabled' : false), cssModule);\n\n  if (Tag === 'fieldset') {\n    attributes.disabled = disabled;\n  }\n\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nFormGroup.propTypes = propTypes;\nFormGroup.defaultProps = defaultProps;\nexport default FormGroup;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"type\", \"bsSize\", \"valid\", \"invalid\", \"tag\", \"addon\", \"plaintext\", \"innerRef\"];\n\n/* eslint react/prefer-stateless-function: 0 */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, warnOnce, tagPropType } from './utils';\nvar propTypes = {\n  children: PropTypes.node,\n  type: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  bsSize: PropTypes.string,\n  valid: PropTypes.bool,\n  invalid: PropTypes.bool,\n  tag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func, PropTypes.string]),\n  plaintext: PropTypes.bool,\n  addon: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  type: 'text'\n};\n\nvar Input = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Input, _React$Component);\n\n  function Input(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.getRef = _this.getRef.bind(_assertThisInitialized(_this));\n    _this.focus = _this.focus.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = Input.prototype;\n\n  _proto.getRef = function getRef(ref) {\n    if (this.props.innerRef) {\n      this.props.innerRef(ref);\n    }\n\n    this.ref = ref;\n  };\n\n  _proto.focus = function focus() {\n    if (this.ref) {\n      this.ref.focus();\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        className = _this$props.className,\n        cssModule = _this$props.cssModule,\n        type = _this$props.type,\n        bsSize = _this$props.bsSize,\n        valid = _this$props.valid,\n        invalid = _this$props.invalid,\n        tag = _this$props.tag,\n        addon = _this$props.addon,\n        plaintext = _this$props.plaintext,\n        innerRef = _this$props.innerRef,\n        attributes = _objectWithoutPropertiesLoose(_this$props, _excluded);\n\n    var checkInput = ['radio', 'checkbox'].indexOf(type) > -1;\n    var isNotaNumber = new RegExp('\\\\D', 'g');\n    var fileInput = type === 'file';\n    var textareaInput = type === 'textarea';\n    var selectInput = type === 'select';\n    var rangeInput = type === 'range';\n    var Tag = tag || (selectInput || textareaInput ? type : 'input');\n    var formControlClass = 'form-control';\n\n    if (plaintext) {\n      formControlClass = formControlClass + \"-plaintext\";\n      Tag = tag || 'input';\n    } else if (fileInput) {\n      formControlClass = formControlClass + \"-file\";\n    } else if (rangeInput) {\n      formControlClass = formControlClass + \"-range\";\n    } else if (checkInput) {\n      if (addon) {\n        formControlClass = null;\n      } else {\n        formControlClass = 'form-check-input';\n      }\n    }\n\n    if (attributes.size && isNotaNumber.test(attributes.size)) {\n      warnOnce('Please use the prop \"bsSize\" instead of the \"size\" to bootstrap\\'s input sizing.');\n      bsSize = attributes.size;\n      delete attributes.size;\n    }\n\n    var classes = mapToCssModules(classNames(className, invalid && 'is-invalid', valid && 'is-valid', bsSize ? \"form-control-\" + bsSize : false, formControlClass), cssModule);\n\n    if (Tag === 'input' || tag && typeof tag === 'function') {\n      attributes.type = type;\n    }\n\n    if (attributes.children && !(plaintext || type === 'select' || typeof Tag !== 'string' || Tag === 'select')) {\n      warnOnce(\"Input with a type of \\\"\" + type + \"\\\" cannot have children. Please use \\\"value\\\"/\\\"defaultValue\\\" instead.\");\n      delete attributes.children;\n    }\n\n    return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n      ref: innerRef,\n      className: classes,\n      \"aria-invalid\": invalid\n    }));\n  };\n\n  return Input;\n}(React.Component);\n\nInput.propTypes = propTypes;\nInput.defaultProps = defaultProps;\nexport default Input;","'use strict';\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction ToObject(val) {\n\tif (val == null) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction ownEnumerableKeys(obj) {\n\tvar keys = Object.getOwnPropertyNames(obj);\n\n\tif (Object.getOwnPropertySymbols) {\n\t\tkeys = keys.concat(Object.getOwnPropertySymbols(obj));\n\t}\n\n\treturn keys.filter(function (key) {\n\t\treturn propIsEnumerable.call(obj, key);\n\t});\n}\n\nmodule.exports = Object.assign || function (target, source) {\n\tvar from;\n\tvar keys;\n\tvar to = ToObject(target);\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = arguments[s];\n\t\tkeys = ownEnumerableKeys(Object(from));\n\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tto[keys[i]] = from[keys[i]];\n\t\t}\n\t}\n\n\treturn to;\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lottieWeb = require('lottie-web');\n\nvar _lottieWeb2 = _interopRequireDefault(_lottieWeb);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Lottie = function (_React$Component) {\n  (0, _inherits3.default)(Lottie, _React$Component);\n\n  function Lottie() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, Lottie);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Lottie.__proto__ || (0, _getPrototypeOf2.default)(Lottie)).call.apply(_ref, [this].concat(args))), _this), _this.handleClickToPause = function () {\n      // The pause() method is for handling pausing by passing a prop isPaused\n      // This method is for handling the ability to pause by clicking on the animation\n      if (_this.anim.isPaused) {\n        _this.anim.play();\n      } else {\n        _this.anim.pause();\n      }\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(Lottie, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          options = _props.options,\n          eventListeners = _props.eventListeners;\n      var loop = options.loop,\n          autoplay = options.autoplay,\n          animationData = options.animationData,\n          rendererSettings = options.rendererSettings,\n          segments = options.segments;\n\n\n      this.options = {\n        container: this.el,\n        renderer: 'svg',\n        loop: loop !== false,\n        autoplay: autoplay !== false,\n        segments: segments !== false,\n        animationData: animationData,\n        rendererSettings: rendererSettings\n      };\n\n      this.options = (0, _extends3.default)({}, this.options, options);\n\n      this.anim = _lottieWeb2.default.loadAnimation(this.options);\n      this.registerEvents(eventListeners);\n    }\n  }, {\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate(nextProps /* , nextState */) {\n      /* Recreate the animation handle if the data is changed */\n      if (this.options.animationData !== nextProps.options.animationData) {\n        this.deRegisterEvents(this.props.eventListeners);\n        this.destroy();\n        this.options = (0, _extends3.default)({}, this.options, nextProps.options);\n        this.anim = _lottieWeb2.default.loadAnimation(this.options);\n        this.registerEvents(nextProps.eventListeners);\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.props.isStopped) {\n        this.stop();\n      } else if (this.props.segments) {\n        this.playSegments();\n      } else {\n        this.play();\n      }\n\n      this.pause();\n      this.setSpeed();\n      this.setDirection();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.deRegisterEvents(this.props.eventListeners);\n      this.destroy();\n      this.options.animationData = null;\n      this.anim = null;\n    }\n  }, {\n    key: 'setSpeed',\n    value: function setSpeed() {\n      this.anim.setSpeed(this.props.speed);\n    }\n  }, {\n    key: 'setDirection',\n    value: function setDirection() {\n      this.anim.setDirection(this.props.direction);\n    }\n  }, {\n    key: 'play',\n    value: function play() {\n      this.anim.play();\n    }\n  }, {\n    key: 'playSegments',\n    value: function playSegments() {\n      this.anim.playSegments(this.props.segments);\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      this.anim.stop();\n    }\n  }, {\n    key: 'pause',\n    value: function pause() {\n      if (this.props.isPaused && !this.anim.isPaused) {\n        this.anim.pause();\n      } else if (!this.props.isPaused && this.anim.isPaused) {\n        this.anim.pause();\n      }\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.anim.destroy();\n    }\n  }, {\n    key: 'registerEvents',\n    value: function registerEvents(eventListeners) {\n      var _this2 = this;\n\n      eventListeners.forEach(function (eventListener) {\n        _this2.anim.addEventListener(eventListener.eventName, eventListener.callback);\n      });\n    }\n  }, {\n    key: 'deRegisterEvents',\n    value: function deRegisterEvents(eventListeners) {\n      var _this3 = this;\n\n      eventListeners.forEach(function (eventListener) {\n        _this3.anim.removeEventListener(eventListener.eventName, eventListener.callback);\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _props2 = this.props,\n          width = _props2.width,\n          height = _props2.height,\n          ariaRole = _props2.ariaRole,\n          ariaLabel = _props2.ariaLabel,\n          isClickToPauseDisabled = _props2.isClickToPauseDisabled,\n          title = _props2.title;\n\n\n      var getSize = function getSize(initial) {\n        var size = void 0;\n\n        if (typeof initial === 'number') {\n          size = initial + 'px';\n        } else {\n          size = initial || '100%';\n        }\n\n        return size;\n      };\n\n      var lottieStyles = (0, _extends3.default)({\n        width: getSize(width),\n        height: getSize(height),\n        overflow: 'hidden',\n        margin: '0 auto',\n        outline: 'none'\n      }, this.props.style);\n\n      var onClickHandler = isClickToPauseDisabled ? function () {\n        return null;\n      } : this.handleClickToPause;\n\n      return (\n        // Bug with eslint rules https://github.com/airbnb/javascript/issues/1374\n        // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n        _react2.default.createElement('div', {\n          ref: function ref(c) {\n            _this4.el = c;\n          },\n          style: lottieStyles,\n          onClick: onClickHandler,\n          title: title,\n          role: ariaRole,\n          'aria-label': ariaLabel,\n          tabIndex: '0'\n        })\n      );\n    }\n  }]);\n  return Lottie;\n}(_react2.default.Component);\n\nexports.default = Lottie;\n\n\nLottie.propTypes = {\n  eventListeners: _propTypes2.default.arrayOf(_propTypes2.default.object),\n  options: _propTypes2.default.object.isRequired,\n  height: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n  width: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n  isStopped: _propTypes2.default.bool,\n  isPaused: _propTypes2.default.bool,\n  speed: _propTypes2.default.number,\n  segments: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  direction: _propTypes2.default.number,\n  ariaRole: _propTypes2.default.string,\n  ariaLabel: _propTypes2.default.string,\n  isClickToPauseDisabled: _propTypes2.default.bool,\n  title: _propTypes2.default.string\n};\n\nLottie.defaultProps = {\n  eventListeners: [],\n  isStopped: false,\n  isPaused: false,\n  speed: 1,\n  ariaRole: 'button',\n  ariaLabel: 'animation',\n  isClickToPauseDisabled: false,\n  title: ''\n};","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","module.exports = require('./_hide');\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","import * as React from 'react';\nimport { createContext, useContext, createElement, useState as useState$2, useRef as useRef$2, useEffect as useEffect$2, isValidElement, cloneElement, Fragment } from 'react';\n\nvar isUndefined = (val) => val === undefined;\n\nvar isNullOrUndefined = (value) => value === null || isUndefined(value);\n\nvar isArray = (value) => Array.isArray(value);\n\nconst isObjectType = (value) => typeof value === 'object';\r\nvar isObject = (value) => !isNullOrUndefined(value) && !isArray(value) && isObjectType(value);\n\nvar isHTMLElement = (value) => isObject(value) && value.nodeType === Node.ELEMENT_NODE;\n\nconst VALIDATION_MODE = {\r\n    onBlur: 'onBlur',\r\n    onChange: 'onChange',\r\n    onSubmit: 'onSubmit',\r\n};\r\nconst VALUE = 'value';\r\nconst UNDEFINED = 'undefined';\r\nconst EVENTS = {\r\n    BLUR: 'blur',\r\n    CHANGE: 'change',\r\n    INPUT: 'input',\r\n};\r\nconst INPUT_VALIDATION_RULES = {\r\n    max: 'max',\r\n    min: 'min',\r\n    maxLength: 'maxLength',\r\n    minLength: 'minLength',\r\n    pattern: 'pattern',\r\n    required: 'required',\r\n    validate: 'validate',\r\n};\r\nconst REGEX_IS_DEEP_PROP = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/;\r\nconst REGEX_IS_PLAIN_PROP = /^\\w*$/;\r\nconst REGEX_PROP_NAME = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\r\nconst REGEX_ESCAPE_CHAR = /\\\\(\\\\)?/g;\n\nfunction attachEventListeners({ field, handleChange, isRadioOrCheckbox, }) {\r\n    const { ref } = field;\r\n    if (isHTMLElement(ref) && ref.addEventListener && handleChange) {\r\n        ref.addEventListener(isRadioOrCheckbox ? EVENTS.CHANGE : EVENTS.INPUT, handleChange);\r\n        ref.addEventListener(EVENTS.BLUR, handleChange);\r\n    }\r\n}\n\nvar isKey = (value) => !isArray(value) &&\r\n    (REGEX_IS_PLAIN_PROP.test(value) || !REGEX_IS_DEEP_PROP.test(value));\n\nvar stringToPath = (string) => {\r\n    const result = [];\r\n    string.replace(REGEX_PROP_NAME, (match, number, quote, string) => {\r\n        result.push(quote ? string.replace(REGEX_ESCAPE_CHAR, '$1') : number || match);\r\n    });\r\n    return result;\r\n};\n\nfunction set(object, path, value) {\r\n    let index = -1;\r\n    const tempPath = isKey(path) ? [path] : stringToPath(path);\r\n    const length = tempPath.length;\r\n    const lastIndex = length - 1;\r\n    while (++index < length) {\r\n        const key = tempPath[index];\r\n        let newValue = value;\r\n        if (index !== lastIndex) {\r\n            const objValue = object[key];\r\n            newValue =\r\n                isObject(objValue) || isArray(objValue)\r\n                    ? objValue\r\n                    : !isNaN(tempPath[index + 1])\r\n                        ? []\r\n                        : {};\r\n        }\r\n        object[key] = newValue;\r\n        object = object[key];\r\n    }\r\n    return object;\r\n}\n\nvar transformToNestObject = (data) => Object.entries(data).reduce((previous, [key, value]) => {\r\n    if (!isKey(key)) {\r\n        set(previous, key, value);\r\n        return previous;\r\n    }\r\n    return Object.assign(Object.assign({}, previous), { [key]: value });\r\n}, {});\n\nvar get = (obj, path, defaultValue) => {\r\n    const result = path\r\n        .split(/[,[\\].]+?/)\r\n        .filter(Boolean)\r\n        .reduce((result, key) => (isNullOrUndefined(result) ? result : result[key]), obj);\r\n    return isUndefined(result) || result === obj\r\n        ? obj[path] || defaultValue\r\n        : result;\r\n};\n\nvar focusErrorField = (fields, fieldErrors) => {\r\n    for (const key in fields) {\r\n        if (get(fieldErrors, key)) {\r\n            const field = fields[key];\r\n            if (field) {\r\n                if (isHTMLElement(field.ref) && field.ref.focus) {\r\n                    field.ref.focus();\r\n                    break;\r\n                }\r\n                else if (field.options) {\r\n                    field.options[0].ref.focus();\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\n\nvar removeAllEventListeners = (ref, validateWithStateUpdate) => {\r\n    if (isHTMLElement(ref) && ref.removeEventListener) {\r\n        ref.removeEventListener(EVENTS.INPUT, validateWithStateUpdate);\r\n        ref.removeEventListener(EVENTS.CHANGE, validateWithStateUpdate);\r\n        ref.removeEventListener(EVENTS.BLUR, validateWithStateUpdate);\r\n    }\r\n};\n\nvar isRadioInput = (element) => !!element && element.type === 'radio';\n\nvar isCheckBoxInput = (element) => !!element && element.type === 'checkbox';\n\nfunction isDetached(element) {\r\n    if (!element) {\r\n        return true;\r\n    }\r\n    if (!(element instanceof HTMLElement) ||\r\n        element.nodeType === Node.DOCUMENT_NODE) {\r\n        return false;\r\n    }\r\n    return isDetached(element.parentNode);\r\n}\n\nvar isEmptyObject = (value) => isObject(value) && !Object.keys(value).length;\n\nfunction castPath(value) {\r\n    return isArray(value) ? value : stringToPath(value);\r\n}\r\nfunction baseGet(object, path) {\r\n    const updatePath = isKey(path) ? [path] : castPath(path);\r\n    const length = path.length;\r\n    let index = 0;\r\n    while (index < length) {\r\n        object = isUndefined(object) ? index++ : object[updatePath[index++]];\r\n    }\r\n    return index == length ? object : undefined;\r\n}\r\nfunction baseSlice(array, start, end) {\r\n    let index = -1;\r\n    let length = array.length;\r\n    if (start < 0) {\r\n        start = -start > length ? 0 : length + start;\r\n    }\r\n    end = end > length ? length : end;\r\n    if (end < 0) {\r\n        end += length;\r\n    }\r\n    length = start > end ? 0 : end - start;\r\n    const result = Array(length);\r\n    while (++index < length) {\r\n        result[index] = array[index + start];\r\n    }\r\n    return result;\r\n}\r\nfunction parent(object, path) {\r\n    return path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\r\n}\r\nfunction baseUnset(object, path) {\r\n    const updatePath = isKey(path) ? [path] : castPath(path);\r\n    const childObject = parent(object, updatePath);\r\n    const key = updatePath[updatePath.length - 1];\r\n    const result = !(childObject != null) || delete childObject[key];\r\n    let previousObjRef = undefined;\r\n    for (let k = 0; k < updatePath.slice(0, -1).length; k++) {\r\n        let index = -1;\r\n        let objectRef = undefined;\r\n        const currentPaths = updatePath.slice(0, -(k + 1));\r\n        const currentPathsLength = currentPaths.length - 1;\r\n        if (k > 0) {\r\n            previousObjRef = object;\r\n        }\r\n        while (++index < currentPaths.length) {\r\n            const item = currentPaths[index];\r\n            objectRef = objectRef ? objectRef[item] : object[item];\r\n            if (currentPathsLength === index) {\r\n                if (isObject(objectRef) && isEmptyObject(objectRef)) {\r\n                    previousObjRef ? delete previousObjRef[item] : delete object[item];\r\n                }\r\n                else if (isArray(objectRef) &&\r\n                    !objectRef.filter(data => isObject(data) && !isEmptyObject(data))\r\n                        .length) {\r\n                    delete previousObjRef[item];\r\n                }\r\n            }\r\n            previousObjRef = objectRef;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction unset(object, paths) {\r\n    paths.forEach(path => {\r\n        baseUnset(object, path);\r\n    });\r\n    return object;\r\n}\n\nfunction findRemovedFieldAndRemoveListener(fields, handleChange, field, forceDelete) {\r\n    if (!field) {\r\n        return;\r\n    }\r\n    const { ref, ref: { name, type }, mutationWatcher, } = field;\r\n    if (!type) {\r\n        delete fields[name];\r\n        return;\r\n    }\r\n    const fieldValue = fields[name];\r\n    if ((isRadioInput(ref) || isCheckBoxInput(ref)) && fieldValue) {\r\n        const { options } = fieldValue;\r\n        if (isArray(options) && options.length) {\r\n            options.forEach(({ ref, mutationWatcher }, index) => {\r\n                if ((ref && isDetached(ref)) || forceDelete) {\r\n                    removeAllEventListeners(ref, handleChange);\r\n                    if (mutationWatcher) {\r\n                        mutationWatcher.disconnect();\r\n                    }\r\n                    unset(options, [`[${index}]`]);\r\n                }\r\n            });\r\n            if (options && !options.filter(Boolean).length) {\r\n                delete fields[name];\r\n            }\r\n        }\r\n        else {\r\n            delete fields[name];\r\n        }\r\n    }\r\n    else if (isDetached(ref) || forceDelete) {\r\n        removeAllEventListeners(ref, handleChange);\r\n        if (mutationWatcher) {\r\n            mutationWatcher.disconnect();\r\n        }\r\n        delete fields[name];\r\n    }\r\n}\n\nconst defaultReturn = {\r\n    isValid: false,\r\n    value: '',\r\n};\r\nvar getRadioValue = (options) => isArray(options)\r\n    ? options.reduce((previous, { ref: { checked, value } }) => checked\r\n        ? {\r\n            isValid: true,\r\n            value,\r\n        }\r\n        : previous, defaultReturn)\r\n    : defaultReturn;\n\nvar getMultipleSelectValue = (options) => [...options]\r\n    .filter(({ selected }) => selected)\r\n    .map(({ value }) => value);\n\nvar isFileInput = (element) => !!element && element.type === 'file';\n\nvar isMultipleSelect = (element) => !!element && element.type === 'select-multiple';\n\nvar isEmptyString = (value) => value === '';\n\nconst defaultResult = {\r\n    value: false,\r\n    isValid: false,\r\n};\r\nconst validResult = { value: true, isValid: true };\r\nvar getCheckboxValue = (options) => {\r\n    if (isArray(options)) {\r\n        if (options.length > 1) {\r\n            const values = options\r\n                .filter(({ ref: { checked } }) => checked)\r\n                .map(({ ref: { value } }) => value);\r\n            return { value: values, isValid: !!values.length };\r\n        }\r\n        const { checked, value, attributes } = options[0].ref;\r\n        return checked\r\n            ? attributes && !isUndefined(attributes.value)\r\n                ? isUndefined(value) || isEmptyString(value)\r\n                    ? validResult\r\n                    : { value: value, isValid: true }\r\n                : validResult\r\n            : defaultResult;\r\n    }\r\n    return defaultResult;\r\n};\n\nfunction getFieldValue(fields, ref) {\r\n    const { name, value } = ref;\r\n    const field = fields[name];\r\n    if (isFileInput(ref)) {\r\n        return ref.files;\r\n    }\r\n    if (isRadioInput(ref)) {\r\n        return field ? getRadioValue(field.options).value : '';\r\n    }\r\n    if (isMultipleSelect(ref)) {\r\n        return getMultipleSelectValue(ref.options);\r\n    }\r\n    if (isCheckBoxInput(ref)) {\r\n        return field ? getCheckboxValue(field.options).value : false;\r\n    }\r\n    return value;\r\n}\n\nvar isString = (value) => typeof value === 'string';\n\nvar getFieldsValues = (fields, search) => {\r\n    const output = {};\r\n    const isSearchString = isString(search);\r\n    const isSearchArray = isArray(search);\r\n    const isNest = search && search.nest;\r\n    for (const name in fields) {\r\n        if (isUndefined(search) ||\r\n            isNest ||\r\n            (isSearchString && name.startsWith(search)) ||\r\n            (isSearchArray &&\r\n                search.find((data) => name.startsWith(data)))) {\r\n            output[name] = getFieldValue(fields, fields[name].ref);\r\n        }\r\n    }\r\n    return output;\r\n};\n\nvar compareObject = (objectA = {}, objectB = {}) => Object.entries(objectA).reduce((previous, [key, value]) => previous ? objectB[key] && objectB[key] === value : false, true);\n\nvar isSameError = (error, { type, types, message, }) => {\r\n    return (isObject(error) &&\r\n        error.type === type &&\r\n        error.message === message &&\r\n        compareObject(error.types, types));\r\n};\n\nfunction shouldUpdateWithError({ errors, name, error, validFields, fieldsWithValidation, }) {\r\n    const isFieldValid = isEmptyObject(error);\r\n    const isFormValid = isEmptyObject(errors);\r\n    const currentFieldError = get(error, name);\r\n    const existFieldError = get(errors, name);\r\n    if ((isFieldValid && validFields.has(name)) ||\r\n        (existFieldError && existFieldError.isManual)) {\r\n        return false;\r\n    }\r\n    if (isFormValid !== isFieldValid ||\r\n        (!isFormValid && !existFieldError) ||\r\n        (isFieldValid && fieldsWithValidation.has(name) && !validFields.has(name))) {\r\n        return true;\r\n    }\r\n    return currentFieldError && !isSameError(existFieldError, currentFieldError);\r\n}\n\nvar isRegex = (value) => value instanceof RegExp;\n\nvar getValueAndMessage = (validationData) => {\r\n    const isPureObject = isObject(validationData) && !isRegex(validationData);\r\n    return {\r\n        value: isPureObject\r\n            ? validationData.value\r\n            : validationData,\r\n        message: isPureObject\r\n            ? validationData.message\r\n            : '',\r\n    };\r\n};\n\nvar isFunction = (value) => typeof value === 'function';\n\nvar isBoolean = (value) => typeof value === 'boolean';\n\nfunction getValidateError(result, ref, type = 'validate') {\r\n    const isStringValue = isString(result);\r\n    if (isStringValue || (isBoolean(result) && !result)) {\r\n        const message = isStringValue ? result : '';\r\n        return {\r\n            type,\r\n            message,\r\n            ref,\r\n        };\r\n    }\r\n}\n\nvar appendErrors = (name, validateAllFieldCriteria, errors, type, message) => {\r\n    if (!validateAllFieldCriteria) {\r\n        return {};\r\n    }\r\n    const error = errors[name];\r\n    return Object.assign(Object.assign({}, error), { types: Object.assign(Object.assign({}, (error && error.types ? error.types : {})), { [type]: message || true }) });\r\n};\n\nvar validateField = async (fieldsRef, validateAllFieldCriteria, { ref, ref: { type, value, name }, options, required, maxLength, minLength, min, max, pattern, validate, }) => {\r\n    const fields = fieldsRef.current;\r\n    const error = {};\r\n    const isRadio = isRadioInput(ref);\r\n    const isCheckBox = isCheckBoxInput(ref);\r\n    const isRadioOrCheckbox = isRadio || isCheckBox;\r\n    const isEmpty = isEmptyString(value);\r\n    const appendErrorsCurry = appendErrors.bind(null, name, validateAllFieldCriteria, error);\r\n    const getMinMaxMessage = (exceedMax, maxLengthMessage, minLengthMessage, maxType = INPUT_VALIDATION_RULES.maxLength, minType = INPUT_VALIDATION_RULES.minLength) => {\r\n        const message = exceedMax ? maxLengthMessage : minLengthMessage;\r\n        error[name] = Object.assign({ type: exceedMax ? maxType : minType, message,\r\n            ref }, (exceedMax\r\n            ? appendErrorsCurry(maxType, message)\r\n            : appendErrorsCurry(minType, message)));\r\n        if (!validateAllFieldCriteria) {\r\n            return error;\r\n        }\r\n    };\r\n    if (required &&\r\n        ((!isRadio && !isCheckBox && (isEmpty || isNullOrUndefined(value))) ||\r\n            (isBoolean(value) && !value) ||\r\n            (isCheckBox && !getCheckboxValue(options).isValid) ||\r\n            (isRadio && !getRadioValue(options).isValid))) {\r\n        const { value: requiredValue, message: requiredMessage } = isString(required)\r\n            ? { value: !!required, message: required }\r\n            : getValueAndMessage(required);\r\n        if (requiredValue) {\r\n            error[name] = Object.assign({ type: INPUT_VALIDATION_RULES.required, message: requiredMessage, ref: isRadioOrCheckbox ? fields[name].options[0].ref : ref }, appendErrorsCurry(INPUT_VALIDATION_RULES.required, requiredMessage));\r\n            if (!validateAllFieldCriteria) {\r\n                return error;\r\n            }\r\n        }\r\n    }\r\n    if (!isNullOrUndefined(min) || !isNullOrUndefined(max)) {\r\n        let exceedMax;\r\n        let exceedMin;\r\n        const { value: maxValue, message: maxMessage } = getValueAndMessage(max);\r\n        const { value: minValue, message: minMessage } = getValueAndMessage(min);\r\n        if (type === 'number' || (!type && !isNaN(value))) {\r\n            const valueNumber = ref.valueAsNumber || parseFloat(value);\r\n            if (!isNullOrUndefined(maxValue)) {\r\n                exceedMax = valueNumber > maxValue;\r\n            }\r\n            if (!isNullOrUndefined(minValue)) {\r\n                exceedMin = valueNumber < minValue;\r\n            }\r\n        }\r\n        else {\r\n            const valueDate = ref.valueAsDate || new Date(value);\r\n            if (isString(maxValue)) {\r\n                exceedMax = valueDate > new Date(maxValue);\r\n            }\r\n            if (isString(minValue)) {\r\n                exceedMin = valueDate < new Date(minValue);\r\n            }\r\n        }\r\n        if (exceedMax || exceedMin) {\r\n            getMinMaxMessage(!!exceedMax, maxMessage, minMessage, INPUT_VALIDATION_RULES.max, INPUT_VALIDATION_RULES.min);\r\n            if (!validateAllFieldCriteria) {\r\n                return error;\r\n            }\r\n        }\r\n    }\r\n    if (isString(value) && !isEmpty && (maxLength || minLength)) {\r\n        const { value: maxLengthValue, message: maxLengthMessage, } = getValueAndMessage(maxLength);\r\n        const { value: minLengthValue, message: minLengthMessage, } = getValueAndMessage(minLength);\r\n        const inputLength = value.toString().length;\r\n        const exceedMax = maxLength && inputLength > maxLengthValue;\r\n        const exceedMin = minLength && inputLength < minLengthValue;\r\n        if (exceedMax || exceedMin) {\r\n            getMinMaxMessage(!!exceedMax, maxLengthMessage, minLengthMessage);\r\n            if (!validateAllFieldCriteria) {\r\n                return error;\r\n            }\r\n        }\r\n    }\r\n    if (pattern && !isEmpty) {\r\n        const { value: patternValue, message: patternMessage } = getValueAndMessage(pattern);\r\n        if (isRegex(patternValue) && !patternValue.test(value)) {\r\n            error[name] = Object.assign({ type: INPUT_VALIDATION_RULES.pattern, message: patternMessage, ref }, appendErrorsCurry(INPUT_VALIDATION_RULES.pattern, patternMessage));\r\n            if (!validateAllFieldCriteria) {\r\n                return error;\r\n            }\r\n        }\r\n    }\r\n    if (validate) {\r\n        const fieldValue = getFieldValue(fields, ref);\r\n        const validateRef = isRadioOrCheckbox && options ? options[0].ref : ref;\r\n        if (isFunction(validate)) {\r\n            const result = await validate(fieldValue);\r\n            const validateError = getValidateError(result, validateRef);\r\n            if (validateError) {\r\n                error[name] = Object.assign(Object.assign({}, validateError), appendErrorsCurry(INPUT_VALIDATION_RULES.validate, validateError.message));\r\n                if (!validateAllFieldCriteria) {\r\n                    return error;\r\n                }\r\n            }\r\n        }\r\n        else if (isObject(validate)) {\r\n            const validateFunctions = Object.entries(validate);\r\n            const validationResult = await new Promise((resolve) => {\r\n                validateFunctions.reduce(async (previous, [key, validate], index) => {\r\n                    if ((!isEmptyObject(await previous) && !validateAllFieldCriteria) ||\r\n                        !isFunction(validate)) {\r\n                        return resolve(previous);\r\n                    }\r\n                    let result;\r\n                    const validateResult = await validate(fieldValue);\r\n                    const validateError = getValidateError(validateResult, validateRef, key);\r\n                    if (validateError) {\r\n                        result = Object.assign(Object.assign({}, validateError), appendErrorsCurry(key, validateError.message));\r\n                        if (validateAllFieldCriteria) {\r\n                            error[name] = result;\r\n                        }\r\n                    }\r\n                    else {\r\n                        result = previous;\r\n                    }\r\n                    return validateFunctions.length - 1 === index\r\n                        ? resolve(result)\r\n                        : result;\r\n                }, {});\r\n            });\r\n            if (!isEmptyObject(validationResult)) {\r\n                error[name] = Object.assign({ ref: validateRef }, validationResult);\r\n                if (!validateAllFieldCriteria) {\r\n                    return error;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return error;\r\n};\n\nconst parseErrorSchema = (error, validateAllFieldCriteria) => isArray(error.inner)\r\n    ? error.inner.reduce((previous, { path, message, type }) => (Object.assign(Object.assign({}, previous), (previous[path] && validateAllFieldCriteria\r\n        ? {\r\n            [path]: appendErrors(path, validateAllFieldCriteria, previous, type, message),\r\n        }\r\n        : {\r\n            [path]: previous[path] || Object.assign({ message,\r\n                type }, (validateAllFieldCriteria\r\n                ? {\r\n                    types: { [type]: message || true },\r\n                }\r\n                : {})),\r\n        }))), {})\r\n    : {\r\n        [error.path]: { message: error.message, type: error.type },\r\n    };\r\nasync function validateWithSchema(validationSchema, validateAllFieldCriteria, data, validationResolver, context) {\r\n    if (validationResolver) {\r\n        return validationResolver(data, context);\r\n    }\r\n    try {\r\n        return {\r\n            values: await validationSchema.validate(data, {\r\n                abortEarly: false,\r\n                context,\r\n            }),\r\n            errors: {},\r\n        };\r\n    }\r\n    catch (e) {\r\n        return {\r\n            values: {},\r\n            errors: transformToNestObject(parseErrorSchema(e, validateAllFieldCriteria)),\r\n        };\r\n    }\r\n}\n\nvar getDefaultValue = (defaultValues, name, defaultValue) => isUndefined(defaultValues[name])\r\n    ? get(defaultValues, name, defaultValue)\r\n    : defaultValues[name];\n\nfunction flatArray(list) {\r\n    return list.reduce((a, b) => a.concat(isArray(b) ? flatArray(b) : b), []);\r\n}\n\nvar isPrimitive = (value) => isNullOrUndefined(value) || !isObjectType(value);\n\nconst getPath = (path, values) => {\r\n    const getInnerPath = (value, key, isObject) => {\r\n        const pathWithIndex = isObject ? `${path}.${key}` : `${path}[${key}]`;\r\n        return isPrimitive(value) ? pathWithIndex : getPath(pathWithIndex, value);\r\n    };\r\n    return isArray(values)\r\n        ? values.map((value, key) => getInnerPath(value, key))\r\n        : Object.entries(values).map(([key, value]) => getInnerPath(value, key, true));\r\n};\r\nvar getPath$1 = (parentPath, value) => flatArray(getPath(parentPath, value));\n\nvar assignWatchFields = (fieldValues, fieldName, watchFields, combinedDefaultValues, watchFieldArray) => {\r\n    let value;\r\n    watchFields.add(fieldName);\r\n    if (isEmptyObject(fieldValues)) {\r\n        value = watchFieldArray ? watchFieldArray : undefined;\r\n    }\r\n    else if (!isUndefined(fieldValues[fieldName])) {\r\n        value = fieldValues[fieldName];\r\n        watchFields.add(fieldName);\r\n    }\r\n    else {\r\n        value = get(transformToNestObject(fieldValues), fieldName);\r\n        if (isArray(watchFieldArray) &&\r\n            isArray(value) &&\r\n            value.length !== watchFieldArray.length) {\r\n            value = watchFieldArray;\r\n        }\r\n        if (!isUndefined(value)) {\r\n            getPath$1(fieldName, value).forEach(name => watchFields.add(name));\r\n        }\r\n    }\r\n    return isUndefined(value)\r\n        ? isObject(combinedDefaultValues)\r\n            ? getDefaultValue(combinedDefaultValues, fieldName)\r\n            : combinedDefaultValues\r\n        : value;\r\n};\n\nvar skipValidation = ({ hasError, isBlurEvent, isOnSubmit, isReValidateOnSubmit, isOnBlur, isReValidateOnBlur, isSubmitted, }) => (isOnSubmit && isReValidateOnSubmit) ||\r\n    (isOnSubmit && !isSubmitted) ||\r\n    (isOnBlur && !isBlurEvent && !hasError) ||\r\n    (isReValidateOnBlur && !isBlurEvent && hasError) ||\r\n    (isReValidateOnSubmit && isSubmitted);\n\nvar getFieldValueByName = (fields, name) => {\r\n    const results = transformToNestObject(getFieldsValues(fields));\r\n    return name ? get(results, name, results) : results;\r\n};\n\nfunction getIsFieldsDifferent(referenceArray, differenceArray) {\r\n    let isMatch = false;\r\n    if (!isArray(referenceArray) ||\r\n        !isArray(differenceArray) ||\r\n        referenceArray.length !== differenceArray.length) {\r\n        return true;\r\n    }\r\n    for (let i = 0; i < referenceArray.length; i++) {\r\n        if (isMatch) {\r\n            break;\r\n        }\r\n        const dataA = referenceArray[i];\r\n        const dataB = differenceArray[i];\r\n        if (isUndefined(dataB) ||\r\n            Object.keys(dataA).length !== Object.keys(dataB).length) {\r\n            isMatch = true;\r\n            break;\r\n        }\r\n        for (const key in dataA) {\r\n            if (dataA[key] !== dataB[key]) {\r\n                isMatch = true;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return isMatch;\r\n}\n\nconst isMatchFieldArrayName = (name, searchName) => name.startsWith(`${searchName}[`);\r\nvar isNameInFieldArray = (names, name) => [...names].reduce((prev, current) => (isMatchFieldArrayName(name, current) ? true : prev), false);\n\nvar isFileListObject = (data) => typeof FileList !== UNDEFINED && data instanceof FileList;\n\nfunction onDomRemove(element, onDetachCallback) {\r\n    const observer = new MutationObserver(() => {\r\n        if (isDetached(element)) {\r\n            observer.disconnect();\r\n            onDetachCallback();\r\n        }\r\n    });\r\n    observer.observe(window.document, {\r\n        childList: true,\r\n        subtree: true,\r\n    });\r\n    return observer;\r\n}\n\nvar modeChecker = (mode) => ({\r\n    isOnSubmit: !mode || mode === VALIDATION_MODE.onSubmit,\r\n    isOnBlur: mode === VALIDATION_MODE.onBlur,\r\n    isOnChange: mode === VALIDATION_MODE.onChange,\r\n});\n\nconst { useRef, useState, useCallback, useEffect } = React;\r\nfunction useForm({ mode = VALIDATION_MODE.onSubmit, reValidateMode = VALIDATION_MODE.onChange, validationSchema, validationResolver, validationContext, defaultValues = {}, submitFocusError = true, validateCriteriaMode, } = {}) {\r\n    const fieldsRef = useRef({});\r\n    const validateAllFieldCriteria = validateCriteriaMode === 'all';\r\n    const errorsRef = useRef({});\r\n    const touchedFieldsRef = useRef({});\r\n    const watchFieldArrayRef = useRef({});\r\n    const watchFieldsRef = useRef(new Set());\r\n    const dirtyFieldsRef = useRef(new Set());\r\n    const fieldsWithValidationRef = useRef(new Set());\r\n    const validFieldsRef = useRef(new Set());\r\n    const isValidRef = useRef(true);\r\n    const defaultRenderValuesRef = useRef({});\r\n    const defaultValuesRef = useRef(defaultValues);\r\n    const isUnMount = useRef(false);\r\n    const isWatchAllRef = useRef(false);\r\n    const isSubmittedRef = useRef(false);\r\n    const isDirtyRef = useRef(false);\r\n    const submitCountRef = useRef(0);\r\n    const isSubmittingRef = useRef(false);\r\n    const handleChangeRef = useRef();\r\n    const resetFieldArrayFunctionRef = useRef({});\r\n    const validationContextRef = useRef(validationContext);\r\n    const fieldArrayNamesRef = useRef(new Set());\r\n    const [, render] = useState();\r\n    const { isOnBlur, isOnSubmit } = useRef(modeChecker(mode)).current;\r\n    const isWindowUndefined = typeof window === UNDEFINED;\r\n    const shouldValidateCallback = !!(validationSchema || validationResolver);\r\n    const isWeb = typeof document !== UNDEFINED &&\r\n        !isWindowUndefined &&\r\n        !isUndefined(window.HTMLElement);\r\n    const isProxyEnabled = isWeb && 'Proxy' in window;\r\n    const readFormStateRef = useRef({\r\n        dirty: !isProxyEnabled,\r\n        dirtyFields: !isProxyEnabled,\r\n        isSubmitted: isOnSubmit,\r\n        submitCount: !isProxyEnabled,\r\n        touched: !isProxyEnabled,\r\n        isSubmitting: !isProxyEnabled,\r\n        isValid: !isProxyEnabled,\r\n    });\r\n    const { isOnBlur: isReValidateOnBlur, isOnSubmit: isReValidateOnSubmit, } = useRef(modeChecker(reValidateMode)).current;\r\n    const reRender = useCallback(() => {\r\n        if (!isUnMount.current) {\r\n            render({});\r\n        }\r\n    }, []);\r\n    const shouldRenderBaseOnError = useCallback((name, error, shouldRender, skipReRender) => {\r\n        let shouldReRender = shouldRender ||\r\n            shouldUpdateWithError({\r\n                errors: errorsRef.current,\r\n                error,\r\n                name,\r\n                validFields: validFieldsRef.current,\r\n                fieldsWithValidation: fieldsWithValidationRef.current,\r\n            });\r\n        if (isEmptyObject(error)) {\r\n            if (fieldsWithValidationRef.current.has(name) ||\r\n                shouldValidateCallback) {\r\n                validFieldsRef.current.add(name);\r\n                shouldReRender = shouldReRender || get(errorsRef.current, name);\r\n            }\r\n            errorsRef.current = unset(errorsRef.current, [name]);\r\n        }\r\n        else {\r\n            validFieldsRef.current.delete(name);\r\n            shouldReRender = shouldReRender || !get(errorsRef.current, name);\r\n            set(errorsRef.current, name, error[name]);\r\n        }\r\n        if (shouldReRender && !skipReRender) {\r\n            reRender();\r\n            return true;\r\n        }\r\n    }, [reRender, shouldValidateCallback]);\r\n    const setFieldValue = useCallback((field, rawValue) => {\r\n        const ref = field.ref;\r\n        const options = field.options;\r\n        const { type } = ref;\r\n        const value = isWeb && isHTMLElement(ref) && isNullOrUndefined(rawValue)\r\n            ? ''\r\n            : rawValue;\r\n        if (isRadioInput(ref) && options) {\r\n            options.forEach(({ ref: radioRef }) => (radioRef.checked = radioRef.value === value));\r\n        }\r\n        else if (isFileInput(ref)) {\r\n            if (isEmptyString(value) ||\r\n                isFileListObject(value)) {\r\n                ref.files = value;\r\n            }\r\n            else {\r\n                ref.value = value;\r\n            }\r\n        }\r\n        else if (isMultipleSelect(ref)) {\r\n            [...ref.options].forEach(selectRef => (selectRef.selected = value.includes(selectRef.value)));\r\n        }\r\n        else if (isCheckBoxInput(ref) && options) {\r\n            options.length > 1\r\n                ? options.forEach(({ ref: checkboxRef }) => (checkboxRef.checked = value.includes(checkboxRef.value)))\r\n                : (options[0].ref.checked = !!value);\r\n        }\r\n        else {\r\n            ref.value = value;\r\n        }\r\n        return !!type;\r\n    }, [isWeb]);\r\n    const setDirty = (name) => {\r\n        if (!fieldsRef.current[name] ||\r\n            (!readFormStateRef.current.dirty && !readFormStateRef.current.dirtyFields)) {\r\n            return false;\r\n        }\r\n        const isFieldArray = isNameInFieldArray(fieldArrayNamesRef.current, name);\r\n        const previousDirtyFieldsLength = dirtyFieldsRef.current.size;\r\n        let isDirty = defaultRenderValuesRef.current[name] !==\r\n            getFieldValue(fieldsRef.current, fieldsRef.current[name].ref);\r\n        if (isFieldArray) {\r\n            const fieldArrayName = name.substring(0, name.indexOf('['));\r\n            isDirty = getIsFieldsDifferent(getFieldValueByName(fieldsRef.current, fieldArrayName), get(defaultValuesRef.current, fieldArrayName));\r\n        }\r\n        const isDirtyChanged = (isFieldArray ? isDirtyRef.current : dirtyFieldsRef.current.has(name)) !==\r\n            isDirty;\r\n        if (isDirty) {\r\n            dirtyFieldsRef.current.add(name);\r\n        }\r\n        else {\r\n            dirtyFieldsRef.current.delete(name);\r\n        }\r\n        isDirtyRef.current = isFieldArray ? isDirty : !!dirtyFieldsRef.current.size;\r\n        return readFormStateRef.current.dirty\r\n            ? isDirtyChanged\r\n            : previousDirtyFieldsLength !== dirtyFieldsRef.current.size;\r\n    };\r\n    const setDirtyAndTouchedFields = useCallback((fieldName) => {\r\n        if (setDirty(fieldName) ||\r\n            (!get(touchedFieldsRef.current, fieldName) &&\r\n                readFormStateRef.current.touched)) {\r\n            return !!set(touchedFieldsRef.current, fieldName, true);\r\n        }\r\n    }, []);\r\n    const setInternalValueBatch = useCallback((name, value, parentFieldName) => {\r\n        const isValueArray = isArray(value);\r\n        for (const key in value) {\r\n            const fieldName = `${parentFieldName || name}${isValueArray ? `[${key}]` : `.${key}`}`;\r\n            if (isObject(value[key])) {\r\n                setInternalValueBatch(name, value[key], fieldName);\r\n            }\r\n            const field = fieldsRef.current[fieldName];\r\n            if (field) {\r\n                setFieldValue(field, value[key]);\r\n                setDirtyAndTouchedFields(fieldName);\r\n            }\r\n        }\r\n    }, [setFieldValue, setDirtyAndTouchedFields]);\r\n    const setInternalValue = useCallback((name, value) => {\r\n        const field = fieldsRef.current[name];\r\n        if (field) {\r\n            setFieldValue(field, value);\r\n            const output = setDirtyAndTouchedFields(name);\r\n            if (isBoolean(output)) {\r\n                return output;\r\n            }\r\n        }\r\n        else if (!isPrimitive(value)) {\r\n            setInternalValueBatch(name, value);\r\n        }\r\n    }, [setDirtyAndTouchedFields, setFieldValue, setInternalValueBatch]);\r\n    const executeValidation = useCallback(async (name, skipReRender) => {\r\n        const field = fieldsRef.current[name];\r\n        if (!field) {\r\n            return false;\r\n        }\r\n        const error = await validateField(fieldsRef, validateAllFieldCriteria, field);\r\n        shouldRenderBaseOnError(name, error, false, skipReRender);\r\n        return isEmptyObject(error);\r\n    }, [shouldRenderBaseOnError, validateAllFieldCriteria]);\r\n    const executeSchemaValidation = useCallback(async (payload) => {\r\n        const { errors } = await validateWithSchema(validationSchema, validateAllFieldCriteria, getFieldValueByName(fieldsRef.current), validationResolver, validationContextRef.current);\r\n        const previousFormIsValid = isValidRef.current;\r\n        isValidRef.current = isEmptyObject(errors);\r\n        if (isArray(payload)) {\r\n            payload.forEach(name => {\r\n                const error = get(errors, name);\r\n                if (error) {\r\n                    set(errorsRef.current, name, error);\r\n                }\r\n                else {\r\n                    unset(errorsRef.current, [name]);\r\n                }\r\n            });\r\n            reRender();\r\n        }\r\n        else {\r\n            shouldRenderBaseOnError(payload, (get(errors, payload)\r\n                ? { [payload]: get(errors, payload) }\r\n                : {}), previousFormIsValid !== isValidRef.current);\r\n        }\r\n        return isEmptyObject(errorsRef.current);\r\n    }, [\r\n        reRender,\r\n        shouldRenderBaseOnError,\r\n        validateAllFieldCriteria,\r\n        validationResolver,\r\n        validationSchema,\r\n    ]);\r\n    const triggerValidation = useCallback(async (payload) => {\r\n        const fields = payload || Object.keys(fieldsRef.current);\r\n        if (shouldValidateCallback) {\r\n            return executeSchemaValidation(fields);\r\n        }\r\n        if (isArray(fields)) {\r\n            const result = await Promise.all(fields.map(async (data) => await executeValidation(data, true)));\r\n            reRender();\r\n            return result.every(Boolean);\r\n        }\r\n        return await executeValidation(fields);\r\n    }, [\r\n        executeSchemaValidation,\r\n        executeValidation,\r\n        reRender,\r\n        shouldValidateCallback,\r\n    ]);\r\n    const isFieldWatched = (name) => {\r\n        const preFixName = (name.match(/\\w+/) || [])[0];\r\n        return (isWatchAllRef.current ||\r\n            watchFieldsRef.current.has(name) ||\r\n            (watchFieldsRef.current.has(preFixName) &&\r\n                !isKey(name) &&\r\n                fieldArrayNamesRef.current.has(preFixName)));\r\n    };\r\n    function setValue(names, valueOrShouldValidate, shouldValidate) {\r\n        let shouldRender = false;\r\n        const isMultiple = isArray(names);\r\n        (isMultiple\r\n            ? names\r\n            : [names]).forEach((name) => {\r\n            const isStringFieldName = isString(name);\r\n            shouldRender =\r\n                setInternalValue(isStringFieldName ? name : Object.keys(name)[0], isStringFieldName\r\n                    ? valueOrShouldValidate\r\n                    : Object.values(name)[0]) || isMultiple\r\n                    ? true\r\n                    : isFieldWatched(name);\r\n        });\r\n        if (shouldRender || isMultiple) {\r\n            reRender();\r\n        }\r\n        if (shouldValidate || (isMultiple && valueOrShouldValidate)) {\r\n            triggerValidation(isMultiple ? undefined : names);\r\n        }\r\n    }\r\n    handleChangeRef.current = handleChangeRef.current\r\n        ? handleChangeRef.current\r\n        : async ({ type, target }) => {\r\n            const name = target ? target.name : '';\r\n            const fields = fieldsRef.current;\r\n            const errors = errorsRef.current;\r\n            const field = fields[name];\r\n            const currentError = get(errors, name);\r\n            let error;\r\n            if (!field) {\r\n                return;\r\n            }\r\n            const isBlurEvent = type === EVENTS.BLUR;\r\n            const shouldSkipValidation = skipValidation({\r\n                hasError: !!currentError,\r\n                isBlurEvent,\r\n                isOnSubmit,\r\n                isReValidateOnSubmit,\r\n                isOnBlur,\r\n                isReValidateOnBlur,\r\n                isSubmitted: isSubmittedRef.current,\r\n            });\r\n            const shouldUpdateDirty = setDirty(name);\r\n            let shouldUpdateState = isFieldWatched(name) || shouldUpdateDirty;\r\n            if (isBlurEvent &&\r\n                !get(touchedFieldsRef.current, name) &&\r\n                readFormStateRef.current.touched) {\r\n                set(touchedFieldsRef.current, name, true);\r\n                shouldUpdateState = true;\r\n            }\r\n            if (shouldSkipValidation) {\r\n                return shouldUpdateState && reRender();\r\n            }\r\n            if (shouldValidateCallback) {\r\n                const { errors } = await validateWithSchema(validationSchema, validateAllFieldCriteria, getFieldValueByName(fields), validationResolver, validationContextRef.current);\r\n                const previousFormIsValid = isValidRef.current;\r\n                isValidRef.current = isEmptyObject(errors);\r\n                error = (get(errors, name)\r\n                    ? { [name]: get(errors, name) }\r\n                    : {});\r\n                if (previousFormIsValid !== isValidRef.current) {\r\n                    shouldUpdateState = true;\r\n                }\r\n            }\r\n            else {\r\n                error = await validateField(fieldsRef, validateAllFieldCriteria, field);\r\n            }\r\n            if (!shouldRenderBaseOnError(name, error) && shouldUpdateState) {\r\n                reRender();\r\n            }\r\n        };\r\n    const validateSchemaIsValid = useCallback((values = {}) => {\r\n        const fieldValues = isEmptyObject(defaultValuesRef.current)\r\n            ? getFieldsValues(fieldsRef.current)\r\n            : defaultValuesRef.current;\r\n        validateWithSchema(validationSchema, validateAllFieldCriteria, transformToNestObject(Object.assign(Object.assign({}, fieldValues), values)), validationResolver, validationContextRef.current).then(({ errors }) => {\r\n            const previousFormIsValid = isValidRef.current;\r\n            isValidRef.current = isEmptyObject(errors);\r\n            if (previousFormIsValid !== isValidRef.current) {\r\n                reRender();\r\n            }\r\n        });\r\n    }, \r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [reRender, validateAllFieldCriteria, validationResolver]);\r\n    const removeFieldEventListener = (field, forceDelete) => {\r\n        if (!isUndefined(handleChangeRef.current) && field) {\r\n            findRemovedFieldAndRemoveListener(fieldsRef.current, handleChangeRef.current, field, forceDelete);\r\n        }\r\n    };\r\n    const removeFieldEventListenerAndRef = useCallback((field, forceDelete) => {\r\n        if (!field ||\r\n            (field &&\r\n                isNameInFieldArray(fieldArrayNamesRef.current, field.ref.name) &&\r\n                !forceDelete)) {\r\n            return;\r\n        }\r\n        removeFieldEventListener(field, forceDelete);\r\n        const { name } = field.ref;\r\n        errorsRef.current = unset(errorsRef.current, [name]);\r\n        touchedFieldsRef.current = unset(touchedFieldsRef.current, [name]);\r\n        defaultRenderValuesRef.current = unset(defaultRenderValuesRef.current, [\r\n            name,\r\n        ]);\r\n        [\r\n            dirtyFieldsRef,\r\n            fieldsWithValidationRef,\r\n            validFieldsRef,\r\n            watchFieldsRef,\r\n        ].forEach(data => data.current.delete(name));\r\n        if (readFormStateRef.current.isValid ||\r\n            readFormStateRef.current.touched) {\r\n            reRender();\r\n            if (shouldValidateCallback) {\r\n                validateSchemaIsValid();\r\n            }\r\n        }\r\n    }, [reRender, shouldValidateCallback, validateSchemaIsValid]);\r\n    function clearError(name) {\r\n        if (isUndefined(name)) {\r\n            errorsRef.current = {};\r\n        }\r\n        else {\r\n            unset(errorsRef.current, isArray(name) ? name : [name]);\r\n        }\r\n        reRender();\r\n    }\r\n    const setInternalError = ({ name, type, types, message, preventRender, }) => {\r\n        const field = fieldsRef.current[name];\r\n        if (!isSameError(errorsRef.current[name], {\r\n            type,\r\n            message,\r\n            types,\r\n        })) {\r\n            set(errorsRef.current, name, {\r\n                type,\r\n                types,\r\n                message,\r\n                ref: field ? field.ref : {},\r\n                isManual: true,\r\n            });\r\n            if (!preventRender) {\r\n                reRender();\r\n            }\r\n        }\r\n    };\r\n    function setError(name, type = '', message) {\r\n        if (isString(name)) {\r\n            setInternalError(Object.assign({ name }, (isObject(type)\r\n                ? {\r\n                    types: type,\r\n                    type: '',\r\n                }\r\n                : {\r\n                    type,\r\n                    message,\r\n                })));\r\n        }\r\n        else if (isArray(name)) {\r\n            name.forEach(error => setInternalError(Object.assign(Object.assign({}, error), { preventRender: true })));\r\n            reRender();\r\n        }\r\n    }\r\n    function watch(fieldNames, defaultValue) {\r\n        const combinedDefaultValues = isUndefined(defaultValue)\r\n            ? isUndefined(defaultValuesRef.current)\r\n                ? {}\r\n                : defaultValuesRef.current\r\n            : defaultValue;\r\n        const fieldValues = getFieldsValues(fieldsRef.current, fieldNames);\r\n        const watchFields = watchFieldsRef.current;\r\n        if (isString(fieldNames)) {\r\n            return assignWatchFields(fieldValues, fieldNames, watchFields, combinedDefaultValues, fieldArrayNamesRef.current.has(fieldNames)\r\n                ? watchFieldArrayRef.current[fieldNames]\r\n                : undefined);\r\n        }\r\n        if (isArray(fieldNames)) {\r\n            return fieldNames.reduce((previous, name) => {\r\n                let value;\r\n                if (isEmptyObject(fieldsRef.current) &&\r\n                    isObject(combinedDefaultValues)) {\r\n                    value = getDefaultValue(combinedDefaultValues, name);\r\n                }\r\n                else {\r\n                    value = assignWatchFields(fieldValues, name, watchFields, combinedDefaultValues);\r\n                }\r\n                return Object.assign(Object.assign({}, previous), { [name]: value });\r\n            }, {});\r\n        }\r\n        isWatchAllRef.current = true;\r\n        const result = (!isEmptyObject(fieldValues) && fieldValues) ||\r\n            defaultValue ||\r\n            defaultValuesRef.current;\r\n        return fieldNames && fieldNames.nest\r\n            ? transformToNestObject(result)\r\n            : result;\r\n    }\r\n    function unregister(names) {\r\n        if (!isEmptyObject(fieldsRef.current)) {\r\n            (isArray(names) ? names : [names]).forEach(fieldName => removeFieldEventListenerAndRef(fieldsRef.current[fieldName], true));\r\n        }\r\n    }\r\n    function registerFieldsRef(ref, validateOptions = {}) {\r\n        if (!ref.name) {\r\n            // eslint-disable-next-line no-console\r\n            return console.warn('Missing name @', ref);\r\n        }\r\n        const { name, type, value } = ref;\r\n        const fieldAttributes = Object.assign({ ref }, validateOptions);\r\n        const fields = fieldsRef.current;\r\n        const isRadioOrCheckbox = isRadioInput(ref) || isCheckBoxInput(ref);\r\n        let currentField = fields[name];\r\n        let isEmptyDefaultValue = true;\r\n        let isFieldArray = false;\r\n        let defaultValue;\r\n        if (isRadioOrCheckbox\r\n            ? currentField &&\r\n                isArray(currentField.options) &&\r\n                currentField.options.find(({ ref }) => value === ref.value)\r\n            : currentField) {\r\n            fields[name] = Object.assign(Object.assign({}, currentField), validateOptions);\r\n            return;\r\n        }\r\n        if (type) {\r\n            const mutationWatcher = onDomRemove(ref, () => removeFieldEventListenerAndRef(fieldAttributes));\r\n            currentField = isRadioOrCheckbox\r\n                ? Object.assign({ options: [\r\n                        ...((currentField && currentField.options) || []),\r\n                        {\r\n                            ref,\r\n                            mutationWatcher,\r\n                        },\r\n                    ], ref: { type, name } }, validateOptions) : Object.assign(Object.assign({}, fieldAttributes), { mutationWatcher });\r\n        }\r\n        else {\r\n            currentField = fieldAttributes;\r\n        }\r\n        fields[name] = currentField;\r\n        if (!isEmptyObject(defaultValuesRef.current)) {\r\n            defaultValue = getDefaultValue(defaultValuesRef.current, name);\r\n            isEmptyDefaultValue = isUndefined(defaultValue);\r\n            isFieldArray = isNameInFieldArray(fieldArrayNamesRef.current, name);\r\n            if (!isEmptyDefaultValue && !isFieldArray) {\r\n                setFieldValue(currentField, defaultValue);\r\n            }\r\n        }\r\n        if (shouldValidateCallback &&\r\n            !isFieldArray &&\r\n            readFormStateRef.current.isValid) {\r\n            validateSchemaIsValid();\r\n        }\r\n        else if (!isEmptyObject(validateOptions)) {\r\n            fieldsWithValidationRef.current.add(name);\r\n            if (!isOnSubmit && readFormStateRef.current.isValid) {\r\n                validateField(fieldsRef, validateAllFieldCriteria, currentField).then(error => {\r\n                    const previousFormIsValid = isValidRef.current;\r\n                    if (isEmptyObject(error)) {\r\n                        validFieldsRef.current.add(name);\r\n                    }\r\n                    else {\r\n                        isValidRef.current = false;\r\n                    }\r\n                    if (previousFormIsValid !== isValidRef.current) {\r\n                        reRender();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        if (!defaultRenderValuesRef.current[name] &&\r\n            !(isFieldArray && isEmptyDefaultValue)) {\r\n            defaultRenderValuesRef.current[name] = isEmptyDefaultValue\r\n                ? getFieldValue(fields, currentField.ref)\r\n                : defaultValue;\r\n        }\r\n        if (!type) {\r\n            return;\r\n        }\r\n        const fieldToAttachListener = isRadioOrCheckbox && currentField.options\r\n            ? currentField.options[currentField.options.length - 1]\r\n            : currentField;\r\n        attachEventListeners({\r\n            field: fieldToAttachListener,\r\n            isRadioOrCheckbox,\r\n            handleChange: handleChangeRef.current,\r\n        });\r\n    }\r\n    function register(refOrValidationOptions, validationOptions) {\r\n        if (isWindowUndefined) {\r\n            return;\r\n        }\r\n        if (isString(refOrValidationOptions)) {\r\n            registerFieldsRef({ name: refOrValidationOptions }, validationOptions);\r\n            return;\r\n        }\r\n        if (isObject(refOrValidationOptions) && 'name' in refOrValidationOptions) {\r\n            registerFieldsRef(refOrValidationOptions, validationOptions);\r\n            return;\r\n        }\r\n        return (ref) => ref && registerFieldsRef(ref, refOrValidationOptions);\r\n    }\r\n    const handleSubmit = useCallback((callback) => async (e) => {\r\n        if (e) {\r\n            e.preventDefault();\r\n            e.persist();\r\n        }\r\n        let fieldErrors;\r\n        let fieldValues;\r\n        const fields = fieldsRef.current;\r\n        if (readFormStateRef.current.isSubmitting) {\r\n            isSubmittingRef.current = true;\r\n            reRender();\r\n        }\r\n        try {\r\n            if (shouldValidateCallback) {\r\n                fieldValues = getFieldsValues(fields);\r\n                const { errors, values } = await validateWithSchema(validationSchema, validateAllFieldCriteria, transformToNestObject(fieldValues), validationResolver, validationContextRef.current);\r\n                errorsRef.current = errors;\r\n                fieldErrors = errors;\r\n                fieldValues = values;\r\n            }\r\n            else {\r\n                const { errors, values, } = await Object.values(fields).reduce(async (previous, field) => {\r\n                    if (!field) {\r\n                        return previous;\r\n                    }\r\n                    const resolvedPrevious = await previous;\r\n                    const { ref, ref: { name }, } = field;\r\n                    if (!fields[name]) {\r\n                        return Promise.resolve(resolvedPrevious);\r\n                    }\r\n                    const fieldError = await validateField(fieldsRef, validateAllFieldCriteria, field);\r\n                    if (fieldError[name]) {\r\n                        set(resolvedPrevious.errors, name, fieldError[name]);\r\n                        validFieldsRef.current.delete(name);\r\n                        return Promise.resolve(resolvedPrevious);\r\n                    }\r\n                    if (fieldsWithValidationRef.current.has(name)) {\r\n                        validFieldsRef.current.add(name);\r\n                    }\r\n                    resolvedPrevious.values[name] = getFieldValue(fields, ref);\r\n                    return Promise.resolve(resolvedPrevious);\r\n                }, Promise.resolve({\r\n                    errors: {},\r\n                    values: {},\r\n                }));\r\n                fieldErrors = errors;\r\n                fieldValues = values;\r\n            }\r\n            if (isEmptyObject(fieldErrors)) {\r\n                errorsRef.current = {};\r\n                await callback(transformToNestObject(fieldValues), e);\r\n            }\r\n            else {\r\n                if (submitFocusError && isWeb) {\r\n                    focusErrorField(fields, fieldErrors);\r\n                }\r\n                errorsRef.current = fieldErrors;\r\n            }\r\n        }\r\n        finally {\r\n            isSubmittedRef.current = true;\r\n            isSubmittingRef.current = false;\r\n            submitCountRef.current = submitCountRef.current + 1;\r\n            reRender();\r\n        }\r\n    }, [\r\n        isWeb,\r\n        reRender,\r\n        shouldValidateCallback,\r\n        submitFocusError,\r\n        validateAllFieldCriteria,\r\n        validationResolver,\r\n        validationSchema,\r\n    ]);\r\n    const resetRefs = () => {\r\n        errorsRef.current = {};\r\n        fieldsRef.current = {};\r\n        touchedFieldsRef.current = {};\r\n        validFieldsRef.current = new Set();\r\n        fieldsWithValidationRef.current = new Set();\r\n        defaultRenderValuesRef.current = {};\r\n        watchFieldsRef.current = new Set();\r\n        dirtyFieldsRef.current = new Set();\r\n        isWatchAllRef.current = false;\r\n        isSubmittedRef.current = false;\r\n        isDirtyRef.current = false;\r\n        isValidRef.current = true;\r\n        submitCountRef.current = 0;\r\n    };\r\n    const reset = (values) => {\r\n        if (isWeb) {\r\n            for (const value of Object.values(fieldsRef.current)) {\r\n                if (value && isHTMLElement(value.ref) && value.ref.closest) {\r\n                    try {\r\n                        value.ref.closest('form').reset();\r\n                        break;\r\n                    }\r\n                    catch (_a) { }\r\n                }\r\n            }\r\n        }\r\n        if (values) {\r\n            defaultValuesRef.current = values;\r\n        }\r\n        Object.values(resetFieldArrayFunctionRef.current).forEach(resetFieldArray => isFunction(resetFieldArray) && resetFieldArray());\r\n        resetRefs();\r\n        reRender();\r\n    };\r\n    const getValues = (payload) => {\r\n        const fieldValues = getFieldsValues(fieldsRef.current);\r\n        const outputValues = isEmptyObject(fieldValues)\r\n            ? defaultValuesRef.current\r\n            : fieldValues;\r\n        return payload && payload.nest\r\n            ? transformToNestObject(outputValues)\r\n            : outputValues;\r\n    };\r\n    useEffect(() => () => {\r\n        isUnMount.current = true;\r\n        fieldsRef.current &&\r\n            Object.values(fieldsRef.current).forEach((field) => removeFieldEventListenerAndRef(field, true));\r\n    }, [removeFieldEventListenerAndRef]);\r\n    if (!shouldValidateCallback) {\r\n        isValidRef.current =\r\n            validFieldsRef.current.size >= fieldsWithValidationRef.current.size &&\r\n                isEmptyObject(errorsRef.current);\r\n    }\r\n    const formState = {\r\n        dirty: isDirtyRef.current,\r\n        dirtyFields: dirtyFieldsRef.current,\r\n        isSubmitted: isSubmittedRef.current,\r\n        submitCount: submitCountRef.current,\r\n        touched: touchedFieldsRef.current,\r\n        isSubmitting: isSubmittingRef.current,\r\n        isValid: isOnSubmit\r\n            ? isSubmittedRef.current && isEmptyObject(errorsRef.current)\r\n            : isValidRef.current,\r\n    };\r\n    const control = Object.assign(Object.assign({ register,\r\n        unregister,\r\n        removeFieldEventListener,\r\n        getValues,\r\n        setValue,\r\n        reRender,\r\n        triggerValidation }, (shouldValidateCallback ? { validateSchemaIsValid } : {})), { formState, mode: {\r\n            isOnBlur,\r\n            isOnSubmit,\r\n        }, reValidateMode: {\r\n            isReValidateOnBlur,\r\n            isReValidateOnSubmit,\r\n        }, errorsRef,\r\n        touchedFieldsRef,\r\n        fieldsRef,\r\n        resetFieldArrayFunctionRef,\r\n        validFieldsRef,\r\n        fieldsWithValidationRef,\r\n        watchFieldArrayRef,\r\n        fieldArrayNamesRef,\r\n        isDirtyRef,\r\n        readFormStateRef,\r\n        defaultValuesRef });\r\n    return {\r\n        watch,\r\n        control,\r\n        handleSubmit,\r\n        setValue: useCallback(setValue, [\r\n            reRender,\r\n            setInternalValue,\r\n            triggerValidation,\r\n        ]),\r\n        triggerValidation,\r\n        getValues: useCallback(getValues, []),\r\n        reset: useCallback(reset, []),\r\n        register: useCallback(register, [\r\n            defaultValuesRef.current,\r\n            defaultRenderValuesRef.current,\r\n            watchFieldArrayRef.current,\r\n        ]),\r\n        unregister: useCallback(unregister, []),\r\n        clearError: useCallback(clearError, []),\r\n        setError: useCallback(setError, []),\r\n        errors: errorsRef.current,\r\n        formState: isProxyEnabled\r\n            ? new Proxy(formState, {\r\n                get: (obj, prop) => {\r\n                    if (prop in obj) {\r\n                        readFormStateRef.current[prop] = true;\r\n                        return obj[prop];\r\n                    }\r\n                    return {};\r\n                },\r\n            })\r\n            : formState,\r\n    };\r\n}\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nconst FormGlobalContext = createContext(null);\r\nfunction useFormContext() {\r\n    const context = useContext(FormGlobalContext);\r\n    if (!isUndefined(context))\r\n        return context;\r\n    throw new Error('Missing FormContext');\r\n}\r\nfunction FormContext(_a) {\r\n    var { children, formState, errors } = _a, restMethods = __rest(_a, [\"children\", \"formState\", \"errors\"]);\r\n    return (createElement(FormGlobalContext.Provider, { value: Object.assign(Object.assign({}, restMethods), { formState, errors }) }, children));\r\n}\n\nvar generateId = () => {\r\n    const d = typeof performance === UNDEFINED ? Date.now() : performance.now() * 1000;\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n        const r = (Math.random() * 16 + d) % 16 | 0;\r\n        return (c == 'x' ? r : (r & 0x3) | 0x8).toString(16);\r\n    });\r\n};\n\nconst appendId = (value, keyName) => (Object.assign(Object.assign({}, (isObject(value) ? value : { value })), { [keyName]: generateId() }));\r\nconst mapIds = (data, keyName) => (isArray(data) ? data : []).map(value => appendId(value, keyName));\n\nconst removeAt = (data, index) => [\r\n    ...data.slice(0, index),\r\n    ...data.slice(index + 1),\r\n];\r\nvar removeArrayAt = (data, index) => isUndefined(index)\r\n    ? []\r\n    : isArray(index)\r\n        ? index.reduce(({ result, previousIndex }, i) => ({\r\n            result: previousIndex > -1\r\n                ? removeAt(result, previousIndex < i ? i - 1 : i)\r\n                : removeAt(result, i),\r\n            previousIndex: i,\r\n        }), {\r\n            result: data,\r\n            previousIndex: -1,\r\n        }).result\r\n        : removeAt(data, index);\n\nvar moveArrayAt = (data, from, to) => isArray(data) ? data.splice(to, 0, data.splice(from, 1)[0]) : [];\n\nvar swapArrayAt = (fields, indexA, indexB) => isArray(fields) &&\r\n    ([fields[indexA], fields[indexB]] = [fields[indexB], fields[indexA]]);\n\nvar prependAt = (data, value) => [\r\n    ...(isArray(value) ? value : [value || null]),\r\n    ...data,\r\n];\n\nvar insertAt = (data, index, value) => [\r\n    ...data.slice(0, index),\r\n    ...(isArray(value) ? value : [value || null]),\r\n    ...data.slice(index),\r\n];\n\nvar fillEmptyArray = (value) => isArray(value) ? Array(value.length).fill(null) : undefined;\n\nconst { useEffect: useEffect$1, useCallback: useCallback$1, useRef: useRef$1, useState: useState$1 } = React;\r\nconst useFieldArray = ({ control, name, keyName = 'id', }) => {\r\n    const methods = useFormContext();\r\n    const { resetFieldArrayFunctionRef, fieldArrayNamesRef, reRender, fieldsRef, getValues, defaultValuesRef, removeFieldEventListener, errorsRef, isDirtyRef, touchedFieldsRef, readFormStateRef, watchFieldArrayRef, validFieldsRef, fieldsWithValidationRef, validateSchemaIsValid, } = control || methods.control;\r\n    const memoizedDefaultValues = useRef$1(get(defaultValuesRef.current, name, []));\r\n    const [fields, setField] = useState$1(mapIds(memoizedDefaultValues.current, keyName));\r\n    const allFields = useRef$1(fields);\r\n    const appendValueWithKey = (value) => value.map((v) => appendId(v, keyName));\r\n    allFields.current = fields;\r\n    const commonTasks = (fieldsValues) => {\r\n        watchFieldArrayRef.current = Object.assign(Object.assign({}, watchFieldArrayRef.current), { [name]: fieldsValues });\r\n        setField(fieldsValues);\r\n        if (readFormStateRef.current.isValid && validateSchemaIsValid) {\r\n            validateSchemaIsValid({\r\n                [name]: fieldsValues,\r\n            });\r\n        }\r\n    };\r\n    const resetFields = (flagOrFields) => {\r\n        if (readFormStateRef.current.dirty) {\r\n            isDirtyRef.current = isUndefined(flagOrFields)\r\n                ? true\r\n                : getIsFieldsDifferent(flagOrFields, memoizedDefaultValues.current);\r\n        }\r\n        for (const key in fieldsRef.current) {\r\n            if (isMatchFieldArrayName(key, name) && fieldsRef.current[key]) {\r\n                removeFieldEventListener(fieldsRef.current[key], true);\r\n            }\r\n        }\r\n    };\r\n    const mapCurrentFieldsValueWithState = () => {\r\n        const currentFieldsValue = getValues({ nest: true })[name];\r\n        if (isArray(currentFieldsValue)) {\r\n            for (let i = 0; i < currentFieldsValue.length; i++) {\r\n                fields[i] = Object.assign(Object.assign({}, fields[i]), currentFieldsValue[i]);\r\n            }\r\n        }\r\n    };\r\n    const append = (value) => {\r\n        mapCurrentFieldsValueWithState();\r\n        if (readFormStateRef.current.dirty) {\r\n            isDirtyRef.current = true;\r\n        }\r\n        commonTasks([\r\n            ...allFields.current,\r\n            ...(isArray(value)\r\n                ? appendValueWithKey(value)\r\n                : [appendId(value, keyName)]),\r\n        ]);\r\n    };\r\n    const prepend = (value) => {\r\n        mapCurrentFieldsValueWithState();\r\n        resetFields();\r\n        commonTasks(prependAt(allFields.current, isArray(value) ? appendValueWithKey(value) : [appendId(value, keyName)]));\r\n        if (errorsRef.current[name]) {\r\n            errorsRef.current[name] = prependAt(errorsRef.current[name], fillEmptyArray(value));\r\n        }\r\n        if (readFormStateRef.current.touched && touchedFieldsRef.current[name]) {\r\n            touchedFieldsRef.current[name] = prependAt(touchedFieldsRef.current[name], fillEmptyArray(value));\r\n        }\r\n    };\r\n    const remove = (index) => {\r\n        if (!isUndefined(index)) {\r\n            mapCurrentFieldsValueWithState();\r\n        }\r\n        resetFields(removeArrayAt(getFieldValueByName(fieldsRef.current, name), index));\r\n        commonTasks(removeArrayAt(allFields.current, index));\r\n        if (errorsRef.current[name]) {\r\n            errorsRef.current[name] = removeArrayAt(errorsRef.current[name], index);\r\n            if (!errorsRef.current[name].filter(Boolean).length) {\r\n                delete errorsRef.current[name];\r\n            }\r\n        }\r\n        if (readFormStateRef.current.touched && touchedFieldsRef.current[name]) {\r\n            touchedFieldsRef.current[name] = removeArrayAt(touchedFieldsRef.current[name], index);\r\n        }\r\n        if (readFormStateRef.current.isValid && !validateSchemaIsValid) {\r\n            let fieldIndex = -1;\r\n            let isFound = false;\r\n            const isIndexUndefined = isUndefined(index);\r\n            while (fieldIndex++ < fields.length) {\r\n                const isLast = fieldIndex === fields.length - 1;\r\n                const isCurrentIndex = (isArray(index) ? index : [index]).indexOf(fieldIndex) >= 0;\r\n                if (isCurrentIndex || isIndexUndefined) {\r\n                    isFound = true;\r\n                }\r\n                if (!isFound) {\r\n                    continue;\r\n                }\r\n                for (const key in fields[fieldIndex]) {\r\n                    const currentFieldName = `${name}[${fieldIndex}].${key}`;\r\n                    if (isCurrentIndex || isLast || isIndexUndefined) {\r\n                        validFieldsRef.current.delete(currentFieldName);\r\n                        fieldsWithValidationRef.current.delete(currentFieldName);\r\n                    }\r\n                    else {\r\n                        const previousFieldName = `${name}[${fieldIndex - 1}].${key}`;\r\n                        if (validFieldsRef.current.has(currentFieldName)) {\r\n                            validFieldsRef.current.add(previousFieldName);\r\n                        }\r\n                        if (fieldsWithValidationRef.current.has(currentFieldName)) {\r\n                            fieldsWithValidationRef.current.add(previousFieldName);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            reRender();\r\n        }\r\n    };\r\n    const insert = (index, value) => {\r\n        mapCurrentFieldsValueWithState();\r\n        resetFields(insertAt(getFieldValueByName(fieldsRef.current, name), index));\r\n        commonTasks(insertAt(allFields.current, index, isArray(value) ? appendValueWithKey(value) : [appendId(value, keyName)]));\r\n        if (errorsRef.current[name]) {\r\n            errorsRef.current[name] = insertAt(errorsRef.current[name], index, fillEmptyArray(value));\r\n        }\r\n        if (readFormStateRef.current.touched && touchedFieldsRef.current[name]) {\r\n            touchedFieldsRef.current[name] = insertAt(touchedFieldsRef.current[name], index, fillEmptyArray(value));\r\n        }\r\n    };\r\n    const swap = (indexA, indexB) => {\r\n        mapCurrentFieldsValueWithState();\r\n        const fieldValues = getFieldValueByName(fieldsRef.current, name);\r\n        swapArrayAt(fieldValues, indexA, indexB);\r\n        resetFields(fieldValues);\r\n        swapArrayAt(allFields.current, indexA, indexB);\r\n        commonTasks([...allFields.current]);\r\n        if (errorsRef.current[name]) {\r\n            swapArrayAt(errorsRef.current[name], indexA, indexB);\r\n        }\r\n        if (readFormStateRef.current.touched && touchedFieldsRef.current[name]) {\r\n            swapArrayAt(touchedFieldsRef.current[name], indexA, indexB);\r\n        }\r\n    };\r\n    const move = (from, to) => {\r\n        mapCurrentFieldsValueWithState();\r\n        const fieldValues = getFieldValueByName(fieldsRef.current, name);\r\n        moveArrayAt(fieldValues, from, to);\r\n        resetFields(fieldValues);\r\n        moveArrayAt(allFields.current, from, to);\r\n        commonTasks([...allFields.current]);\r\n        if (errorsRef.current[name]) {\r\n            moveArrayAt(errorsRef.current[name], from, to);\r\n        }\r\n        if (readFormStateRef.current.touched && touchedFieldsRef.current[name]) {\r\n            moveArrayAt(touchedFieldsRef.current[name], from, to);\r\n        }\r\n    };\r\n    const reset = () => {\r\n        resetFields();\r\n        memoizedDefaultValues.current = get(defaultValuesRef.current, name, []);\r\n        setField(mapIds(memoizedDefaultValues.current, keyName));\r\n    };\r\n    useEffect$1(() => {\r\n        const resetFunctions = resetFieldArrayFunctionRef.current;\r\n        const fieldArrayNames = fieldArrayNamesRef.current;\r\n        fieldArrayNames.add(name);\r\n        resetFunctions[name] = reset;\r\n        watchFieldArrayRef.current = Object.assign(Object.assign({}, watchFieldArrayRef.current), { [name]: fields });\r\n        return () => {\r\n            resetFields();\r\n            delete resetFunctions[name];\r\n            fieldArrayNames.delete(name);\r\n        };\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    return {\r\n        swap: useCallback$1(swap, []),\r\n        move: useCallback$1(move, []),\r\n        prepend: useCallback$1(prepend, []),\r\n        append: useCallback$1(append, []),\r\n        remove: useCallback$1(remove, []),\r\n        insert: useCallback$1(insert, []),\r\n        fields,\r\n    };\r\n};\n\nvar getInputValue = (event, isCheckboxInput) => isPrimitive(event) ||\r\n    !isObject(event.target) ||\r\n    (isObject(event.target) && !event.type)\r\n    ? event\r\n    : isCheckboxInput || isUndefined(event.target.value)\r\n        ? event.target.checked\r\n        : event.target.value;\n\nconst Controller = (_a) => {\r\n    var { name, rules, as: InnerComponent, onBlur, onChange, onChangeName = VALIDATION_MODE.onChange, onBlurName = VALIDATION_MODE.onBlur, valueName, defaultValue, control } = _a, rest = __rest(_a, [\"name\", \"rules\", \"as\", \"onBlur\", \"onChange\", \"onChangeName\", \"onBlurName\", \"valueName\", \"defaultValue\", \"control\"]);\r\n    const methods = useFormContext();\r\n    const { defaultValuesRef, setValue, register, unregister, errorsRef, removeFieldEventListener, triggerValidation, mode: { isOnSubmit, isOnBlur }, reValidateMode: { isReValidateOnBlur, isReValidateOnSubmit }, formState: { isSubmitted }, fieldsRef, fieldArrayNamesRef, } = control || methods.control;\r\n    const [value, setInputStateValue] = useState$2(isUndefined(defaultValue)\r\n        ? get(defaultValuesRef.current, name)\r\n        : defaultValue);\r\n    const valueRef = useRef$2(value);\r\n    const isCheckboxInput = isBoolean(value);\r\n    const shouldValidate = () => !skipValidation({\r\n        hasError: !!get(errorsRef.current, name),\r\n        isOnBlur,\r\n        isOnSubmit,\r\n        isReValidateOnBlur,\r\n        isReValidateOnSubmit,\r\n        isSubmitted,\r\n    });\r\n    const commonTask = (event) => {\r\n        const data = getInputValue(event, isCheckboxInput);\r\n        setInputStateValue(data);\r\n        valueRef.current = data;\r\n        return data;\r\n    };\r\n    const eventWrapper = (event) => (...arg) => setValue(name, commonTask(event(arg)), shouldValidate());\r\n    const handleChange = (event) => {\r\n        const data = commonTask(event);\r\n        setValue(name, data, shouldValidate());\r\n    };\r\n    const registerField = () => {\r\n        if (isNameInFieldArray(fieldArrayNamesRef.current, name) &&\r\n            fieldsRef.current[name]) {\r\n            removeFieldEventListener(fieldsRef.current[name], true);\r\n        }\r\n        register(Object.defineProperty({ name }, VALUE, {\r\n            set(data) {\r\n                setInputStateValue(data);\r\n                valueRef.current = data;\r\n            },\r\n            get() {\r\n                return valueRef.current;\r\n            },\r\n        }), Object.assign({}, rules));\r\n    };\r\n    useEffect$2(() => {\r\n        if (!fieldsRef.current[name]) {\r\n            registerField();\r\n            setInputStateValue(isUndefined(defaultValue)\r\n                ? get(defaultValuesRef.current, name)\r\n                : defaultValue);\r\n        }\r\n    });\r\n    useEffect$2(() => {\r\n        registerField();\r\n        return () => {\r\n            if (!isNameInFieldArray(fieldArrayNamesRef.current, name)) {\r\n                unregister(name);\r\n            }\r\n        };\r\n    }, [name]);\r\n    const shouldReValidateOnBlur = isOnBlur || isReValidateOnBlur;\r\n    const props = Object.assign(Object.assign(Object.assign(Object.assign({ name }, rest), (onChange\r\n        ? { [onChangeName]: eventWrapper(onChange) }\r\n        : { [onChangeName]: handleChange })), (onBlur || shouldReValidateOnBlur\r\n        ? {\r\n            [onBlurName]: (...args) => {\r\n                if (onBlur) {\r\n                    onBlur(args);\r\n                }\r\n                if (shouldReValidateOnBlur) {\r\n                    triggerValidation(name);\r\n                }\r\n            },\r\n        }\r\n        : {})), { [valueName || (isCheckboxInput ? 'checked' : VALUE)]: value });\r\n    return isValidElement(InnerComponent)\r\n        ? cloneElement(InnerComponent, props)\r\n        : createElement(InnerComponent, props);\r\n};\n\nconst ErrorMessage = (_a) => {\r\n    var { as: InnerComponent, errors, name, message, children } = _a, rest = __rest(_a, [\"as\", \"errors\", \"name\", \"message\", \"children\"]);\r\n    const methods = useFormContext();\r\n    const error = get(errors || methods.errors, name);\r\n    if (!error) {\r\n        return null;\r\n    }\r\n    const { message: messageFromRegister, types } = error;\r\n    const props = Object.assign(Object.assign({}, (InnerComponent ? rest : {})), { children: children\r\n            ? children({ message: messageFromRegister || message, messages: types })\r\n            : messageFromRegister || message });\r\n    return InnerComponent ? (isValidElement(InnerComponent) ? (cloneElement(InnerComponent, props)) : (createElement(InnerComponent, props))) : (createElement(Fragment, Object.assign({}, props)));\r\n};\n\nexport { Controller, ErrorMessage, FormContext, useFieldArray, useForm, useFormContext };\n","'use strict';\n\nvar assign = require('object-assign'),\n\tPropTypes = require('prop-types'),\n\tcreateClass = require('create-react-class'),\n\tmoment = require('moment'),\n\tReact = require('react'),\n\tCalendarContainer = require('./src/CalendarContainer'),\n\tonClickOutside = require('react-onclickoutside').default\n\t;\n\nvar viewModes = Object.freeze({\n\tYEARS: 'years',\n\tMONTHS: 'months',\n\tDAYS: 'days',\n\tTIME: 'time',\n});\n\nvar TYPES = PropTypes;\nvar Datetime = createClass({\n\tdisplayName: 'DateTime',\n\tpropTypes: {\n\t\t// value: TYPES.object | TYPES.string,\n\t\t// defaultValue: TYPES.object | TYPES.string,\n\t\t// viewDate: TYPES.object | TYPES.string,\n\t\tonFocus: TYPES.func,\n\t\tonBlur: TYPES.func,\n\t\tonChange: TYPES.func,\n\t\tonViewModeChange: TYPES.func,\n\t\tonNavigateBack: TYPES.func,\n\t\tonNavigateForward: TYPES.func,\n\t\tlocale: TYPES.string,\n\t\tutc: TYPES.bool,\n\t\tdisplayTimeZone: TYPES.string,\n\t\tinput: TYPES.bool,\n\t\t// dateFormat: TYPES.string | TYPES.bool,\n\t\t// timeFormat: TYPES.string | TYPES.bool,\n\t\tinputProps: TYPES.object,\n\t\ttimeConstraints: TYPES.object,\n\t\tviewMode: TYPES.oneOf([viewModes.YEARS, viewModes.MONTHS, viewModes.DAYS, viewModes.TIME]),\n\t\tisValidDate: TYPES.func,\n\t\topen: TYPES.bool,\n\t\tstrictParsing: TYPES.bool,\n\t\tcloseOnSelect: TYPES.bool,\n\t\tcloseOnTab: TYPES.bool\n\t},\n\n\tgetInitialState: function() {\n\t\tthis.checkTZ( this.props );\n\t\t\n\t\tvar state = this.getStateFromProps( this.props );\n\n\t\tif ( state.open === undefined )\n\t\t\tstate.open = !this.props.input;\n\n\t\tstate.currentView = this.props.dateFormat ?\n\t\t\t(this.props.viewMode || state.updateOn || viewModes.DAYS) : viewModes.TIME;\n\n\t\treturn state;\n\t},\n\n\tparseDate: function (date, formats) {\n\t\tvar parsedDate;\n\n\t\tif (date && typeof date === 'string')\n\t\t\tparsedDate = this.localMoment(date, formats.datetime);\n\t\telse if (date)\n\t\t\tparsedDate = this.localMoment(date);\n\n\t\tif (parsedDate && !parsedDate.isValid())\n\t\t\tparsedDate = null;\n\n\t\treturn parsedDate;\n\t},\n\n\tgetStateFromProps: function( props ) {\n\t\tvar formats = this.getFormats( props ),\n\t\t\tdate = props.value || props.defaultValue,\n\t\t\tselectedDate, viewDate, updateOn, inputValue\n\t\t\t;\n\n\t\tselectedDate = this.parseDate(date, formats);\n\n\t\tviewDate = this.parseDate(props.viewDate, formats);\n\n\t\tviewDate = selectedDate ?\n\t\t\tselectedDate.clone().startOf('month') :\n\t\t\tviewDate ? viewDate.clone().startOf('month') : this.localMoment().startOf('month');\n\n\t\tupdateOn = this.getUpdateOn(formats);\n\n\t\tif ( selectedDate )\n\t\t\tinputValue = selectedDate.format(formats.datetime);\n\t\telse if ( date.isValid && !date.isValid() )\n\t\t\tinputValue = '';\n\t\telse\n\t\t\tinputValue = date || '';\n\n\t\treturn {\n\t\t\tupdateOn: updateOn,\n\t\t\tinputFormat: formats.datetime,\n\t\t\tviewDate: viewDate,\n\t\t\tselectedDate: selectedDate,\n\t\t\tinputValue: inputValue,\n\t\t\topen: props.open\n\t\t};\n\t},\n\n\tgetUpdateOn: function( formats ) {\n\t\tif ( formats.date.match(/[lLD]/) ) {\n\t\t\treturn viewModes.DAYS;\n\t\t} else if ( formats.date.indexOf('M') !== -1 ) {\n\t\t\treturn viewModes.MONTHS;\n\t\t} else if ( formats.date.indexOf('Y') !== -1 ) {\n\t\t\treturn viewModes.YEARS;\n\t\t}\n\n\t\treturn viewModes.DAYS;\n\t},\n\n\tgetFormats: function( props ) {\n\t\tvar formats = {\n\t\t\t\tdate: props.dateFormat || '',\n\t\t\t\ttime: props.timeFormat || ''\n\t\t\t},\n\t\t\tlocale = this.localMoment( props.date, null, props ).localeData()\n\t\t\t;\n\n\t\tif ( formats.date === true ) {\n\t\t\tformats.date = locale.longDateFormat('L');\n\t\t}\n\t\telse if ( this.getUpdateOn(formats) !== viewModes.DAYS ) {\n\t\t\tformats.time = '';\n\t\t}\n\n\t\tif ( formats.time === true ) {\n\t\t\tformats.time = locale.longDateFormat('LT');\n\t\t}\n\n\t\tformats.datetime = formats.date && formats.time ?\n\t\t\tformats.date + ' ' + formats.time :\n\t\t\tformats.date || formats.time\n\t\t;\n\n\t\treturn formats;\n\t},\n\n\tcomponentWillReceiveProps: function( nextProps ) {\n\t\tvar formats = this.getFormats( nextProps ),\n\t\t\tupdatedState = {}\n\t\t;\n\n\t\tif ( nextProps.value !== this.props.value ||\n\t\t\tformats.datetime !== this.getFormats( this.props ).datetime ) {\n\t\t\tupdatedState = this.getStateFromProps( nextProps );\n\t\t}\n\n\t\tif ( updatedState.open === undefined ) {\n\t\t\tif ( typeof nextProps.open !== 'undefined' ) {\n\t\t\t\tupdatedState.open = nextProps.open;\n\t\t\t} else if ( this.props.closeOnSelect && this.state.currentView !== viewModes.TIME ) {\n\t\t\t\tupdatedState.open = false;\n\t\t\t} else {\n\t\t\t\tupdatedState.open = this.state.open;\n\t\t\t}\n\t\t}\n\n\t\tif ( nextProps.viewMode !== this.props.viewMode ) {\n\t\t\tupdatedState.currentView = nextProps.viewMode;\n\t\t}\n\n\t\tif ( nextProps.locale !== this.props.locale ) {\n\t\t\tif ( this.state.viewDate ) {\n\t\t\t\tvar updatedViewDate = this.state.viewDate.clone().locale( nextProps.locale );\n\t\t\t\tupdatedState.viewDate = updatedViewDate;\n\t\t\t}\n\t\t\tif ( this.state.selectedDate ) {\n\t\t\t\tvar updatedSelectedDate = this.state.selectedDate.clone().locale( nextProps.locale );\n\t\t\t\tupdatedState.selectedDate = updatedSelectedDate;\n\t\t\t\tupdatedState.inputValue = updatedSelectedDate.format( formats.datetime );\n\t\t\t}\n\t\t}\n\n\t\tif ( nextProps.utc !== this.props.utc || nextProps.displayTimeZone !== this.props.displayTimeZone ) {\n\t\t\tif ( nextProps.utc ) {\n\t\t\t\tif ( this.state.viewDate )\n\t\t\t\t\tupdatedState.viewDate = this.state.viewDate.clone().utc();\n\t\t\t\tif ( this.state.selectedDate ) {\n\t\t\t\t\tupdatedState.selectedDate = this.state.selectedDate.clone().utc();\n\t\t\t\t\tupdatedState.inputValue = updatedState.selectedDate.format( formats.datetime );\n\t\t\t\t}\n\t\t\t} else if ( nextProps.displayTimeZone ) {\n\t\t\t\tif ( this.state.viewDate )\n\t\t\t\t\tupdatedState.viewDate = this.state.viewDate.clone().tz(nextProps.displayTimeZone);\n\t\t\t\tif ( this.state.selectedDate ) {\n\t\t\t\t\tupdatedState.selectedDate = this.state.selectedDate.clone().tz(nextProps.displayTimeZone);\n\t\t\t\t\tupdatedState.inputValue = updatedState.selectedDate.tz(nextProps.displayTimeZone).format( formats.datetime );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ( this.state.viewDate )\n\t\t\t\t\tupdatedState.viewDate = this.state.viewDate.clone().local();\n\t\t\t\tif ( this.state.selectedDate ) {\n\t\t\t\t\tupdatedState.selectedDate = this.state.selectedDate.clone().local();\n\t\t\t\t\tupdatedState.inputValue = updatedState.selectedDate.format(formats.datetime);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( nextProps.viewDate !== this.props.viewDate ) {\n\t\t\tupdatedState.viewDate = moment(nextProps.viewDate);\n\t\t}\n\n\t\tthis.checkTZ( nextProps );\n\n\t\tthis.setState( updatedState );\n\t},\n\n\tonInputChange: function( e ) {\n\t\tvar value = e.target === null ? e : e.target.value,\n\t\t\tlocalMoment = this.localMoment( value, this.state.inputFormat ),\n\t\t\tupdate = { inputValue: value }\n\t\t\t;\n\n\t\tif ( localMoment.isValid() && !this.props.value ) {\n\t\t\tupdate.selectedDate = localMoment;\n\t\t\tupdate.viewDate = localMoment.clone().startOf('month');\n\t\t} else {\n\t\t\tupdate.selectedDate = null;\n\t\t}\n\n\t\treturn this.setState( update, function() {\n\t\t\treturn this.props.onChange( localMoment.isValid() ? localMoment : this.state.inputValue );\n\t\t});\n\t},\n\n\tonInputKey: function( e ) {\n\t\tif ( e.which === 9 && this.props.closeOnTab ) {\n\t\t\tthis.closeCalendar();\n\t\t}\n\t},\n\n\tshowView: function( view ) {\n\t\tvar me = this;\n\t\treturn function() {\n\t\t\tme.state.currentView !== view && me.props.onViewModeChange( view );\n\t\t\tme.setState({ currentView: view });\n\t\t};\n\t},\n\n\tsetDate: function( type ) {\n\t\tvar me = this,\n\t\t\tnextViews = {\n\t\t\t\tmonth: viewModes.DAYS,\n\t\t\t\tyear: viewModes.MONTHS,\n\t\t\t}\n\t\t;\n\t\treturn function( e ) {\n\t\t\tme.setState({\n\t\t\t\tviewDate: me.state.viewDate.clone()[ type ]( parseInt(e.target.getAttribute('data-value'), 10) ).startOf( type ),\n\t\t\t\tcurrentView: nextViews[ type ]\n\t\t\t});\n\t\t\tme.props.onViewModeChange( nextViews[ type ] );\n\t\t};\n\t},\n\n\tsubtractTime: function( amount, type, toSelected ) {\n\t\tvar me = this;\n\t\treturn function() {\n\t\t\tme.props.onNavigateBack( amount, type );\n\t\t\tme.updateTime( 'subtract', amount, type, toSelected );\n\t\t};\n\t},\n\n\taddTime: function( amount, type, toSelected ) {\n\t\tvar me = this;\n\t\treturn function() {\n\t\t\tme.props.onNavigateForward( amount, type );\n\t\t\tme.updateTime( 'add', amount, type, toSelected );\n\t\t};\n\t},\n\n\tupdateTime: function( op, amount, type, toSelected ) {\n\t\tvar update = {},\n\t\t\tdate = toSelected ? 'selectedDate' : 'viewDate';\n\n\t\tupdate[ date ] = this.state[ date ].clone()[ op ]( amount, type );\n\n\t\tthis.setState( update );\n\t},\n\n\tallowedSetTime: ['hours', 'minutes', 'seconds', 'milliseconds'],\n\tsetTime: function( type, value ) {\n\t\tvar index = this.allowedSetTime.indexOf( type ) + 1,\n\t\t\tstate = this.state,\n\t\t\tdate = (state.selectedDate || state.viewDate).clone(),\n\t\t\tnextType\n\t\t\t;\n\n\t\t// It is needed to set all the time properties\n\t\t// to not to reset the time\n\t\tdate[ type ]( value );\n\t\tfor (; index < this.allowedSetTime.length; index++) {\n\t\t\tnextType = this.allowedSetTime[index];\n\t\t\tdate[ nextType ]( date[nextType]() );\n\t\t}\n\n\t\tif ( !this.props.value ) {\n\t\t\tthis.setState({\n\t\t\t\tselectedDate: date,\n\t\t\t\tinputValue: date.format( state.inputFormat )\n\t\t\t});\n\t\t}\n\t\tthis.props.onChange( date );\n\t},\n\n\tupdateSelectedDate: function( e, close ) {\n\t\tvar target = e.currentTarget,\n\t\t\tmodifier = 0,\n\t\t\tviewDate = this.state.viewDate,\n\t\t\tcurrentDate = this.state.selectedDate || viewDate,\n\t\t\tdate\n\t\t\t;\n\n\t\tif (target.className.indexOf('rdtDay') !== -1) {\n\t\t\tif (target.className.indexOf('rdtNew') !== -1)\n\t\t\t\tmodifier = 1;\n\t\t\telse if (target.className.indexOf('rdtOld') !== -1)\n\t\t\t\tmodifier = -1;\n\n\t\t\tdate = viewDate.clone()\n\t\t\t\t.month( viewDate.month() + modifier )\n\t\t\t\t.date( parseInt( target.getAttribute('data-value'), 10 ) );\n\t\t} else if (target.className.indexOf('rdtMonth') !== -1) {\n\t\t\tdate = viewDate.clone()\n\t\t\t\t.month( parseInt( target.getAttribute('data-value'), 10 ) )\n\t\t\t\t.date( currentDate.date() );\n\t\t} else if (target.className.indexOf('rdtYear') !== -1) {\n\t\t\tdate = viewDate.clone()\n\t\t\t\t.month( currentDate.month() )\n\t\t\t\t.date( currentDate.date() )\n\t\t\t\t.year( parseInt( target.getAttribute('data-value'), 10 ) );\n\t\t}\n\n\t\tdate.hours( currentDate.hours() )\n\t\t\t.minutes( currentDate.minutes() )\n\t\t\t.seconds( currentDate.seconds() )\n\t\t\t.milliseconds( currentDate.milliseconds() );\n\n\t\tif ( !this.props.value ) {\n\t\t\tvar open = !( this.props.closeOnSelect && close );\n\t\t\tif ( !open ) {\n\t\t\t\tthis.props.onBlur( date );\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tselectedDate: date,\n\t\t\t\tviewDate: date.clone().startOf('month'),\n\t\t\t\tinputValue: date.format( this.state.inputFormat ),\n\t\t\t\topen: open\n\t\t\t});\n\t\t} else {\n\t\t\tif ( this.props.closeOnSelect && close ) {\n\t\t\t\tthis.closeCalendar();\n\t\t\t}\n\t\t}\n\n\t\tthis.props.onChange( date );\n\t},\n\n\topenCalendar: function( e ) {\n\t\tif ( !this.state.open ) {\n\t\t\tthis.setState({ open: true }, function() {\n\t\t\t\tthis.props.onFocus( e );\n\t\t\t});\n\t\t}\n\t},\n\n\tcloseCalendar: function() {\n\t\tthis.setState({ open: false }, function () {\n\t\t\tthis.props.onBlur( this.state.selectedDate || this.state.inputValue );\n\t\t});\n\t},\n\n\thandleClickOutside: function() {\n\t\tif ( this.props.input && this.state.open && this.props.open === undefined && !this.props.disableCloseOnClickOutside ) {\n\t\t\tthis.setState({ open: false }, function() {\n\t\t\t\tthis.props.onBlur( this.state.selectedDate || this.state.inputValue );\n\t\t\t});\n\t\t}\n\t},\n\n\tlocalMoment: function( date, format, props ) {\n\t\tprops = props || this.props;\n\t\tvar m = null;\n\n\t\tif (props.utc) {\n\t\t\tm = moment.utc(date, format, props.strictParsing);\n\t\t} else if (props.displayTimeZone) {\n\t\t\tm = moment.tz(date, format, props.displayTimeZone);\n\t\t} else {\n\t\t\tm = moment(date, format, props.strictParsing);\n\t\t}\n\n\t\tif ( props.locale )\n\t\t\tm.locale( props.locale );\n\t\treturn m;\n\t},\n\n\tcheckTZ: function( props ) {\n\t\tvar con = console;\n\n\t\tif ( props.displayTimeZone && !this.tzWarning && !moment.tz ) {\n\t\t\tthis.tzWarning = true;\n\t\t\tcon && con.error('react-datetime: displayTimeZone prop with value \"' + props.displayTimeZone +  '\" is used but moment.js timezone is not loaded.');\n\t\t}\n\t},\n\n\tcomponentProps: {\n\t\tfromProps: ['value', 'isValidDate', 'renderDay', 'renderMonth', 'renderYear', 'timeConstraints'],\n\t\tfromState: ['viewDate', 'selectedDate', 'updateOn'],\n\t\tfromThis: ['setDate', 'setTime', 'showView', 'addTime', 'subtractTime', 'updateSelectedDate', 'localMoment', 'handleClickOutside']\n\t},\n\n\tgetComponentProps: function() {\n\t\tvar me = this,\n\t\t\tformats = this.getFormats( this.props ),\n\t\t\tprops = {dateFormat: formats.date, timeFormat: formats.time}\n\t\t\t;\n\n\t\tthis.componentProps.fromProps.forEach( function( name ) {\n\t\t\tprops[ name ] = me.props[ name ];\n\t\t});\n\t\tthis.componentProps.fromState.forEach( function( name ) {\n\t\t\tprops[ name ] = me.state[ name ];\n\t\t});\n\t\tthis.componentProps.fromThis.forEach( function( name ) {\n\t\t\tprops[ name ] = me[ name ];\n\t\t});\n\n\t\treturn props;\n\t},\n\n\toverrideEvent: function( handler, action ) {\n\t\tif ( !this.overridenEvents ) {\n\t\t\tthis.overridenEvents = {};\n\t\t}\n\n\t\tif ( !this.overridenEvents[handler] ) {\n\t\t\tvar me = this;\n\t\t\tthis.overridenEvents[handler] = function( e ) {\n\t\t\t\tvar result;\n\t\t\t\tif ( me.props.inputProps && me.props.inputProps[handler] ) {\n\t\t\t\t\tresult = me.props.inputProps[handler]( e );\n\t\t\t\t}\n\t\t\t\tif ( result !== false ) {\n\t\t\t\t\taction( e );\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\treturn this.overridenEvents[handler];\n\t},\n\n\trender: function() {\n\t\t// TODO: Make a function or clean up this code,\n\t\t// logic right now is really hard to follow\n\t\tvar className = 'rdt' + (this.props.className ?\n\t\t\t\t\t\t\t\t\t( Array.isArray( this.props.className ) ?\n\t\t\t\t\t\t\t\t\t' ' + this.props.className.join( ' ' ) : ' ' + this.props.className) : ''),\n\t\t\tchildren = [];\n\n\t\tif ( this.props.input ) {\n\t\t\tvar finalInputProps = assign(\n\t\t\t\t{ type: 'text', className: 'form-control', value: this.state.inputValue },\n\t\t\t\tthis.props.inputProps,\n\t\t\t\t{\n\t\t\t\t\tonClick: this.overrideEvent( 'onClick', this.openCalendar ),\n\t\t\t\t\tonFocus: this.overrideEvent( 'onFocus', this.openCalendar ),\n\t\t\t\t\tonChange: this.overrideEvent( 'onChange', this.onInputChange ),\n\t\t\t\t\tonKeyDown: this.overrideEvent( 'onKeyDown', this.onInputKey ),\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif ( this.props.renderInput ) {\n\t\t\t\tchildren = [ React.createElement('div', { key: 'i' }, this.props.renderInput( finalInputProps, this.openCalendar, this.closeCalendar )) ];\n\t\t\t} else {\n\t\t\t\tchildren = [ React.createElement('input', assign({ key: 'i' }, finalInputProps ))];\n\t\t\t}\n\t\t} else {\n\t\t\tclassName += ' rdtStatic';\n\t\t}\n\n\t\tif ( this.props.open || (this.props.open === undefined && this.state.open ) )\n\t\t\tclassName += ' rdtOpen';\n\n\t\treturn React.createElement( ClickableWrapper, {className: className, onClickOut: this.handleClickOutside}, children.concat(\n\t\t\tReact.createElement( 'div',\n\t\t\t\t{ key: 'dt', className: 'rdtPicker' },\n\t\t\t\tReact.createElement( CalendarContainer, { view: this.state.currentView, viewProps: this.getComponentProps() })\n\t\t\t)\n\t\t));\n\t}\n});\n\nvar ClickableWrapper = onClickOutside( createClass({\n\trender: function() {\n\t\treturn React.createElement( 'div', { className: this.props.className }, this.props.children );\n\t},\n\thandleClickOutside: function( e ) {\n\t\tthis.props.onClickOut( e );\n\t}\n}));\n\nDatetime.defaultProps = {\n\tclassName: '',\n\tdefaultValue: '',\n\tinputProps: {},\n\tinput: true,\n\tonFocus: function() {},\n\tonBlur: function() {},\n\tonChange: function() {},\n\tonViewModeChange: function() {},\n\tonNavigateBack: function() {},\n\tonNavigateForward: function() {},\n\ttimeFormat: true,\n\ttimeConstraints: {},\n\tdateFormat: true,\n\tstrictParsing: true,\n\tcloseOnSelect: false,\n\tcloseOnTab: true,\n\tutc: false\n};\n\n// Make moment accessible through the Datetime class\nDatetime.moment = moment;\n\nmodule.exports = Datetime;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\n// -- Inlined from fbjs --\n\nvar emptyObject = {};\n\nif (process.env.NODE_ENV !== 'production') {\n  Object.freeze(emptyObject);\n}\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction _invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nvar warning = function(){};\n\nif (process.env.NODE_ENV !== 'production') {\n  var printWarning = function printWarning(format) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var argIndex = 0;\n    var message = 'Warning: ' + format.replace(/%s/g, function () {\n      return args[argIndex++];\n    });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n\n  warning = function warning(condition, format) {\n    if (format === undefined) {\n      throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n    }\n\n    if (format.indexOf('Failed Composite propType: ') === 0) {\n      return; // Ignore CompositeComponent proptype check.\n    }\n\n    if (!condition) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n\n      printWarning.apply(undefined, [format].concat(args));\n    }\n  };\n}\n\n// /-- Inlined from fbjs --\n\nvar MIXINS_KEY = 'mixins';\n\n// Helper function to allow the creation of anonymous functions which do not\n// have .name set to the name of the variable being assigned to.\nfunction identity(fn) {\n  return fn;\n}\n\nvar ReactPropTypeLocationNames;\nif (process.env.NODE_ENV !== 'production') {\n  ReactPropTypeLocationNames = {\n    prop: 'prop',\n    context: 'context',\n    childContext: 'child context'\n  };\n} else {\n  ReactPropTypeLocationNames = {};\n}\n\nfunction factory(ReactComponent, isValidElement, ReactNoopUpdateQueue) {\n  /**\n   * Policies that describe methods in `ReactClassInterface`.\n   */\n\n  var injectedMixins = [];\n\n  /**\n   * Composite components are higher-level components that compose other composite\n   * or host components.\n   *\n   * To create a new type of `ReactClass`, pass a specification of\n   * your new class to `React.createClass`. The only requirement of your class\n   * specification is that you implement a `render` method.\n   *\n   *   var MyComponent = React.createClass({\n   *     render: function() {\n   *       return <div>Hello World</div>;\n   *     }\n   *   });\n   *\n   * The class specification supports a specific protocol of methods that have\n   * special meaning (e.g. `render`). See `ReactClassInterface` for\n   * more the comprehensive protocol. Any other properties and methods in the\n   * class specification will be available on the prototype.\n   *\n   * @interface ReactClassInterface\n   * @internal\n   */\n  var ReactClassInterface = {\n    /**\n     * An array of Mixin objects to include when defining your component.\n     *\n     * @type {array}\n     * @optional\n     */\n    mixins: 'DEFINE_MANY',\n\n    /**\n     * An object containing properties and methods that should be defined on\n     * the component's constructor instead of its prototype (static methods).\n     *\n     * @type {object}\n     * @optional\n     */\n    statics: 'DEFINE_MANY',\n\n    /**\n     * Definition of prop types for this component.\n     *\n     * @type {object}\n     * @optional\n     */\n    propTypes: 'DEFINE_MANY',\n\n    /**\n     * Definition of context types for this component.\n     *\n     * @type {object}\n     * @optional\n     */\n    contextTypes: 'DEFINE_MANY',\n\n    /**\n     * Definition of context types this component sets for its children.\n     *\n     * @type {object}\n     * @optional\n     */\n    childContextTypes: 'DEFINE_MANY',\n\n    // ==== Definition methods ====\n\n    /**\n     * Invoked when the component is mounted. Values in the mapping will be set on\n     * `this.props` if that prop is not specified (i.e. using an `in` check).\n     *\n     * This method is invoked before `getInitialState` and therefore cannot rely\n     * on `this.state` or use `this.setState`.\n     *\n     * @return {object}\n     * @optional\n     */\n    getDefaultProps: 'DEFINE_MANY_MERGED',\n\n    /**\n     * Invoked once before the component is mounted. The return value will be used\n     * as the initial value of `this.state`.\n     *\n     *   getInitialState: function() {\n     *     return {\n     *       isOn: false,\n     *       fooBaz: new BazFoo()\n     *     }\n     *   }\n     *\n     * @return {object}\n     * @optional\n     */\n    getInitialState: 'DEFINE_MANY_MERGED',\n\n    /**\n     * @return {object}\n     * @optional\n     */\n    getChildContext: 'DEFINE_MANY_MERGED',\n\n    /**\n     * Uses props from `this.props` and state from `this.state` to render the\n     * structure of the component.\n     *\n     * No guarantees are made about when or how often this method is invoked, so\n     * it must not have side effects.\n     *\n     *   render: function() {\n     *     var name = this.props.name;\n     *     return <div>Hello, {name}!</div>;\n     *   }\n     *\n     * @return {ReactComponent}\n     * @required\n     */\n    render: 'DEFINE_ONCE',\n\n    // ==== Delegate methods ====\n\n    /**\n     * Invoked when the component is initially created and about to be mounted.\n     * This may have side effects, but any external subscriptions or data created\n     * by this method must be cleaned up in `componentWillUnmount`.\n     *\n     * @optional\n     */\n    componentWillMount: 'DEFINE_MANY',\n\n    /**\n     * Invoked when the component has been mounted and has a DOM representation.\n     * However, there is no guarantee that the DOM node is in the document.\n     *\n     * Use this as an opportunity to operate on the DOM when the component has\n     * been mounted (initialized and rendered) for the first time.\n     *\n     * @param {DOMElement} rootNode DOM element representing the component.\n     * @optional\n     */\n    componentDidMount: 'DEFINE_MANY',\n\n    /**\n     * Invoked before the component receives new props.\n     *\n     * Use this as an opportunity to react to a prop transition by updating the\n     * state using `this.setState`. Current props are accessed via `this.props`.\n     *\n     *   componentWillReceiveProps: function(nextProps, nextContext) {\n     *     this.setState({\n     *       likesIncreasing: nextProps.likeCount > this.props.likeCount\n     *     });\n     *   }\n     *\n     * NOTE: There is no equivalent `componentWillReceiveState`. An incoming prop\n     * transition may cause a state change, but the opposite is not true. If you\n     * need it, you are probably looking for `componentWillUpdate`.\n     *\n     * @param {object} nextProps\n     * @optional\n     */\n    componentWillReceiveProps: 'DEFINE_MANY',\n\n    /**\n     * Invoked while deciding if the component should be updated as a result of\n     * receiving new props, state and/or context.\n     *\n     * Use this as an opportunity to `return false` when you're certain that the\n     * transition to the new props/state/context will not require a component\n     * update.\n     *\n     *   shouldComponentUpdate: function(nextProps, nextState, nextContext) {\n     *     return !equal(nextProps, this.props) ||\n     *       !equal(nextState, this.state) ||\n     *       !equal(nextContext, this.context);\n     *   }\n     *\n     * @param {object} nextProps\n     * @param {?object} nextState\n     * @param {?object} nextContext\n     * @return {boolean} True if the component should update.\n     * @optional\n     */\n    shouldComponentUpdate: 'DEFINE_ONCE',\n\n    /**\n     * Invoked when the component is about to update due to a transition from\n     * `this.props`, `this.state` and `this.context` to `nextProps`, `nextState`\n     * and `nextContext`.\n     *\n     * Use this as an opportunity to perform preparation before an update occurs.\n     *\n     * NOTE: You **cannot** use `this.setState()` in this method.\n     *\n     * @param {object} nextProps\n     * @param {?object} nextState\n     * @param {?object} nextContext\n     * @param {ReactReconcileTransaction} transaction\n     * @optional\n     */\n    componentWillUpdate: 'DEFINE_MANY',\n\n    /**\n     * Invoked when the component's DOM representation has been updated.\n     *\n     * Use this as an opportunity to operate on the DOM when the component has\n     * been updated.\n     *\n     * @param {object} prevProps\n     * @param {?object} prevState\n     * @param {?object} prevContext\n     * @param {DOMElement} rootNode DOM element representing the component.\n     * @optional\n     */\n    componentDidUpdate: 'DEFINE_MANY',\n\n    /**\n     * Invoked when the component is about to be removed from its parent and have\n     * its DOM representation destroyed.\n     *\n     * Use this as an opportunity to deallocate any external resources.\n     *\n     * NOTE: There is no `componentDidUnmount` since your component will have been\n     * destroyed by that point.\n     *\n     * @optional\n     */\n    componentWillUnmount: 'DEFINE_MANY',\n\n    /**\n     * Replacement for (deprecated) `componentWillMount`.\n     *\n     * @optional\n     */\n    UNSAFE_componentWillMount: 'DEFINE_MANY',\n\n    /**\n     * Replacement for (deprecated) `componentWillReceiveProps`.\n     *\n     * @optional\n     */\n    UNSAFE_componentWillReceiveProps: 'DEFINE_MANY',\n\n    /**\n     * Replacement for (deprecated) `componentWillUpdate`.\n     *\n     * @optional\n     */\n    UNSAFE_componentWillUpdate: 'DEFINE_MANY',\n\n    // ==== Advanced methods ====\n\n    /**\n     * Updates the component's currently mounted DOM representation.\n     *\n     * By default, this implements React's rendering and reconciliation algorithm.\n     * Sophisticated clients may wish to override this.\n     *\n     * @param {ReactReconcileTransaction} transaction\n     * @internal\n     * @overridable\n     */\n    updateComponent: 'OVERRIDE_BASE'\n  };\n\n  /**\n   * Similar to ReactClassInterface but for static methods.\n   */\n  var ReactClassStaticInterface = {\n    /**\n     * This method is invoked after a component is instantiated and when it\n     * receives new props. Return an object to update state in response to\n     * prop changes. Return null to indicate no change to state.\n     *\n     * If an object is returned, its keys will be merged into the existing state.\n     *\n     * @return {object || null}\n     * @optional\n     */\n    getDerivedStateFromProps: 'DEFINE_MANY_MERGED'\n  };\n\n  /**\n   * Mapping from class specification keys to special processing functions.\n   *\n   * Although these are declared like instance properties in the specification\n   * when defining classes using `React.createClass`, they are actually static\n   * and are accessible on the constructor instead of the prototype. Despite\n   * being static, they must be defined outside of the \"statics\" key under\n   * which all other static methods are defined.\n   */\n  var RESERVED_SPEC_KEYS = {\n    displayName: function(Constructor, displayName) {\n      Constructor.displayName = displayName;\n    },\n    mixins: function(Constructor, mixins) {\n      if (mixins) {\n        for (var i = 0; i < mixins.length; i++) {\n          mixSpecIntoComponent(Constructor, mixins[i]);\n        }\n      }\n    },\n    childContextTypes: function(Constructor, childContextTypes) {\n      if (process.env.NODE_ENV !== 'production') {\n        validateTypeDef(Constructor, childContextTypes, 'childContext');\n      }\n      Constructor.childContextTypes = _assign(\n        {},\n        Constructor.childContextTypes,\n        childContextTypes\n      );\n    },\n    contextTypes: function(Constructor, contextTypes) {\n      if (process.env.NODE_ENV !== 'production') {\n        validateTypeDef(Constructor, contextTypes, 'context');\n      }\n      Constructor.contextTypes = _assign(\n        {},\n        Constructor.contextTypes,\n        contextTypes\n      );\n    },\n    /**\n     * Special case getDefaultProps which should move into statics but requires\n     * automatic merging.\n     */\n    getDefaultProps: function(Constructor, getDefaultProps) {\n      if (Constructor.getDefaultProps) {\n        Constructor.getDefaultProps = createMergedResultFunction(\n          Constructor.getDefaultProps,\n          getDefaultProps\n        );\n      } else {\n        Constructor.getDefaultProps = getDefaultProps;\n      }\n    },\n    propTypes: function(Constructor, propTypes) {\n      if (process.env.NODE_ENV !== 'production') {\n        validateTypeDef(Constructor, propTypes, 'prop');\n      }\n      Constructor.propTypes = _assign({}, Constructor.propTypes, propTypes);\n    },\n    statics: function(Constructor, statics) {\n      mixStaticSpecIntoComponent(Constructor, statics);\n    },\n    autobind: function() {}\n  };\n\n  function validateTypeDef(Constructor, typeDef, location) {\n    for (var propName in typeDef) {\n      if (typeDef.hasOwnProperty(propName)) {\n        // use a warning instead of an _invariant so components\n        // don't show up in prod but only in __DEV__\n        if (process.env.NODE_ENV !== 'production') {\n          warning(\n            typeof typeDef[propName] === 'function',\n            '%s: %s type `%s` is invalid; it must be a function, usually from ' +\n              'React.PropTypes.',\n            Constructor.displayName || 'ReactClass',\n            ReactPropTypeLocationNames[location],\n            propName\n          );\n        }\n      }\n    }\n  }\n\n  function validateMethodOverride(isAlreadyDefined, name) {\n    var specPolicy = ReactClassInterface.hasOwnProperty(name)\n      ? ReactClassInterface[name]\n      : null;\n\n    // Disallow overriding of base class methods unless explicitly allowed.\n    if (ReactClassMixin.hasOwnProperty(name)) {\n      _invariant(\n        specPolicy === 'OVERRIDE_BASE',\n        'ReactClassInterface: You are attempting to override ' +\n          '`%s` from your class specification. Ensure that your method names ' +\n          'do not overlap with React methods.',\n        name\n      );\n    }\n\n    // Disallow defining methods more than once unless explicitly allowed.\n    if (isAlreadyDefined) {\n      _invariant(\n        specPolicy === 'DEFINE_MANY' || specPolicy === 'DEFINE_MANY_MERGED',\n        'ReactClassInterface: You are attempting to define ' +\n          '`%s` on your component more than once. This conflict may be due ' +\n          'to a mixin.',\n        name\n      );\n    }\n  }\n\n  /**\n   * Mixin helper which handles policy validation and reserved\n   * specification keys when building React classes.\n   */\n  function mixSpecIntoComponent(Constructor, spec) {\n    if (!spec) {\n      if (process.env.NODE_ENV !== 'production') {\n        var typeofSpec = typeof spec;\n        var isMixinValid = typeofSpec === 'object' && spec !== null;\n\n        if (process.env.NODE_ENV !== 'production') {\n          warning(\n            isMixinValid,\n            \"%s: You're attempting to include a mixin that is either null \" +\n              'or not an object. Check the mixins included by the component, ' +\n              'as well as any mixins they include themselves. ' +\n              'Expected object but got %s.',\n            Constructor.displayName || 'ReactClass',\n            spec === null ? null : typeofSpec\n          );\n        }\n      }\n\n      return;\n    }\n\n    _invariant(\n      typeof spec !== 'function',\n      \"ReactClass: You're attempting to \" +\n        'use a component class or function as a mixin. Instead, just use a ' +\n        'regular object.'\n    );\n    _invariant(\n      !isValidElement(spec),\n      \"ReactClass: You're attempting to \" +\n        'use a component as a mixin. Instead, just use a regular object.'\n    );\n\n    var proto = Constructor.prototype;\n    var autoBindPairs = proto.__reactAutoBindPairs;\n\n    // By handling mixins before any other properties, we ensure the same\n    // chaining order is applied to methods with DEFINE_MANY policy, whether\n    // mixins are listed before or after these methods in the spec.\n    if (spec.hasOwnProperty(MIXINS_KEY)) {\n      RESERVED_SPEC_KEYS.mixins(Constructor, spec.mixins);\n    }\n\n    for (var name in spec) {\n      if (!spec.hasOwnProperty(name)) {\n        continue;\n      }\n\n      if (name === MIXINS_KEY) {\n        // We have already handled mixins in a special case above.\n        continue;\n      }\n\n      var property = spec[name];\n      var isAlreadyDefined = proto.hasOwnProperty(name);\n      validateMethodOverride(isAlreadyDefined, name);\n\n      if (RESERVED_SPEC_KEYS.hasOwnProperty(name)) {\n        RESERVED_SPEC_KEYS[name](Constructor, property);\n      } else {\n        // Setup methods on prototype:\n        // The following member methods should not be automatically bound:\n        // 1. Expected ReactClass methods (in the \"interface\").\n        // 2. Overridden methods (that were mixed in).\n        var isReactClassMethod = ReactClassInterface.hasOwnProperty(name);\n        var isFunction = typeof property === 'function';\n        var shouldAutoBind =\n          isFunction &&\n          !isReactClassMethod &&\n          !isAlreadyDefined &&\n          spec.autobind !== false;\n\n        if (shouldAutoBind) {\n          autoBindPairs.push(name, property);\n          proto[name] = property;\n        } else {\n          if (isAlreadyDefined) {\n            var specPolicy = ReactClassInterface[name];\n\n            // These cases should already be caught by validateMethodOverride.\n            _invariant(\n              isReactClassMethod &&\n                (specPolicy === 'DEFINE_MANY_MERGED' ||\n                  specPolicy === 'DEFINE_MANY'),\n              'ReactClass: Unexpected spec policy %s for key %s ' +\n                'when mixing in component specs.',\n              specPolicy,\n              name\n            );\n\n            // For methods which are defined more than once, call the existing\n            // methods before calling the new property, merging if appropriate.\n            if (specPolicy === 'DEFINE_MANY_MERGED') {\n              proto[name] = createMergedResultFunction(proto[name], property);\n            } else if (specPolicy === 'DEFINE_MANY') {\n              proto[name] = createChainedFunction(proto[name], property);\n            }\n          } else {\n            proto[name] = property;\n            if (process.env.NODE_ENV !== 'production') {\n              // Add verbose displayName to the function, which helps when looking\n              // at profiling tools.\n              if (typeof property === 'function' && spec.displayName) {\n                proto[name].displayName = spec.displayName + '_' + name;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  function mixStaticSpecIntoComponent(Constructor, statics) {\n    if (!statics) {\n      return;\n    }\n\n    for (var name in statics) {\n      var property = statics[name];\n      if (!statics.hasOwnProperty(name)) {\n        continue;\n      }\n\n      var isReserved = name in RESERVED_SPEC_KEYS;\n      _invariant(\n        !isReserved,\n        'ReactClass: You are attempting to define a reserved ' +\n          'property, `%s`, that shouldn\\'t be on the \"statics\" key. Define it ' +\n          'as an instance property instead; it will still be accessible on the ' +\n          'constructor.',\n        name\n      );\n\n      var isAlreadyDefined = name in Constructor;\n      if (isAlreadyDefined) {\n        var specPolicy = ReactClassStaticInterface.hasOwnProperty(name)\n          ? ReactClassStaticInterface[name]\n          : null;\n\n        _invariant(\n          specPolicy === 'DEFINE_MANY_MERGED',\n          'ReactClass: You are attempting to define ' +\n            '`%s` on your component more than once. This conflict may be ' +\n            'due to a mixin.',\n          name\n        );\n\n        Constructor[name] = createMergedResultFunction(Constructor[name], property);\n\n        return;\n      }\n\n      Constructor[name] = property;\n    }\n  }\n\n  /**\n   * Merge two objects, but throw if both contain the same key.\n   *\n   * @param {object} one The first object, which is mutated.\n   * @param {object} two The second object\n   * @return {object} one after it has been mutated to contain everything in two.\n   */\n  function mergeIntoWithNoDuplicateKeys(one, two) {\n    _invariant(\n      one && two && typeof one === 'object' && typeof two === 'object',\n      'mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.'\n    );\n\n    for (var key in two) {\n      if (two.hasOwnProperty(key)) {\n        _invariant(\n          one[key] === undefined,\n          'mergeIntoWithNoDuplicateKeys(): ' +\n            'Tried to merge two objects with the same key: `%s`. This conflict ' +\n            'may be due to a mixin; in particular, this may be caused by two ' +\n            'getInitialState() or getDefaultProps() methods returning objects ' +\n            'with clashing keys.',\n          key\n        );\n        one[key] = two[key];\n      }\n    }\n    return one;\n  }\n\n  /**\n   * Creates a function that invokes two functions and merges their return values.\n   *\n   * @param {function} one Function to invoke first.\n   * @param {function} two Function to invoke second.\n   * @return {function} Function that invokes the two argument functions.\n   * @private\n   */\n  function createMergedResultFunction(one, two) {\n    return function mergedResult() {\n      var a = one.apply(this, arguments);\n      var b = two.apply(this, arguments);\n      if (a == null) {\n        return b;\n      } else if (b == null) {\n        return a;\n      }\n      var c = {};\n      mergeIntoWithNoDuplicateKeys(c, a);\n      mergeIntoWithNoDuplicateKeys(c, b);\n      return c;\n    };\n  }\n\n  /**\n   * Creates a function that invokes two functions and ignores their return vales.\n   *\n   * @param {function} one Function to invoke first.\n   * @param {function} two Function to invoke second.\n   * @return {function} Function that invokes the two argument functions.\n   * @private\n   */\n  function createChainedFunction(one, two) {\n    return function chainedFunction() {\n      one.apply(this, arguments);\n      two.apply(this, arguments);\n    };\n  }\n\n  /**\n   * Binds a method to the component.\n   *\n   * @param {object} component Component whose method is going to be bound.\n   * @param {function} method Method to be bound.\n   * @return {function} The bound method.\n   */\n  function bindAutoBindMethod(component, method) {\n    var boundMethod = method.bind(component);\n    if (process.env.NODE_ENV !== 'production') {\n      boundMethod.__reactBoundContext = component;\n      boundMethod.__reactBoundMethod = method;\n      boundMethod.__reactBoundArguments = null;\n      var componentName = component.constructor.displayName;\n      var _bind = boundMethod.bind;\n      boundMethod.bind = function(newThis) {\n        for (\n          var _len = arguments.length,\n            args = Array(_len > 1 ? _len - 1 : 0),\n            _key = 1;\n          _key < _len;\n          _key++\n        ) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        // User is trying to bind() an autobound method; we effectively will\n        // ignore the value of \"this\" that the user is trying to use, so\n        // let's warn.\n        if (newThis !== component && newThis !== null) {\n          if (process.env.NODE_ENV !== 'production') {\n            warning(\n              false,\n              'bind(): React component methods may only be bound to the ' +\n                'component instance. See %s',\n              componentName\n            );\n          }\n        } else if (!args.length) {\n          if (process.env.NODE_ENV !== 'production') {\n            warning(\n              false,\n              'bind(): You are binding a component method to the component. ' +\n                'React does this for you automatically in a high-performance ' +\n                'way, so you can safely remove this call. See %s',\n              componentName\n            );\n          }\n          return boundMethod;\n        }\n        var reboundMethod = _bind.apply(boundMethod, arguments);\n        reboundMethod.__reactBoundContext = component;\n        reboundMethod.__reactBoundMethod = method;\n        reboundMethod.__reactBoundArguments = args;\n        return reboundMethod;\n      };\n    }\n    return boundMethod;\n  }\n\n  /**\n   * Binds all auto-bound methods in a component.\n   *\n   * @param {object} component Component whose method is going to be bound.\n   */\n  function bindAutoBindMethods(component) {\n    var pairs = component.__reactAutoBindPairs;\n    for (var i = 0; i < pairs.length; i += 2) {\n      var autoBindKey = pairs[i];\n      var method = pairs[i + 1];\n      component[autoBindKey] = bindAutoBindMethod(component, method);\n    }\n  }\n\n  var IsMountedPreMixin = {\n    componentDidMount: function() {\n      this.__isMounted = true;\n    }\n  };\n\n  var IsMountedPostMixin = {\n    componentWillUnmount: function() {\n      this.__isMounted = false;\n    }\n  };\n\n  /**\n   * Add more to the ReactClass base class. These are all legacy features and\n   * therefore not already part of the modern ReactComponent.\n   */\n  var ReactClassMixin = {\n    /**\n     * TODO: This will be deprecated because state should always keep a consistent\n     * type signature and the only use case for this, is to avoid that.\n     */\n    replaceState: function(newState, callback) {\n      this.updater.enqueueReplaceState(this, newState, callback);\n    },\n\n    /**\n     * Checks whether or not this composite component is mounted.\n     * @return {boolean} True if mounted, false otherwise.\n     * @protected\n     * @final\n     */\n    isMounted: function() {\n      if (process.env.NODE_ENV !== 'production') {\n        warning(\n          this.__didWarnIsMounted,\n          '%s: isMounted is deprecated. Instead, make sure to clean up ' +\n            'subscriptions and pending requests in componentWillUnmount to ' +\n            'prevent memory leaks.',\n          (this.constructor && this.constructor.displayName) ||\n            this.name ||\n            'Component'\n        );\n        this.__didWarnIsMounted = true;\n      }\n      return !!this.__isMounted;\n    }\n  };\n\n  var ReactClassComponent = function() {};\n  _assign(\n    ReactClassComponent.prototype,\n    ReactComponent.prototype,\n    ReactClassMixin\n  );\n\n  /**\n   * Creates a composite component class given a class specification.\n   * See https://facebook.github.io/react/docs/top-level-api.html#react.createclass\n   *\n   * @param {object} spec Class specification (which must define `render`).\n   * @return {function} Component constructor function.\n   * @public\n   */\n  function createClass(spec) {\n    // To keep our warnings more understandable, we'll use a little hack here to\n    // ensure that Constructor.name !== 'Constructor'. This makes sure we don't\n    // unnecessarily identify a class without displayName as 'Constructor'.\n    var Constructor = identity(function(props, context, updater) {\n      // This constructor gets overridden by mocks. The argument is used\n      // by mocks to assert on what gets mounted.\n\n      if (process.env.NODE_ENV !== 'production') {\n        warning(\n          this instanceof Constructor,\n          'Something is calling a React component directly. Use a factory or ' +\n            'JSX instead. See: https://fb.me/react-legacyfactory'\n        );\n      }\n\n      // Wire up auto-binding\n      if (this.__reactAutoBindPairs.length) {\n        bindAutoBindMethods(this);\n      }\n\n      this.props = props;\n      this.context = context;\n      this.refs = emptyObject;\n      this.updater = updater || ReactNoopUpdateQueue;\n\n      this.state = null;\n\n      // ReactClasses doesn't have constructors. Instead, they use the\n      // getInitialState and componentWillMount methods for initialization.\n\n      var initialState = this.getInitialState ? this.getInitialState() : null;\n      if (process.env.NODE_ENV !== 'production') {\n        // We allow auto-mocks to proceed as if they're returning null.\n        if (\n          initialState === undefined &&\n          this.getInitialState._isMockFunction\n        ) {\n          // This is probably bad practice. Consider warning here and\n          // deprecating this convenience.\n          initialState = null;\n        }\n      }\n      _invariant(\n        typeof initialState === 'object' && !Array.isArray(initialState),\n        '%s.getInitialState(): must return an object or null',\n        Constructor.displayName || 'ReactCompositeComponent'\n      );\n\n      this.state = initialState;\n    });\n    Constructor.prototype = new ReactClassComponent();\n    Constructor.prototype.constructor = Constructor;\n    Constructor.prototype.__reactAutoBindPairs = [];\n\n    injectedMixins.forEach(mixSpecIntoComponent.bind(null, Constructor));\n\n    mixSpecIntoComponent(Constructor, IsMountedPreMixin);\n    mixSpecIntoComponent(Constructor, spec);\n    mixSpecIntoComponent(Constructor, IsMountedPostMixin);\n\n    // Initialize the defaultProps property after all mixins have been merged.\n    if (Constructor.getDefaultProps) {\n      Constructor.defaultProps = Constructor.getDefaultProps();\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      // This is a tag to indicate that the use of these method names is ok,\n      // since it's used with createClass. If it's not, then it's likely a\n      // mistake so we'll warn you to use the static property, property\n      // initializer or constructor respectively.\n      if (Constructor.getDefaultProps) {\n        Constructor.getDefaultProps.isReactClassApproved = {};\n      }\n      if (Constructor.prototype.getInitialState) {\n        Constructor.prototype.getInitialState.isReactClassApproved = {};\n      }\n    }\n\n    _invariant(\n      Constructor.prototype.render,\n      'createClass(...): Class specification must implement a `render` method.'\n    );\n\n    if (process.env.NODE_ENV !== 'production') {\n      warning(\n        !Constructor.prototype.componentShouldUpdate,\n        '%s has a method called ' +\n          'componentShouldUpdate(). Did you mean shouldComponentUpdate()? ' +\n          'The name is phrased as a question because the function is ' +\n          'expected to return a value.',\n        spec.displayName || 'A component'\n      );\n      warning(\n        !Constructor.prototype.componentWillRecieveProps,\n        '%s has a method called ' +\n          'componentWillRecieveProps(). Did you mean componentWillReceiveProps()?',\n        spec.displayName || 'A component'\n      );\n      warning(\n        !Constructor.prototype.UNSAFE_componentWillRecieveProps,\n        '%s has a method called UNSAFE_componentWillRecieveProps(). ' +\n          'Did you mean UNSAFE_componentWillReceiveProps()?',\n        spec.displayName || 'A component'\n      );\n    }\n\n    // Reduce time spent doing lookups by setting these on the prototype.\n    for (var methodName in ReactClassInterface) {\n      if (!Constructor.prototype[methodName]) {\n        Constructor.prototype[methodName] = null;\n      }\n    }\n\n    return Constructor;\n  }\n\n  return createClass;\n}\n\nmodule.exports = factory;\n","'use strict';\n\nvar React = require('react'),\n\tcreateClass = require('create-react-class'),\n\tDaysView = require('./DaysView'),\n\tMonthsView = require('./MonthsView'),\n\tYearsView = require('./YearsView'),\n\tTimeView = require('./TimeView')\n\t;\n\nvar CalendarContainer = createClass({\n\tviewComponents: {\n\t\tdays: DaysView,\n\t\tmonths: MonthsView,\n\t\tyears: YearsView,\n\t\ttime: TimeView\n\t},\n\n\trender: function() {\n\t\treturn React.createElement( this.viewComponents[ this.props.view ], this.props.viewProps );\n\t}\n});\n\nmodule.exports = CalendarContainer;\n","'use strict';\n\nvar React = require('react'),\n\tcreateClass = require('create-react-class'),\n\tmoment = require('moment')\n\t;\n\nvar DateTimePickerDays = createClass({\n\trender: function() {\n\t\tvar footer = this.renderFooter(),\n\t\t\tdate = this.props.viewDate,\n\t\t\tlocale = date.localeData(),\n\t\t\ttableChildren\n\t\t\t;\n\n\t\ttableChildren = [\n\t\t\tReact.createElement('thead', { key: 'th' }, [\n\t\t\t\tReact.createElement('tr', { key: 'h' }, [\n\t\t\t\t\tReact.createElement('th', { key: 'p', className: 'rdtPrev', onClick: this.props.subtractTime( 1, 'months' )}, React.createElement('span', {}, '‹' )),\n\t\t\t\t\tReact.createElement('th', { key: 's', className: 'rdtSwitch', onClick: this.props.showView( 'months' ), colSpan: 5, 'data-value': this.props.viewDate.month() }, locale.months( date ) + ' ' + date.year() ),\n\t\t\t\t\tReact.createElement('th', { key: 'n', className: 'rdtNext', onClick: this.props.addTime( 1, 'months' )}, React.createElement('span', {}, '›' ))\n\t\t\t\t]),\n\t\t\t\tReact.createElement('tr', { key: 'd'}, this.getDaysOfWeek( locale ).map( function( day, index ) { return React.createElement('th', { key: day + index, className: 'dow'}, day ); }) )\n\t\t\t]),\n\t\t\tReact.createElement('tbody', { key: 'tb' }, this.renderDays())\n\t\t];\n\n\t\tif ( footer )\n\t\t\ttableChildren.push( footer );\n\n\t\treturn React.createElement('div', { className: 'rdtDays' },\n\t\t\tReact.createElement('table', {}, tableChildren )\n\t\t);\n\t},\n\n\t/**\n\t * Get a list of the days of the week\n\t * depending on the current locale\n\t * @return {array} A list with the shortname of the days\n\t */\n\tgetDaysOfWeek: function( locale ) {\n\t\tvar days = locale._weekdaysMin,\n\t\t\tfirst = locale.firstDayOfWeek(),\n\t\t\tdow = [],\n\t\t\ti = 0\n\t\t\t;\n\n\t\tdays.forEach( function( day ) {\n\t\t\tdow[ (7 + ( i++ ) - first) % 7 ] = day;\n\t\t});\n\n\t\treturn dow;\n\t},\n\n\trenderDays: function() {\n\t\tvar date = this.props.viewDate,\n\t\t\tselected = this.props.selectedDate && this.props.selectedDate.clone(),\n\t\t\tprevMonth = date.clone().subtract( 1, 'months' ),\n\t\t\tcurrentYear = date.year(),\n\t\t\tcurrentMonth = date.month(),\n\t\t\tweeks = [],\n\t\t\tdays = [],\n\t\t\trenderer = this.props.renderDay || this.renderDay,\n\t\t\tisValid = this.props.isValidDate || this.alwaysValidDate,\n\t\t\tclasses, isDisabled, dayProps, currentDate\n\t\t\t;\n\n\t\t// Go to the last week of the previous month\n\t\tprevMonth.date( prevMonth.daysInMonth() ).startOf( 'week' );\n\t\tvar lastDay = prevMonth.clone().add( 42, 'd' );\n\n\t\twhile ( prevMonth.isBefore( lastDay ) ) {\n\t\t\tclasses = 'rdtDay';\n\t\t\tcurrentDate = prevMonth.clone();\n\n\t\t\tif ( ( prevMonth.year() === currentYear && prevMonth.month() < currentMonth ) || ( prevMonth.year() < currentYear ) )\n\t\t\t\tclasses += ' rdtOld';\n\t\t\telse if ( ( prevMonth.year() === currentYear && prevMonth.month() > currentMonth ) || ( prevMonth.year() > currentYear ) )\n\t\t\t\tclasses += ' rdtNew';\n\n\t\t\tif ( selected && prevMonth.isSame( selected, 'day' ) )\n\t\t\t\tclasses += ' rdtActive';\n\n\t\t\tif ( prevMonth.isSame( moment(), 'day' ) )\n\t\t\t\tclasses += ' rdtToday';\n\n\t\t\tisDisabled = !isValid( currentDate, selected );\n\t\t\tif ( isDisabled )\n\t\t\t\tclasses += ' rdtDisabled';\n\n\t\t\tdayProps = {\n\t\t\t\tkey: prevMonth.format( 'M_D' ),\n\t\t\t\t'data-value': prevMonth.date(),\n\t\t\t\tclassName: classes\n\t\t\t};\n\n\t\t\tif ( !isDisabled )\n\t\t\t\tdayProps.onClick = this.updateSelectedDate;\n\n\t\t\tdays.push( renderer( dayProps, currentDate, selected ) );\n\n\t\t\tif ( days.length === 7 ) {\n\t\t\t\tweeks.push( React.createElement('tr', { key: prevMonth.format( 'M_D' )}, days ) );\n\t\t\t\tdays = [];\n\t\t\t}\n\n\t\t\tprevMonth.add( 1, 'd' );\n\t\t}\n\n\t\treturn weeks;\n\t},\n\n\tupdateSelectedDate: function( event ) {\n\t\tthis.props.updateSelectedDate( event, true );\n\t},\n\n\trenderDay: function( props, currentDate ) {\n\t\treturn React.createElement('td',  props, currentDate.date() );\n\t},\n\n\trenderFooter: function() {\n\t\tif ( !this.props.timeFormat )\n\t\t\treturn '';\n\n\t\tvar date = this.props.selectedDate || this.props.viewDate;\n\n\t\treturn React.createElement('tfoot', { key: 'tf'},\n\t\t\tReact.createElement('tr', {},\n\t\t\t\tReact.createElement('td', { onClick: this.props.showView( 'time' ), colSpan: 7, className: 'rdtTimeToggle' }, date.format( this.props.timeFormat ))\n\t\t\t)\n\t\t);\n\t},\n\n\talwaysValidDate: function() {\n\t\treturn 1;\n\t}\n});\n\nmodule.exports = DateTimePickerDays;\n","'use strict';\n\nvar React = require('react'),\n\tcreateClass = require('create-react-class')\n;\n\nvar DateTimePickerMonths = createClass({\n\trender: function() {\n\t\treturn React.createElement('div', { className: 'rdtMonths' }, [\n\t\t\tReact.createElement('table', { key: 'a' }, React.createElement('thead', {}, React.createElement('tr', {}, [\n\t\t\t\tReact.createElement('th', { key: 'prev', className: 'rdtPrev', onClick: this.props.subtractTime( 1, 'years' )}, React.createElement('span', {}, '‹' )),\n\t\t\t\tReact.createElement('th', { key: 'year', className: 'rdtSwitch', onClick: this.props.showView( 'years' ), colSpan: 2, 'data-value': this.props.viewDate.year() }, this.props.viewDate.year() ),\n\t\t\t\tReact.createElement('th', { key: 'next', className: 'rdtNext', onClick: this.props.addTime( 1, 'years' )}, React.createElement('span', {}, '›' ))\n\t\t\t]))),\n\t\t\tReact.createElement('table', { key: 'months' }, React.createElement('tbody', { key: 'b' }, this.renderMonths()))\n\t\t]);\n\t},\n\n\trenderMonths: function() {\n\t\tvar date = this.props.selectedDate,\n\t\t\tmonth = this.props.viewDate.month(),\n\t\t\tyear = this.props.viewDate.year(),\n\t\t\trows = [],\n\t\t\ti = 0,\n\t\t\tmonths = [],\n\t\t\trenderer = this.props.renderMonth || this.renderMonth,\n\t\t\tisValid = this.props.isValidDate || this.alwaysValidDate,\n\t\t\tclasses, props, currentMonth, isDisabled, noOfDaysInMonth, daysInMonth, validDay,\n\t\t\t// Date is irrelevant because we're only interested in month\n\t\t\tirrelevantDate = 1\n\t\t\t;\n\n\t\twhile (i < 12) {\n\t\t\tclasses = 'rdtMonth';\n\t\t\tcurrentMonth =\n\t\t\t\tthis.props.viewDate.clone().set({ year: year, month: i, date: irrelevantDate });\n\n\t\t\tnoOfDaysInMonth = currentMonth.endOf( 'month' ).format( 'D' );\n\t\t\tdaysInMonth = Array.from({ length: noOfDaysInMonth }, function( e, i ) {\n\t\t\t\treturn i + 1;\n\t\t\t});\n\n\t\t\tvalidDay = daysInMonth.find(function( d ) {\n\t\t\t\tvar day = currentMonth.clone().set( 'date', d );\n\t\t\t\treturn isValid( day );\n\t\t\t});\n\n\t\t\tisDisabled = ( validDay === undefined );\n\n\t\t\tif ( isDisabled )\n\t\t\t\tclasses += ' rdtDisabled';\n\n\t\t\tif ( date && i === date.month() && year === date.year() )\n\t\t\t\tclasses += ' rdtActive';\n\n\t\t\tprops = {\n\t\t\t\tkey: i,\n\t\t\t\t'data-value': i,\n\t\t\t\tclassName: classes\n\t\t\t};\n\n\t\t\tif ( !isDisabled )\n\t\t\t\tprops.onClick = ( this.props.updateOn === 'months' ?\n\t\t\t\t\tthis.updateSelectedMonth : this.props.setDate( 'month' ) );\n\n\t\t\tmonths.push( renderer( props, i, year, date && date.clone() ) );\n\n\t\t\tif ( months.length === 4 ) {\n\t\t\t\trows.push( React.createElement('tr', { key: month + '_' + rows.length }, months ) );\n\t\t\t\tmonths = [];\n\t\t\t}\n\n\t\t\ti++;\n\t\t}\n\n\t\treturn rows;\n\t},\n\n\tupdateSelectedMonth: function( event ) {\n\t\tthis.props.updateSelectedDate( event );\n\t},\n\n\trenderMonth: function( props, month ) {\n\t\tvar localMoment = this.props.viewDate;\n\t\tvar monthStr = localMoment.localeData().monthsShort( localMoment.month( month ) );\n\t\tvar strLength = 3;\n\t\t// Because some months are up to 5 characters long, we want to\n\t\t// use a fixed string length for consistency\n\t\tvar monthStrFixedLength = monthStr.substring( 0, strLength );\n\t\treturn React.createElement('td', props, capitalize( monthStrFixedLength ) );\n\t},\n\n\talwaysValidDate: function() {\n\t\treturn 1;\n\t},\n});\n\nfunction capitalize( str ) {\n\treturn str.charAt( 0 ).toUpperCase() + str.slice( 1 );\n}\n\nmodule.exports = DateTimePickerMonths;\n","'use strict';\n\nvar React = require('react'),\n\tcreateClass = require('create-react-class')\n;\n\nvar DateTimePickerYears = createClass({\n\trender: function() {\n\t\tvar year = parseInt( this.props.viewDate.year() / 10, 10 ) * 10;\n\n\t\treturn React.createElement('div', { className: 'rdtYears' }, [\n\t\t\tReact.createElement('table', { key: 'a' }, React.createElement('thead', {}, React.createElement('tr', {}, [\n\t\t\t\tReact.createElement('th', { key: 'prev', className: 'rdtPrev', onClick: this.props.subtractTime( 10, 'years' )}, React.createElement('span', {}, '‹' )),\n\t\t\t\tReact.createElement('th', { key: 'year', className: 'rdtSwitch', onClick: this.props.showView( 'years' ), colSpan: 2 }, year + '-' + ( year + 9 ) ),\n\t\t\t\tReact.createElement('th', { key: 'next', className: 'rdtNext', onClick: this.props.addTime( 10, 'years' )}, React.createElement('span', {}, '›' ))\n\t\t\t]))),\n\t\t\tReact.createElement('table', { key: 'years' }, React.createElement('tbody',  {}, this.renderYears( year )))\n\t\t]);\n\t},\n\n\trenderYears: function( year ) {\n\t\tvar years = [],\n\t\t\ti = -1,\n\t\t\trows = [],\n\t\t\trenderer = this.props.renderYear || this.renderYear,\n\t\t\tselectedDate = this.props.selectedDate,\n\t\t\tisValid = this.props.isValidDate || this.alwaysValidDate,\n\t\t\tclasses, props, currentYear, isDisabled, noOfDaysInYear, daysInYear, validDay,\n\t\t\t// Month and date are irrelevant here because\n\t\t\t// we're only interested in the year\n\t\t\tirrelevantMonth = 0,\n\t\t\tirrelevantDate = 1\n\t\t\t;\n\n\t\tyear--;\n\t\twhile (i < 11) {\n\t\t\tclasses = 'rdtYear';\n\t\t\tcurrentYear = this.props.viewDate.clone().set(\n\t\t\t\t{ year: year, month: irrelevantMonth, date: irrelevantDate } );\n\n\t\t\t// Not sure what 'rdtOld' is for, commenting out for now as it's not working properly\n\t\t\t// if ( i === -1 | i === 10 )\n\t\t\t\t// classes += ' rdtOld';\n\n\t\t\tnoOfDaysInYear = currentYear.endOf( 'year' ).format( 'DDD' );\n\t\t\tdaysInYear = Array.from({ length: noOfDaysInYear }, function( e, i ) {\n\t\t\t\treturn i + 1;\n\t\t\t});\n\n\t\t\tvalidDay = daysInYear.find(function( d ) {\n\t\t\t\tvar day = currentYear.clone().dayOfYear( d );\n\t\t\t\treturn isValid( day );\n\t\t\t});\n\n\t\t\tisDisabled = ( validDay === undefined );\n\n\t\t\tif ( isDisabled )\n\t\t\t\tclasses += ' rdtDisabled';\n\n\t\t\tif ( selectedDate && selectedDate.year() === year )\n\t\t\t\tclasses += ' rdtActive';\n\n\t\t\tprops = {\n\t\t\t\tkey: year,\n\t\t\t\t'data-value': year,\n\t\t\t\tclassName: classes\n\t\t\t};\n\n\t\t\tif ( !isDisabled )\n\t\t\t\tprops.onClick = ( this.props.updateOn === 'years' ?\n\t\t\t\t\tthis.updateSelectedYear : this.props.setDate('year') );\n\n\t\t\tyears.push( renderer( props, year, selectedDate && selectedDate.clone() ));\n\n\t\t\tif ( years.length === 4 ) {\n\t\t\t\trows.push( React.createElement('tr', { key: i }, years ) );\n\t\t\t\tyears = [];\n\t\t\t}\n\n\t\t\tyear++;\n\t\t\ti++;\n\t\t}\n\n\t\treturn rows;\n\t},\n\n\tupdateSelectedYear: function( event ) {\n\t\tthis.props.updateSelectedDate( event );\n\t},\n\n\trenderYear: function( props, year ) {\n\t\treturn React.createElement('td',  props, year );\n\t},\n\n\talwaysValidDate: function() {\n\t\treturn 1;\n\t},\n});\n\nmodule.exports = DateTimePickerYears;\n","'use strict';\n\nvar React = require('react'),\n\tcreateClass = require('create-react-class'),\n\tassign = require('object-assign')\n\t;\n\nvar DateTimePickerTime = createClass({\n\tgetInitialState: function() {\n\t\treturn this.calculateState( this.props );\n\t},\n\n\tcalculateState: function( props ) {\n\t\tvar date = props.selectedDate || props.viewDate,\n\t\t\tformat = props.timeFormat,\n\t\t\tcounters = []\n\t\t\t;\n\n\t\tif ( format.toLowerCase().indexOf('h') !== -1 ) {\n\t\t\tcounters.push('hours');\n\t\t\tif ( format.indexOf('m') !== -1 ) {\n\t\t\t\tcounters.push('minutes');\n\t\t\t\tif ( format.indexOf('s') !== -1 ) {\n\t\t\t\t\tcounters.push('seconds');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar hours = date.format( 'H' );\n\n\t\tvar daypart = false;\n\t\tif ( this.state !== null && this.props.timeFormat.toLowerCase().indexOf( ' a' ) !== -1 ) {\n\t\t\tif ( this.props.timeFormat.indexOf( ' A' ) !== -1 ) {\n\t\t\t\tdaypart = ( hours >= 12 ) ? 'PM' : 'AM';\n\t\t\t} else {\n\t\t\t\tdaypart = ( hours >= 12 ) ? 'pm' : 'am';\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\thours: hours,\n\t\t\tminutes: date.format( 'mm' ),\n\t\t\tseconds: date.format( 'ss' ),\n\t\t\tmilliseconds: date.format( 'SSS' ),\n\t\t\tdaypart: daypart,\n\t\t\tcounters: counters\n\t\t};\n\t},\n\n\trenderCounter: function( type ) {\n\t\tif ( type !== 'daypart' ) {\n\t\t\tvar value = this.state[ type ];\n\t\t\tif ( type === 'hours' && this.props.timeFormat.toLowerCase().indexOf( ' a' ) !== -1 ) {\n\t\t\t\tvalue = ( value - 1 ) % 12 + 1;\n\n\t\t\t\tif ( value === 0 ) {\n\t\t\t\t\tvalue = 12;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn React.createElement('div', { key: type, className: 'rdtCounter' }, [\n\t\t\t\tReact.createElement('span', { key: 'up', className: 'rdtBtn', onMouseDown: this.onStartClicking( 'increase', type ), onContextMenu: this.disableContextMenu }, '▲' ),\n\t\t\t\tReact.createElement('div', { key: 'c', className: 'rdtCount' }, value ),\n\t\t\t\tReact.createElement('span', { key: 'do', className: 'rdtBtn', onMouseDown: this.onStartClicking( 'decrease', type ), onContextMenu: this.disableContextMenu }, '▼' )\n\t\t\t]);\n\t\t}\n\t\treturn '';\n\t},\n\n\trenderDayPart: function() {\n\t\treturn React.createElement('div', { key: 'dayPart', className: 'rdtCounter' }, [\n\t\t\tReact.createElement('span', { key: 'up', className: 'rdtBtn', onMouseDown: this.onStartClicking( 'toggleDayPart', 'hours'), onContextMenu: this.disableContextMenu }, '▲' ),\n\t\t\tReact.createElement('div', { key: this.state.daypart, className: 'rdtCount' }, this.state.daypart ),\n\t\t\tReact.createElement('span', { key: 'do', className: 'rdtBtn', onMouseDown: this.onStartClicking( 'toggleDayPart', 'hours'), onContextMenu: this.disableContextMenu }, '▼' )\n\t\t]);\n\t},\n\n\trender: function() {\n\t\tvar me = this,\n\t\t\tcounters = []\n\t\t;\n\n\t\tthis.state.counters.forEach( function( c ) {\n\t\t\tif ( counters.length )\n\t\t\t\tcounters.push( React.createElement('div', { key: 'sep' + counters.length, className: 'rdtCounterSeparator' }, ':' ) );\n\t\t\tcounters.push( me.renderCounter( c ) );\n\t\t});\n\n\t\tif ( this.state.daypart !== false ) {\n\t\t\tcounters.push( me.renderDayPart() );\n\t\t}\n\n\t\tif ( this.state.counters.length === 3 && this.props.timeFormat.indexOf( 'S' ) !== -1 ) {\n\t\t\tcounters.push( React.createElement('div', { className: 'rdtCounterSeparator', key: 'sep5' }, ':' ) );\n\t\t\tcounters.push(\n\t\t\t\tReact.createElement('div', { className: 'rdtCounter rdtMilli', key: 'm' },\n\t\t\t\t\tReact.createElement('input', { value: this.state.milliseconds, type: 'text', onChange: this.updateMilli } )\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\n\t\treturn React.createElement('div', { className: 'rdtTime' },\n\t\t\tReact.createElement('table', {}, [\n\t\t\t\tthis.renderHeader(),\n\t\t\t\tReact.createElement('tbody', { key: 'b'}, React.createElement('tr', {}, React.createElement('td', {},\n\t\t\t\t\tReact.createElement('div', { className: 'rdtCounters' }, counters )\n\t\t\t\t)))\n\t\t\t])\n\t\t);\n\t},\n\n\tcomponentWillMount: function() {\n\t\tvar me = this;\n\t\tme.timeConstraints = {\n\t\t\thours: {\n\t\t\t\tmin: 0,\n\t\t\t\tmax: 23,\n\t\t\t\tstep: 1\n\t\t\t},\n\t\t\tminutes: {\n\t\t\t\tmin: 0,\n\t\t\t\tmax: 59,\n\t\t\t\tstep: 1\n\t\t\t},\n\t\t\tseconds: {\n\t\t\t\tmin: 0,\n\t\t\t\tmax: 59,\n\t\t\t\tstep: 1\n\t\t\t},\n\t\t\tmilliseconds: {\n\t\t\t\tmin: 0,\n\t\t\t\tmax: 999,\n\t\t\t\tstep: 1\n\t\t\t}\n\t\t};\n\t\t['hours', 'minutes', 'seconds', 'milliseconds'].forEach( function( type ) {\n\t\t\tassign(me.timeConstraints[ type ], me.props.timeConstraints[ type ]);\n\t\t});\n\t\tthis.setState( this.calculateState( this.props ) );\n\t},\n\n\tcomponentWillReceiveProps: function( nextProps ) {\n\t\tthis.setState( this.calculateState( nextProps ) );\n\t},\n\n\tupdateMilli: function( e ) {\n\t\tvar milli = parseInt( e.target.value, 10 );\n\t\tif ( milli === e.target.value && milli >= 0 && milli < 1000 ) {\n\t\t\tthis.props.setTime( 'milliseconds', milli );\n\t\t\tthis.setState( { milliseconds: milli } );\n\t\t}\n\t},\n\n\trenderHeader: function() {\n\t\tif ( !this.props.dateFormat )\n\t\t\treturn null;\n\n\t\tvar date = this.props.selectedDate || this.props.viewDate;\n\t\treturn React.createElement('thead', { key: 'h' }, React.createElement('tr', {},\n\t\t\tReact.createElement('th', { className: 'rdtSwitch', colSpan: 4, onClick: this.props.showView( 'days' ) }, date.format( this.props.dateFormat ) )\n\t\t));\n\t},\n\n\tonStartClicking: function( action, type ) {\n\t\tvar me = this;\n\n\t\treturn function() {\n\t\t\tvar update = {};\n\t\t\tupdate[ type ] = me[ action ]( type );\n\t\t\tme.setState( update );\n\n\t\t\tme.timer = setTimeout( function() {\n\t\t\t\tme.increaseTimer = setInterval( function() {\n\t\t\t\t\tupdate[ type ] = me[ action ]( type );\n\t\t\t\t\tme.setState( update );\n\t\t\t\t}, 70);\n\t\t\t}, 500);\n\n\t\t\tme.mouseUpListener = function() {\n\t\t\t\tclearTimeout( me.timer );\n\t\t\t\tclearInterval( me.increaseTimer );\n\t\t\t\tme.props.setTime( type, me.state[ type ] );\n\t\t\t\tdocument.body.removeEventListener( 'mouseup', me.mouseUpListener );\n\t\t\t\tdocument.body.removeEventListener( 'touchend', me.mouseUpListener );\n\t\t\t};\n\n\t\t\tdocument.body.addEventListener( 'mouseup', me.mouseUpListener );\n\t\t\tdocument.body.addEventListener( 'touchend', me.mouseUpListener );\n\t\t};\n\t},\n\n\tdisableContextMenu: function( event ) {\n\t\tevent.preventDefault();\n\t\treturn false;\n\t},\n\n\tpadValues: {\n\t\thours: 1,\n\t\tminutes: 2,\n\t\tseconds: 2,\n\t\tmilliseconds: 3\n\t},\n\n\ttoggleDayPart: function( type ) { // type is always 'hours'\n\t\tvar value = parseInt( this.state[ type ], 10) + 12;\n\t\tif ( value > this.timeConstraints[ type ].max )\n\t\t\tvalue = this.timeConstraints[ type ].min + ( value - ( this.timeConstraints[ type ].max + 1 ) );\n\t\treturn this.pad( type, value );\n\t},\n\n\tincrease: function( type ) {\n\t\tvar value = parseInt( this.state[ type ], 10) + this.timeConstraints[ type ].step;\n\t\tif ( value > this.timeConstraints[ type ].max )\n\t\t\tvalue = this.timeConstraints[ type ].min + ( value - ( this.timeConstraints[ type ].max + 1 ) );\n\t\treturn this.pad( type, value );\n\t},\n\n\tdecrease: function( type ) {\n\t\tvar value = parseInt( this.state[ type ], 10) - this.timeConstraints[ type ].step;\n\t\tif ( value < this.timeConstraints[ type ].min )\n\t\t\tvalue = this.timeConstraints[ type ].max + 1 - ( this.timeConstraints[ type ].min - value );\n\t\treturn this.pad( type, value );\n\t},\n\n\tpad: function( type, value ) {\n\t\tvar str = value + '';\n\t\twhile ( str.length < this.padValues[ type ] )\n\t\t\tstr = '0' + str;\n\t\treturn str;\n\t},\n});\n\nmodule.exports = DateTimePickerTime;\n","import {createElement,Component}from'react';import {findDOMNode}from'react-dom';function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}/**\n * Check whether some DOM node is our Component's node.\n */\nfunction isNodeFound(current, componentNode, ignoreClass) {\n  if (current === componentNode) {\n    return true;\n  } // SVG <use/> elements do not technically reside in the rendered DOM, so\n  // they do not have classList directly, but they offer a link to their\n  // corresponding element, which can have classList. This extra check is for\n  // that case.\n  // See: http://www.w3.org/TR/SVG11/struct.html#InterfaceSVGUseElement\n  // Discussion: https://github.com/Pomax/react-onclickoutside/pull/17\n\n\n  if (current.correspondingElement) {\n    return current.correspondingElement.classList.contains(ignoreClass);\n  }\n\n  return current.classList.contains(ignoreClass);\n}\n/**\n * Try to find our node in a hierarchy of nodes, returning the document\n * node as highest node if our node is not found in the path up.\n */\n\nfunction findHighest(current, componentNode, ignoreClass) {\n  if (current === componentNode) {\n    return true;\n  } // If source=local then this event came from 'somewhere'\n  // inside and should be ignored. We could handle this with\n  // a layered approach, too, but that requires going back to\n  // thinking in terms of Dom node nesting, running counter\n  // to React's 'you shouldn't care about the DOM' philosophy.\n  // Also cover shadowRoot node by checking current.host\n\n\n  while (current.parentNode || current.host) {\n    // Only check normal node without shadowRoot\n    if (current.parentNode && isNodeFound(current, componentNode, ignoreClass)) {\n      return true;\n    }\n\n    current = current.parentNode || current.host;\n  }\n\n  return current;\n}\n/**\n * Check if the browser scrollbar was clicked\n */\n\nfunction clickedScrollbar(evt) {\n  return document.documentElement.clientWidth <= evt.clientX || document.documentElement.clientHeight <= evt.clientY;\n}// ideally will get replaced with external dep\n// when rafrex/detect-passive-events#4 and rafrex/detect-passive-events#5 get merged in\nvar testPassiveEventSupport = function testPassiveEventSupport() {\n  if (typeof window === 'undefined' || typeof window.addEventListener !== 'function') {\n    return;\n  }\n\n  var passive = false;\n  var options = Object.defineProperty({}, 'passive', {\n    get: function get() {\n      passive = true;\n    }\n  });\n\n  var noop = function noop() {};\n\n  window.addEventListener('testPassiveEventSupport', noop, options);\n  window.removeEventListener('testPassiveEventSupport', noop, options);\n  return passive;\n};function autoInc(seed) {\n  if (seed === void 0) {\n    seed = 0;\n  }\n\n  return function () {\n    return ++seed;\n  };\n}\n\nvar uid = autoInc();var passiveEventSupport;\nvar handlersMap = {};\nvar enabledInstances = {};\nvar touchEvents = ['touchstart', 'touchmove'];\nvar IGNORE_CLASS_NAME = 'ignore-react-onclickoutside';\n/**\n * Options for addEventHandler and removeEventHandler\n */\n\nfunction getEventHandlerOptions(instance, eventName) {\n  var handlerOptions = null;\n  var isTouchEvent = touchEvents.indexOf(eventName) !== -1;\n\n  if (isTouchEvent && passiveEventSupport) {\n    handlerOptions = {\n      passive: !instance.props.preventDefault\n    };\n  }\n\n  return handlerOptions;\n}\n/**\n * This function generates the HOC function that you'll use\n * in order to impart onOutsideClick listening to an\n * arbitrary component. It gets called at the end of the\n * bootstrapping code to yield an instance of the\n * onClickOutsideHOC function defined inside setupHOC().\n */\n\n\nfunction onClickOutsideHOC(WrappedComponent, config) {\n  var _class, _temp;\n\n  var componentName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  return _temp = _class = /*#__PURE__*/function (_Component) {\n    _inheritsLoose(onClickOutside, _Component);\n\n    function onClickOutside(props) {\n      var _this;\n\n      _this = _Component.call(this, props) || this;\n\n      _this.__outsideClickHandler = function (event) {\n        if (typeof _this.__clickOutsideHandlerProp === 'function') {\n          _this.__clickOutsideHandlerProp(event);\n\n          return;\n        }\n\n        var instance = _this.getInstance();\n\n        if (typeof instance.props.handleClickOutside === 'function') {\n          instance.props.handleClickOutside(event);\n          return;\n        }\n\n        if (typeof instance.handleClickOutside === 'function') {\n          instance.handleClickOutside(event);\n          return;\n        }\n\n        throw new Error(\"WrappedComponent: \" + componentName + \" lacks a handleClickOutside(event) function for processing outside click events.\");\n      };\n\n      _this.__getComponentNode = function () {\n        var instance = _this.getInstance();\n\n        if (config && typeof config.setClickOutsideRef === 'function') {\n          return config.setClickOutsideRef()(instance);\n        }\n\n        if (typeof instance.setClickOutsideRef === 'function') {\n          return instance.setClickOutsideRef();\n        }\n\n        return findDOMNode(instance);\n      };\n\n      _this.enableOnClickOutside = function () {\n        if (typeof document === 'undefined' || enabledInstances[_this._uid]) {\n          return;\n        }\n\n        if (typeof passiveEventSupport === 'undefined') {\n          passiveEventSupport = testPassiveEventSupport();\n        }\n\n        enabledInstances[_this._uid] = true;\n        var events = _this.props.eventTypes;\n\n        if (!events.forEach) {\n          events = [events];\n        }\n\n        handlersMap[_this._uid] = function (event) {\n          if (_this.componentNode === null) return;\n\n          if (_this.props.preventDefault) {\n            event.preventDefault();\n          }\n\n          if (_this.props.stopPropagation) {\n            event.stopPropagation();\n          }\n\n          if (_this.props.excludeScrollbar && clickedScrollbar(event)) return;\n          var current = event.composed && event.composedPath && event.composedPath().shift() || event.target;\n\n          if (findHighest(current, _this.componentNode, _this.props.outsideClickIgnoreClass) !== document) {\n            return;\n          }\n\n          _this.__outsideClickHandler(event);\n        };\n\n        events.forEach(function (eventName) {\n          document.addEventListener(eventName, handlersMap[_this._uid], getEventHandlerOptions(_assertThisInitialized(_this), eventName));\n        });\n      };\n\n      _this.disableOnClickOutside = function () {\n        delete enabledInstances[_this._uid];\n        var fn = handlersMap[_this._uid];\n\n        if (fn && typeof document !== 'undefined') {\n          var events = _this.props.eventTypes;\n\n          if (!events.forEach) {\n            events = [events];\n          }\n\n          events.forEach(function (eventName) {\n            return document.removeEventListener(eventName, fn, getEventHandlerOptions(_assertThisInitialized(_this), eventName));\n          });\n          delete handlersMap[_this._uid];\n        }\n      };\n\n      _this.getRef = function (ref) {\n        return _this.instanceRef = ref;\n      };\n\n      _this._uid = uid();\n      return _this;\n    }\n    /**\n     * Access the WrappedComponent's instance.\n     */\n\n\n    var _proto = onClickOutside.prototype;\n\n    _proto.getInstance = function getInstance() {\n      if (WrappedComponent.prototype && !WrappedComponent.prototype.isReactComponent) {\n        return this;\n      }\n\n      var ref = this.instanceRef;\n      return ref.getInstance ? ref.getInstance() : ref;\n    };\n\n    /**\n     * Add click listeners to the current document,\n     * linked to this component's state.\n     */\n    _proto.componentDidMount = function componentDidMount() {\n      // If we are in an environment without a DOM such\n      // as shallow rendering or snapshots then we exit\n      // early to prevent any unhandled errors being thrown.\n      if (typeof document === 'undefined' || !document.createElement) {\n        return;\n      }\n\n      var instance = this.getInstance();\n\n      if (config && typeof config.handleClickOutside === 'function') {\n        this.__clickOutsideHandlerProp = config.handleClickOutside(instance);\n\n        if (typeof this.__clickOutsideHandlerProp !== 'function') {\n          throw new Error(\"WrappedComponent: \" + componentName + \" lacks a function for processing outside click events specified by the handleClickOutside config option.\");\n        }\n      }\n\n      this.componentNode = this.__getComponentNode(); // return early so we dont initiate onClickOutside\n\n      if (this.props.disableOnClickOutside) return;\n      this.enableOnClickOutside();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      this.componentNode = this.__getComponentNode();\n    }\n    /**\n     * Remove all document's event listeners for this component\n     */\n    ;\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      this.disableOnClickOutside();\n    }\n    /**\n     * Can be called to explicitly enable event listening\n     * for clicks and touches outside of this element.\n     */\n    ;\n\n    /**\n     * Pass-through render\n     */\n    _proto.render = function render() {\n      // eslint-disable-next-line no-unused-vars\n      var _this$props = this.props;\n          _this$props.excludeScrollbar;\n          var props = _objectWithoutPropertiesLoose(_this$props, [\"excludeScrollbar\"]);\n\n      if (WrappedComponent.prototype && WrappedComponent.prototype.isReactComponent) {\n        props.ref = this.getRef;\n      } else {\n        props.wrappedRef = this.getRef;\n      }\n\n      props.disableOnClickOutside = this.disableOnClickOutside;\n      props.enableOnClickOutside = this.enableOnClickOutside;\n      return createElement(WrappedComponent, props);\n    };\n\n    return onClickOutside;\n  }(Component), _class.displayName = \"OnClickOutside(\" + componentName + \")\", _class.defaultProps = {\n    eventTypes: ['mousedown', 'touchstart'],\n    excludeScrollbar: config && config.excludeScrollbar || false,\n    outsideClickIgnoreClass: IGNORE_CLASS_NAME,\n    preventDefault: false,\n    stopPropagation: false\n  }, _class.getClass = function () {\n    return WrappedComponent.getClass ? WrappedComponent.getClass() : WrappedComponent;\n  }, _temp;\n}export default onClickOutsideHOC;export{IGNORE_CLASS_NAME};","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (file, acceptedFiles) {\n  if (file && acceptedFiles) {\n    var acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\n    var fileName = file.name || '';\n    var mimeType = (file.type || '').toLowerCase();\n    var baseMimeType = mimeType.replace(/\\/.*$/, '');\n    return acceptedFilesArray.some(function (type) {\n      var validType = type.trim().toLowerCase();\n\n      if (validType.charAt(0) === '.') {\n        return fileName.toLowerCase().endsWith(validType);\n      } else if (validType.endsWith('/*')) {\n        // This is something like a image/* mime type\n        return baseMimeType === validType.replace(/\\/.*$/, '');\n      }\n\n      return mimeType === validType;\n    });\n  }\n\n  return true;\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","module.exports = function () { /* empty */ };\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","(typeof navigator !== \"undefined\") && (function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.lottie = factory());\n})(this, (function () { 'use strict';\n\n  var svgNS = 'http://www.w3.org/2000/svg';\n  var locationHref = '';\n  var _useWebWorker = false;\n  var initialDefaultFrame = -999999;\n\n  var setWebWorker = function setWebWorker(flag) {\n    _useWebWorker = !!flag;\n  };\n\n  var getWebWorker = function getWebWorker() {\n    return _useWebWorker;\n  };\n\n  var setLocationHref = function setLocationHref(value) {\n    locationHref = value;\n  };\n\n  var getLocationHref = function getLocationHref() {\n    return locationHref;\n  };\n\n  function createTag(type) {\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\n    return document.createElement(type);\n  }\n\n  function extendPrototype(sources, destination) {\n    var i;\n    var len = sources.length;\n    var sourcePrototype;\n\n    for (i = 0; i < len; i += 1) {\n      sourcePrototype = sources[i].prototype;\n\n      for (var attr in sourcePrototype) {\n        if (Object.prototype.hasOwnProperty.call(sourcePrototype, attr)) destination.prototype[attr] = sourcePrototype[attr];\n      }\n    }\n  }\n\n  function getDescriptor(object, prop) {\n    return Object.getOwnPropertyDescriptor(object, prop);\n  }\n\n  function createProxyFunction(prototype) {\n    function ProxyFunction() {}\n\n    ProxyFunction.prototype = prototype;\n    return ProxyFunction;\n  }\n\n  // import Howl from '../../3rd_party/howler';\n  var audioControllerFactory = function () {\n    function AudioController(audioFactory) {\n      this.audios = [];\n      this.audioFactory = audioFactory;\n      this._volume = 1;\n      this._isMuted = false;\n    }\n\n    AudioController.prototype = {\n      addAudio: function addAudio(audio) {\n        this.audios.push(audio);\n      },\n      pause: function pause() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].pause();\n        }\n      },\n      resume: function resume() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].resume();\n        }\n      },\n      setRate: function setRate(rateValue) {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].setRate(rateValue);\n        }\n      },\n      createAudio: function createAudio(assetPath) {\n        if (this.audioFactory) {\n          return this.audioFactory(assetPath);\n        }\n\n        if (window.Howl) {\n          return new window.Howl({\n            src: [assetPath]\n          });\n        }\n\n        return {\n          isPlaying: false,\n          play: function play() {\n            this.isPlaying = true;\n          },\n          seek: function seek() {\n            this.isPlaying = false;\n          },\n          playing: function playing() {},\n          rate: function rate() {},\n          setVolume: function setVolume() {}\n        };\n      },\n      setAudioFactory: function setAudioFactory(audioFactory) {\n        this.audioFactory = audioFactory;\n      },\n      setVolume: function setVolume(value) {\n        this._volume = value;\n\n        this._updateVolume();\n      },\n      mute: function mute() {\n        this._isMuted = true;\n\n        this._updateVolume();\n      },\n      unmute: function unmute() {\n        this._isMuted = false;\n\n        this._updateVolume();\n      },\n      getVolume: function getVolume() {\n        return this._volume;\n      },\n      _updateVolume: function _updateVolume() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].volume(this._volume * (this._isMuted ? 0 : 1));\n        }\n      }\n    };\n    return function () {\n      return new AudioController();\n    };\n  }();\n\n  var createTypedArray = function () {\n    function createRegularArray(type, len) {\n      var i = 0;\n      var arr = [];\n      var value;\n\n      switch (type) {\n        case 'int16':\n        case 'uint8c':\n          value = 1;\n          break;\n\n        default:\n          value = 1.1;\n          break;\n      }\n\n      for (i = 0; i < len; i += 1) {\n        arr.push(value);\n      }\n\n      return arr;\n    }\n\n    function createTypedArrayFactory(type, len) {\n      if (type === 'float32') {\n        return new Float32Array(len);\n      }\n\n      if (type === 'int16') {\n        return new Int16Array(len);\n      }\n\n      if (type === 'uint8c') {\n        return new Uint8ClampedArray(len);\n      }\n\n      return createRegularArray(type, len);\n    }\n\n    if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\n      return createTypedArrayFactory;\n    }\n\n    return createRegularArray;\n  }();\n\n  function createSizedArray(len) {\n    return Array.apply(null, {\n      length: len\n    });\n  }\n\n  function _typeof$6(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$6 = function _typeof(obj) { return typeof obj; }; } else { _typeof$6 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$6(obj); }\n  var subframeEnabled = true;\n  var expressionsPlugin = null;\n  var idPrefix$1 = '';\n  var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  var _shouldRoundValues = false;\n  var bmPow = Math.pow;\n  var bmSqrt = Math.sqrt;\n  var bmFloor = Math.floor;\n  var bmMax = Math.max;\n  var bmMin = Math.min;\n  var BMMath = {};\n\n  (function () {\n    var propertyNames = ['abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'atan2', 'ceil', 'cbrt', 'expm1', 'clz32', 'cos', 'cosh', 'exp', 'floor', 'fround', 'hypot', 'imul', 'log', 'log1p', 'log2', 'log10', 'max', 'min', 'pow', 'random', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc', 'E', 'LN10', 'LN2', 'LOG10E', 'LOG2E', 'PI', 'SQRT1_2', 'SQRT2'];\n    var i;\n    var len = propertyNames.length;\n\n    for (i = 0; i < len; i += 1) {\n      BMMath[propertyNames[i]] = Math[propertyNames[i]];\n    }\n  })();\n\n  function ProjectInterface$1() {\n    return {};\n  }\n\n  BMMath.random = Math.random;\n\n  BMMath.abs = function (val) {\n    var tOfVal = _typeof$6(val);\n\n    if (tOfVal === 'object' && val.length) {\n      var absArr = createSizedArray(val.length);\n      var i;\n      var len = val.length;\n\n      for (i = 0; i < len; i += 1) {\n        absArr[i] = Math.abs(val[i]);\n      }\n\n      return absArr;\n    }\n\n    return Math.abs(val);\n  };\n\n  var defaultCurveSegments = 150;\n  var degToRads = Math.PI / 180;\n  var roundCorner = 0.5519;\n\n  function roundValues(flag) {\n    _shouldRoundValues = !!flag;\n  }\n\n  function bmRnd(value) {\n    if (_shouldRoundValues) {\n      return Math.round(value);\n    }\n\n    return value;\n  }\n\n  function styleDiv(element) {\n    element.style.position = 'absolute';\n    element.style.top = 0;\n    element.style.left = 0;\n    element.style.display = 'block';\n    element.style.transformOrigin = '0 0';\n    element.style.webkitTransformOrigin = '0 0';\n    element.style.backfaceVisibility = 'visible';\n    element.style.webkitBackfaceVisibility = 'visible';\n    element.style.transformStyle = 'preserve-3d';\n    element.style.webkitTransformStyle = 'preserve-3d';\n    element.style.mozTransformStyle = 'preserve-3d';\n  }\n\n  function BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier) {\n    this.type = type;\n    this.currentTime = currentTime;\n    this.totalTime = totalTime;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMCompleteEvent(type, frameMultiplier) {\n    this.type = type;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier) {\n    this.type = type;\n    this.currentLoop = currentLoop;\n    this.totalLoops = totalLoops;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMSegmentStartEvent(type, firstFrame, totalFrames) {\n    this.type = type;\n    this.firstFrame = firstFrame;\n    this.totalFrames = totalFrames;\n  }\n\n  function BMDestroyEvent(type, target) {\n    this.type = type;\n    this.target = target;\n  }\n\n  function BMRenderFrameErrorEvent(nativeError, currentTime) {\n    this.type = 'renderFrameError';\n    this.nativeError = nativeError;\n    this.currentTime = currentTime;\n  }\n\n  function BMConfigErrorEvent(nativeError) {\n    this.type = 'configError';\n    this.nativeError = nativeError;\n  }\n\n  function BMAnimationConfigErrorEvent(type, nativeError) {\n    this.type = type;\n    this.nativeError = nativeError;\n  }\n\n  var createElementID = function () {\n    var _count = 0;\n    return function createID() {\n      _count += 1;\n      return idPrefix$1 + '__lottie_element_' + _count;\n    };\n  }();\n\n  function HSVtoRGB(h, s, v) {\n    var r;\n    var g;\n    var b;\n    var i;\n    var f;\n    var p;\n    var q;\n    var t;\n    i = Math.floor(h * 6);\n    f = h * 6 - i;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n\n    switch (i % 6) {\n      case 0:\n        r = v;\n        g = t;\n        b = p;\n        break;\n\n      case 1:\n        r = q;\n        g = v;\n        b = p;\n        break;\n\n      case 2:\n        r = p;\n        g = v;\n        b = t;\n        break;\n\n      case 3:\n        r = p;\n        g = q;\n        b = v;\n        break;\n\n      case 4:\n        r = t;\n        g = p;\n        b = v;\n        break;\n\n      case 5:\n        r = v;\n        g = p;\n        b = q;\n        break;\n\n      default:\n        break;\n    }\n\n    return [r, g, b];\n  }\n\n  function RGBtoHSV(r, g, b) {\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var d = max - min;\n    var h;\n    var s = max === 0 ? 0 : d / max;\n    var v = max / 255;\n\n    switch (max) {\n      case min:\n        h = 0;\n        break;\n\n      case r:\n        h = g - b + d * (g < b ? 6 : 0);\n        h /= 6 * d;\n        break;\n\n      case g:\n        h = b - r + d * 2;\n        h /= 6 * d;\n        break;\n\n      case b:\n        h = r - g + d * 4;\n        h /= 6 * d;\n        break;\n\n      default:\n        break;\n    }\n\n    return [h, s, v];\n  }\n\n  function addSaturationToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[1] += offset;\n\n    if (hsv[1] > 1) {\n      hsv[1] = 1;\n    } else if (hsv[1] <= 0) {\n      hsv[1] = 0;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  function addBrightnessToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[2] += offset;\n\n    if (hsv[2] > 1) {\n      hsv[2] = 1;\n    } else if (hsv[2] < 0) {\n      hsv[2] = 0;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  function addHueToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[0] += offset / 360;\n\n    if (hsv[0] > 1) {\n      hsv[0] -= 1;\n    } else if (hsv[0] < 0) {\n      hsv[0] += 1;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  var rgbToHex = function () {\n    var colorMap = [];\n    var i;\n    var hex;\n\n    for (i = 0; i < 256; i += 1) {\n      hex = i.toString(16);\n      colorMap[i] = hex.length === 1 ? '0' + hex : hex;\n    }\n\n    return function (r, g, b) {\n      if (r < 0) {\n        r = 0;\n      }\n\n      if (g < 0) {\n        g = 0;\n      }\n\n      if (b < 0) {\n        b = 0;\n      }\n\n      return '#' + colorMap[r] + colorMap[g] + colorMap[b];\n    };\n  }();\n\n  var setSubframeEnabled = function setSubframeEnabled(flag) {\n    subframeEnabled = !!flag;\n  };\n\n  var getSubframeEnabled = function getSubframeEnabled() {\n    return subframeEnabled;\n  };\n\n  var setExpressionsPlugin = function setExpressionsPlugin(value) {\n    expressionsPlugin = value;\n  };\n\n  var getExpressionsPlugin = function getExpressionsPlugin() {\n    return expressionsPlugin;\n  };\n\n  var setDefaultCurveSegments = function setDefaultCurveSegments(value) {\n    defaultCurveSegments = value;\n  };\n\n  var getDefaultCurveSegments = function getDefaultCurveSegments() {\n    return defaultCurveSegments;\n  };\n\n  var setIdPrefix = function setIdPrefix(value) {\n    idPrefix$1 = value;\n  };\n\n  var getIdPrefix = function getIdPrefix() {\n    return idPrefix$1;\n  };\n\n  function createNS(type) {\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\n    return document.createElementNS(svgNS, type);\n  }\n\n  function _typeof$5(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$5 = function _typeof(obj) { return typeof obj; }; } else { _typeof$5 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$5(obj); }\n\n  var dataManager = function () {\n    var _counterId = 1;\n    var processes = [];\n    var workerFn;\n    var workerInstance;\n    var workerProxy = {\n      onmessage: function onmessage() {},\n      postMessage: function postMessage(path) {\n        workerFn({\n          data: path\n        });\n      }\n    };\n    var _workerSelf = {\n      postMessage: function postMessage(data) {\n        workerProxy.onmessage({\n          data: data\n        });\n      }\n    };\n\n    function createWorker(fn) {\n      if (window.Worker && window.Blob && getWebWorker()) {\n        var blob = new Blob(['var _workerSelf = self; self.onmessage = ', fn.toString()], {\n          type: 'text/javascript'\n        }); // var blob = new Blob(['self.onmessage = ', fn.toString()], { type: 'text/javascript' });\n\n        var url = URL.createObjectURL(blob);\n        return new Worker(url);\n      }\n\n      workerFn = fn;\n      return workerProxy;\n    }\n\n    function setupWorker() {\n      if (!workerInstance) {\n        workerInstance = createWorker(function workerStart(e) {\n          function dataFunctionManager() {\n            function completeLayers(layers, comps) {\n              var layerData;\n              var i;\n              var len = layers.length;\n              var j;\n              var jLen;\n              var k;\n              var kLen;\n\n              for (i = 0; i < len; i += 1) {\n                layerData = layers[i];\n\n                if ('ks' in layerData && !layerData.completed) {\n                  layerData.completed = true;\n\n                  if (layerData.tt) {\n                    layers[i - 1].td = layerData.tt;\n                  }\n\n                  if (layerData.hasMask) {\n                    var maskProps = layerData.masksProperties;\n                    jLen = maskProps.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (maskProps[j].pt.k.i) {\n                        convertPathsToAbsoluteValues(maskProps[j].pt.k);\n                      } else {\n                        kLen = maskProps[j].pt.k.length;\n\n                        for (k = 0; k < kLen; k += 1) {\n                          if (maskProps[j].pt.k[k].s) {\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\n                          }\n\n                          if (maskProps[j].pt.k[k].e) {\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\n                          }\n                        }\n                      }\n                    }\n                  }\n\n                  if (layerData.ty === 0) {\n                    layerData.layers = findCompLayers(layerData.refId, comps);\n                    completeLayers(layerData.layers, comps);\n                  } else if (layerData.ty === 4) {\n                    completeShapes(layerData.shapes);\n                  } else if (layerData.ty === 5) {\n                    completeText(layerData);\n                  }\n                }\n              }\n            }\n\n            function completeChars(chars, assets) {\n              if (chars) {\n                var i = 0;\n                var len = chars.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (chars[i].t === 1) {\n                    // var compData = findComp(chars[i].data.refId, assets);\n                    chars[i].data.layers = findCompLayers(chars[i].data.refId, assets); // chars[i].data.ip = 0;\n                    // chars[i].data.op = 99999;\n                    // chars[i].data.st = 0;\n                    // chars[i].data.sr = 1;\n                    // chars[i].w = compData.w;\n                    // chars[i].data.ks = {\n                    //   a: { k: [0, 0, 0], a: 0 },\n                    //   p: { k: [0, -compData.h, 0], a: 0 },\n                    //   r: { k: 0, a: 0 },\n                    //   s: { k: [100, 100], a: 0 },\n                    //   o: { k: 100, a: 0 },\n                    // };\n\n                    completeLayers(chars[i].data.layers, assets);\n                  }\n                }\n              }\n            }\n\n            function findComp(id, comps) {\n              var i = 0;\n              var len = comps.length;\n\n              while (i < len) {\n                if (comps[i].id === id) {\n                  return comps[i];\n                }\n\n                i += 1;\n              }\n\n              return null;\n            }\n\n            function findCompLayers(id, comps) {\n              var comp = findComp(id, comps);\n\n              if (comp) {\n                if (!comp.layers.__used) {\n                  comp.layers.__used = true;\n                  return comp.layers;\n                }\n\n                return JSON.parse(JSON.stringify(comp.layers));\n              }\n\n              return null;\n            }\n\n            function completeShapes(arr) {\n              var i;\n              var len = arr.length;\n              var j;\n              var jLen;\n\n              for (i = len - 1; i >= 0; i -= 1) {\n                if (arr[i].ty === 'sh') {\n                  if (arr[i].ks.k.i) {\n                    convertPathsToAbsoluteValues(arr[i].ks.k);\n                  } else {\n                    jLen = arr[i].ks.k.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (arr[i].ks.k[j].s) {\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\n                      }\n\n                      if (arr[i].ks.k[j].e) {\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\n                      }\n                    }\n                  }\n                } else if (arr[i].ty === 'gr') {\n                  completeShapes(arr[i].it);\n                }\n              }\n            }\n\n            function convertPathsToAbsoluteValues(path) {\n              var i;\n              var len = path.i.length;\n\n              for (i = 0; i < len; i += 1) {\n                path.i[i][0] += path.v[i][0];\n                path.i[i][1] += path.v[i][1];\n                path.o[i][0] += path.v[i][0];\n                path.o[i][1] += path.v[i][1];\n              }\n            }\n\n            function checkVersion(minimum, animVersionString) {\n              var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\n\n              if (minimum[0] > animVersion[0]) {\n                return true;\n              }\n\n              if (animVersion[0] > minimum[0]) {\n                return false;\n              }\n\n              if (minimum[1] > animVersion[1]) {\n                return true;\n              }\n\n              if (animVersion[1] > minimum[1]) {\n                return false;\n              }\n\n              if (minimum[2] > animVersion[2]) {\n                return true;\n              }\n\n              if (animVersion[2] > minimum[2]) {\n                return false;\n              }\n\n              return null;\n            }\n\n            var checkText = function () {\n              var minimumVersion = [4, 4, 14];\n\n              function updateTextLayer(textLayer) {\n                var documentData = textLayer.t.d;\n                textLayer.t.d = {\n                  k: [{\n                    s: documentData,\n                    t: 0\n                  }]\n                };\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 5) {\n                    updateTextLayer(layers[i]);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkChars = function () {\n              var minimumVersion = [4, 7, 99];\n              return function (animationData) {\n                if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\n                  var i;\n                  var len = animationData.chars.length;\n\n                  for (i = 0; i < len; i += 1) {\n                    var charData = animationData.chars[i];\n\n                    if (charData.data && charData.data.shapes) {\n                      completeShapes(charData.data.shapes);\n                      charData.data.ip = 0;\n                      charData.data.op = 99999;\n                      charData.data.st = 0;\n                      charData.data.sr = 1;\n                      charData.data.ks = {\n                        p: {\n                          k: [0, 0],\n                          a: 0\n                        },\n                        s: {\n                          k: [100, 100],\n                          a: 0\n                        },\n                        a: {\n                          k: [0, 0],\n                          a: 0\n                        },\n                        r: {\n                          k: 0,\n                          a: 0\n                        },\n                        o: {\n                          k: 100,\n                          a: 0\n                        }\n                      };\n\n                      if (!animationData.chars[i].t) {\n                        charData.data.shapes.push({\n                          ty: 'no'\n                        });\n                        charData.data.shapes[0].it.push({\n                          p: {\n                            k: [0, 0],\n                            a: 0\n                          },\n                          s: {\n                            k: [100, 100],\n                            a: 0\n                          },\n                          a: {\n                            k: [0, 0],\n                            a: 0\n                          },\n                          r: {\n                            k: 0,\n                            a: 0\n                          },\n                          o: {\n                            k: 100,\n                            a: 0\n                          },\n                          sk: {\n                            k: 0,\n                            a: 0\n                          },\n                          sa: {\n                            k: 0,\n                            a: 0\n                          },\n                          ty: 'tr'\n                        });\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkPathProperties = function () {\n              var minimumVersion = [5, 7, 15];\n\n              function updateTextLayer(textLayer) {\n                var pathData = textLayer.t.p;\n\n                if (typeof pathData.a === 'number') {\n                  pathData.a = {\n                    a: 0,\n                    k: pathData.a\n                  };\n                }\n\n                if (typeof pathData.p === 'number') {\n                  pathData.p = {\n                    a: 0,\n                    k: pathData.p\n                  };\n                }\n\n                if (typeof pathData.r === 'number') {\n                  pathData.r = {\n                    a: 0,\n                    k: pathData.r\n                  };\n                }\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 5) {\n                    updateTextLayer(layers[i]);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkColors = function () {\n              var minimumVersion = [4, 1, 9];\n\n              function iterateShapes(shapes) {\n                var i;\n                var len = shapes.length;\n                var j;\n                var jLen;\n\n                for (i = 0; i < len; i += 1) {\n                  if (shapes[i].ty === 'gr') {\n                    iterateShapes(shapes[i].it);\n                  } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\n                    if (shapes[i].c.k && shapes[i].c.k[0].i) {\n                      jLen = shapes[i].c.k.length;\n\n                      for (j = 0; j < jLen; j += 1) {\n                        if (shapes[i].c.k[j].s) {\n                          shapes[i].c.k[j].s[0] /= 255;\n                          shapes[i].c.k[j].s[1] /= 255;\n                          shapes[i].c.k[j].s[2] /= 255;\n                          shapes[i].c.k[j].s[3] /= 255;\n                        }\n\n                        if (shapes[i].c.k[j].e) {\n                          shapes[i].c.k[j].e[0] /= 255;\n                          shapes[i].c.k[j].e[1] /= 255;\n                          shapes[i].c.k[j].e[2] /= 255;\n                          shapes[i].c.k[j].e[3] /= 255;\n                        }\n                      }\n                    } else {\n                      shapes[i].c.k[0] /= 255;\n                      shapes[i].c.k[1] /= 255;\n                      shapes[i].c.k[2] /= 255;\n                      shapes[i].c.k[3] /= 255;\n                    }\n                  }\n                }\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 4) {\n                    iterateShapes(layers[i].shapes);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkShapes = function () {\n              var minimumVersion = [4, 4, 18];\n\n              function completeClosingShapes(arr) {\n                var i;\n                var len = arr.length;\n                var j;\n                var jLen;\n\n                for (i = len - 1; i >= 0; i -= 1) {\n                  if (arr[i].ty === 'sh') {\n                    if (arr[i].ks.k.i) {\n                      arr[i].ks.k.c = arr[i].closed;\n                    } else {\n                      jLen = arr[i].ks.k.length;\n\n                      for (j = 0; j < jLen; j += 1) {\n                        if (arr[i].ks.k[j].s) {\n                          arr[i].ks.k[j].s[0].c = arr[i].closed;\n                        }\n\n                        if (arr[i].ks.k[j].e) {\n                          arr[i].ks.k[j].e[0].c = arr[i].closed;\n                        }\n                      }\n                    }\n                  } else if (arr[i].ty === 'gr') {\n                    completeClosingShapes(arr[i].it);\n                  }\n                }\n              }\n\n              function iterateLayers(layers) {\n                var layerData;\n                var i;\n                var len = layers.length;\n                var j;\n                var jLen;\n                var k;\n                var kLen;\n\n                for (i = 0; i < len; i += 1) {\n                  layerData = layers[i];\n\n                  if (layerData.hasMask) {\n                    var maskProps = layerData.masksProperties;\n                    jLen = maskProps.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (maskProps[j].pt.k.i) {\n                        maskProps[j].pt.k.c = maskProps[j].cl;\n                      } else {\n                        kLen = maskProps[j].pt.k.length;\n\n                        for (k = 0; k < kLen; k += 1) {\n                          if (maskProps[j].pt.k[k].s) {\n                            maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\n                          }\n\n                          if (maskProps[j].pt.k[k].e) {\n                            maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\n                          }\n                        }\n                      }\n                    }\n                  }\n\n                  if (layerData.ty === 4) {\n                    completeClosingShapes(layerData.shapes);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            function completeData(animationData) {\n              if (animationData.__complete) {\n                return;\n              }\n\n              checkColors(animationData);\n              checkText(animationData);\n              checkChars(animationData);\n              checkPathProperties(animationData);\n              checkShapes(animationData);\n              completeLayers(animationData.layers, animationData.assets);\n              completeChars(animationData.chars, animationData.assets);\n              animationData.__complete = true;\n            }\n\n            function completeText(data) {\n              if (data.t.a.length === 0 && !('m' in data.t.p)) {// data.singleShape = true;\n              }\n            }\n\n            var moduleOb = {};\n            moduleOb.completeData = completeData;\n            moduleOb.checkColors = checkColors;\n            moduleOb.checkChars = checkChars;\n            moduleOb.checkPathProperties = checkPathProperties;\n            moduleOb.checkShapes = checkShapes;\n            moduleOb.completeLayers = completeLayers;\n            return moduleOb;\n          }\n\n          if (!_workerSelf.dataManager) {\n            _workerSelf.dataManager = dataFunctionManager();\n          }\n\n          if (!_workerSelf.assetLoader) {\n            _workerSelf.assetLoader = function () {\n              function formatResponse(xhr) {\n                // using typeof doubles the time of execution of this method,\n                // so if available, it's better to use the header to validate the type\n                var contentTypeHeader = xhr.getResponseHeader('content-type');\n\n                if (contentTypeHeader && xhr.responseType === 'json' && contentTypeHeader.indexOf('json') !== -1) {\n                  return xhr.response;\n                }\n\n                if (xhr.response && _typeof$5(xhr.response) === 'object') {\n                  return xhr.response;\n                }\n\n                if (xhr.response && typeof xhr.response === 'string') {\n                  return JSON.parse(xhr.response);\n                }\n\n                if (xhr.responseText) {\n                  return JSON.parse(xhr.responseText);\n                }\n\n                return null;\n              }\n\n              function loadAsset(path, fullPath, callback, errorCallback) {\n                var response;\n                var xhr = new XMLHttpRequest(); // set responseType after calling open or IE will break.\n\n                try {\n                  // This crashes on Android WebView prior to KitKat\n                  xhr.responseType = 'json';\n                } catch (err) {} // eslint-disable-line no-empty\n\n\n                xhr.onreadystatechange = function () {\n                  if (xhr.readyState === 4) {\n                    if (xhr.status === 200) {\n                      response = formatResponse(xhr);\n                      callback(response);\n                    } else {\n                      try {\n                        response = formatResponse(xhr);\n                        callback(response);\n                      } catch (err) {\n                        if (errorCallback) {\n                          errorCallback(err);\n                        }\n                      }\n                    }\n                  }\n                };\n\n                try {\n                  xhr.open('GET', path, true);\n                } catch (error) {\n                  xhr.open('GET', fullPath + '/' + path, true);\n                }\n\n                xhr.send();\n              }\n\n              return {\n                load: loadAsset\n              };\n            }();\n          }\n\n          if (e.data.type === 'loadAnimation') {\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\n              _workerSelf.dataManager.completeData(data);\n\n              _workerSelf.postMessage({\n                id: e.data.id,\n                payload: data,\n                status: 'success'\n              });\n            }, function () {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                status: 'error'\n              });\n            });\n          } else if (e.data.type === 'complete') {\n            var animation = e.data.animation;\n\n            _workerSelf.dataManager.completeData(animation);\n\n            _workerSelf.postMessage({\n              id: e.data.id,\n              payload: animation,\n              status: 'success'\n            });\n          } else if (e.data.type === 'loadData') {\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                payload: data,\n                status: 'success'\n              });\n            }, function () {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                status: 'error'\n              });\n            });\n          }\n        });\n\n        workerInstance.onmessage = function (event) {\n          var data = event.data;\n          var id = data.id;\n          var process = processes[id];\n          processes[id] = null;\n\n          if (data.status === 'success') {\n            process.onComplete(data.payload);\n          } else if (process.onError) {\n            process.onError();\n          }\n        };\n      }\n    }\n\n    function createProcess(onComplete, onError) {\n      _counterId += 1;\n      var id = 'processId_' + _counterId;\n      processes[id] = {\n        onComplete: onComplete,\n        onError: onError\n      };\n      return id;\n    }\n\n    function loadAnimation(path, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'loadAnimation',\n        path: path,\n        fullPath: window.location.origin + window.location.pathname,\n        id: processId\n      });\n    }\n\n    function loadData(path, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'loadData',\n        path: path,\n        fullPath: window.location.origin + window.location.pathname,\n        id: processId\n      });\n    }\n\n    function completeAnimation(anim, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'complete',\n        animation: anim,\n        id: processId\n      });\n    }\n\n    return {\n      loadAnimation: loadAnimation,\n      loadData: loadData,\n      completeAnimation: completeAnimation\n    };\n  }();\n\n  var ImagePreloader = function () {\n    var proxyImage = function () {\n      var canvas = createTag('canvas');\n      canvas.width = 1;\n      canvas.height = 1;\n      var ctx = canvas.getContext('2d');\n      ctx.fillStyle = 'rgba(0,0,0,0)';\n      ctx.fillRect(0, 0, 1, 1);\n      return canvas;\n    }();\n\n    function imageLoaded() {\n      this.loadedAssets += 1;\n\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\n        if (this.imagesLoadedCb) {\n          this.imagesLoadedCb(null);\n        }\n      }\n    }\n\n    function footageLoaded() {\n      this.loadedFootagesCount += 1;\n\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\n        if (this.imagesLoadedCb) {\n          this.imagesLoadedCb(null);\n        }\n      }\n    }\n\n    function getAssetsPath(assetData, assetsPath, originalPath) {\n      var path = '';\n\n      if (assetData.e) {\n        path = assetData.p;\n      } else if (assetsPath) {\n        var imagePath = assetData.p;\n\n        if (imagePath.indexOf('images/') !== -1) {\n          imagePath = imagePath.split('/')[1];\n        }\n\n        path = assetsPath + imagePath;\n      } else {\n        path = originalPath;\n        path += assetData.u ? assetData.u : '';\n        path += assetData.p;\n      }\n\n      return path;\n    }\n\n    function testImageLoaded(img) {\n      var _count = 0;\n      var intervalId = setInterval(function () {\n        var box = img.getBBox();\n\n        if (box.width || _count > 500) {\n          this._imageLoaded();\n\n          clearInterval(intervalId);\n        }\n\n        _count += 1;\n      }.bind(this), 50);\n    }\n\n    function createImageData(assetData) {\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\n      var img = createNS('image');\n\n      if (isSafari) {\n        this.testImageLoaded(img);\n      } else {\n        img.addEventListener('load', this._imageLoaded, false);\n      }\n\n      img.addEventListener('error', function () {\n        ob.img = proxyImage;\n\n        this._imageLoaded();\n      }.bind(this), false);\n      img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\n\n      if (this._elementHelper.append) {\n        this._elementHelper.append(img);\n      } else {\n        this._elementHelper.appendChild(img);\n      }\n\n      var ob = {\n        img: img,\n        assetData: assetData\n      };\n      return ob;\n    }\n\n    function createImgData(assetData) {\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\n      var img = createTag('img');\n      img.crossOrigin = 'anonymous';\n      img.addEventListener('load', this._imageLoaded, false);\n      img.addEventListener('error', function () {\n        ob.img = proxyImage;\n\n        this._imageLoaded();\n      }.bind(this), false);\n      img.src = path;\n      var ob = {\n        img: img,\n        assetData: assetData\n      };\n      return ob;\n    }\n\n    function createFootageData(data) {\n      var ob = {\n        assetData: data\n      };\n      var path = getAssetsPath(data, this.assetsPath, this.path);\n      dataManager.loadData(path, function (footageData) {\n        ob.img = footageData;\n\n        this._footageLoaded();\n      }.bind(this), function () {\n        ob.img = {};\n\n        this._footageLoaded();\n      }.bind(this));\n      return ob;\n    }\n\n    function loadAssets(assets, cb) {\n      this.imagesLoadedCb = cb;\n      var i;\n      var len = assets.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (!assets[i].layers) {\n          if (!assets[i].t || assets[i].t === 'seq') {\n            this.totalImages += 1;\n            this.images.push(this._createImageData(assets[i]));\n          } else if (assets[i].t === 3) {\n            this.totalFootages += 1;\n            this.images.push(this.createFootageData(assets[i]));\n          }\n        }\n      }\n    }\n\n    function setPath(path) {\n      this.path = path || '';\n    }\n\n    function setAssetsPath(path) {\n      this.assetsPath = path || '';\n    }\n\n    function getAsset(assetData) {\n      var i = 0;\n      var len = this.images.length;\n\n      while (i < len) {\n        if (this.images[i].assetData === assetData) {\n          return this.images[i].img;\n        }\n\n        i += 1;\n      }\n\n      return null;\n    }\n\n    function destroy() {\n      this.imagesLoadedCb = null;\n      this.images.length = 0;\n    }\n\n    function loadedImages() {\n      return this.totalImages === this.loadedAssets;\n    }\n\n    function loadedFootages() {\n      return this.totalFootages === this.loadedFootagesCount;\n    }\n\n    function setCacheType(type, elementHelper) {\n      if (type === 'svg') {\n        this._elementHelper = elementHelper;\n        this._createImageData = this.createImageData.bind(this);\n      } else {\n        this._createImageData = this.createImgData.bind(this);\n      }\n    }\n\n    function ImagePreloaderFactory() {\n      this._imageLoaded = imageLoaded.bind(this);\n      this._footageLoaded = footageLoaded.bind(this);\n      this.testImageLoaded = testImageLoaded.bind(this);\n      this.createFootageData = createFootageData.bind(this);\n      this.assetsPath = '';\n      this.path = '';\n      this.totalImages = 0;\n      this.totalFootages = 0;\n      this.loadedAssets = 0;\n      this.loadedFootagesCount = 0;\n      this.imagesLoadedCb = null;\n      this.images = [];\n    }\n\n    ImagePreloaderFactory.prototype = {\n      loadAssets: loadAssets,\n      setAssetsPath: setAssetsPath,\n      setPath: setPath,\n      loadedImages: loadedImages,\n      loadedFootages: loadedFootages,\n      destroy: destroy,\n      getAsset: getAsset,\n      createImgData: createImgData,\n      createImageData: createImageData,\n      imageLoaded: imageLoaded,\n      footageLoaded: footageLoaded,\n      setCacheType: setCacheType\n    };\n    return ImagePreloaderFactory;\n  }();\n\n  function BaseEvent() {}\n\n  BaseEvent.prototype = {\n    triggerEvent: function triggerEvent(eventName, args) {\n      if (this._cbs[eventName]) {\n        var callbacks = this._cbs[eventName];\n\n        for (var i = 0; i < callbacks.length; i += 1) {\n          callbacks[i](args);\n        }\n      }\n    },\n    addEventListener: function addEventListener(eventName, callback) {\n      if (!this._cbs[eventName]) {\n        this._cbs[eventName] = [];\n      }\n\n      this._cbs[eventName].push(callback);\n\n      return function () {\n        this.removeEventListener(eventName, callback);\n      }.bind(this);\n    },\n    removeEventListener: function removeEventListener(eventName, callback) {\n      if (!callback) {\n        this._cbs[eventName] = null;\n      } else if (this._cbs[eventName]) {\n        var i = 0;\n        var len = this._cbs[eventName].length;\n\n        while (i < len) {\n          if (this._cbs[eventName][i] === callback) {\n            this._cbs[eventName].splice(i, 1);\n\n            i -= 1;\n            len -= 1;\n          }\n\n          i += 1;\n        }\n\n        if (!this._cbs[eventName].length) {\n          this._cbs[eventName] = null;\n        }\n      }\n    }\n  };\n\n  var markerParser = function () {\n    function parsePayloadLines(payload) {\n      var lines = payload.split('\\r\\n');\n      var keys = {};\n      var line;\n      var keysCount = 0;\n\n      for (var i = 0; i < lines.length; i += 1) {\n        line = lines[i].split(':');\n\n        if (line.length === 2) {\n          keys[line[0]] = line[1].trim();\n          keysCount += 1;\n        }\n      }\n\n      if (keysCount === 0) {\n        throw new Error();\n      }\n\n      return keys;\n    }\n\n    return function (_markers) {\n      var markers = [];\n\n      for (var i = 0; i < _markers.length; i += 1) {\n        var _marker = _markers[i];\n        var markerData = {\n          time: _marker.tm,\n          duration: _marker.dr\n        };\n\n        try {\n          markerData.payload = JSON.parse(_markers[i].cm);\n        } catch (_) {\n          try {\n            markerData.payload = parsePayloadLines(_markers[i].cm);\n          } catch (__) {\n            markerData.payload = {\n              name: _markers[i].cm\n            };\n          }\n        }\n\n        markers.push(markerData);\n      }\n\n      return markers;\n    };\n  }();\n\n  var ProjectInterface = function () {\n    function registerComposition(comp) {\n      this.compositions.push(comp);\n    }\n\n    return function () {\n      function _thisProjectFunction(name) {\n        var i = 0;\n        var len = this.compositions.length;\n\n        while (i < len) {\n          if (this.compositions[i].data && this.compositions[i].data.nm === name) {\n            if (this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\n              this.compositions[i].prepareFrame(this.currentFrame);\n            }\n\n            return this.compositions[i].compInterface;\n          }\n\n          i += 1;\n        }\n\n        return null;\n      }\n\n      _thisProjectFunction.compositions = [];\n      _thisProjectFunction.currentFrame = 0;\n      _thisProjectFunction.registerComposition = registerComposition;\n      return _thisProjectFunction;\n    };\n  }();\n\n  var renderers = {};\n\n  var registerRenderer = function registerRenderer(key, value) {\n    renderers[key] = value;\n  };\n\n  function getRenderer(key) {\n    return renderers[key];\n  }\n\n  function _typeof$4(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$4 = function _typeof(obj) { return typeof obj; }; } else { _typeof$4 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$4(obj); }\n\n  var AnimationItem = function AnimationItem() {\n    this._cbs = [];\n    this.name = '';\n    this.path = '';\n    this.isLoaded = false;\n    this.currentFrame = 0;\n    this.currentRawFrame = 0;\n    this.firstFrame = 0;\n    this.totalFrames = 0;\n    this.frameRate = 0;\n    this.frameMult = 0;\n    this.playSpeed = 1;\n    this.playDirection = 1;\n    this.playCount = 0;\n    this.animationData = {};\n    this.assets = [];\n    this.isPaused = true;\n    this.autoplay = false;\n    this.loop = true;\n    this.renderer = null;\n    this.animationID = createElementID();\n    this.assetsPath = '';\n    this.timeCompleted = 0;\n    this.segmentPos = 0;\n    this.isSubframeEnabled = getSubframeEnabled();\n    this.segments = [];\n    this._idle = true;\n    this._completedLoop = false;\n    this.projectInterface = ProjectInterface();\n    this.imagePreloader = new ImagePreloader();\n    this.audioController = audioControllerFactory();\n    this.markers = [];\n    this.configAnimation = this.configAnimation.bind(this);\n    this.onSetupError = this.onSetupError.bind(this);\n    this.onSegmentComplete = this.onSegmentComplete.bind(this);\n    this.drawnFrameEvent = new BMEnterFrameEvent('drawnFrame', 0, 0, 0);\n  };\n\n  extendPrototype([BaseEvent], AnimationItem);\n\n  AnimationItem.prototype.setParams = function (params) {\n    if (params.wrapper || params.container) {\n      this.wrapper = params.wrapper || params.container;\n    }\n\n    var animType = 'svg';\n\n    if (params.animType) {\n      animType = params.animType;\n    } else if (params.renderer) {\n      animType = params.renderer;\n    }\n\n    var RendererClass = getRenderer(animType);\n    this.renderer = new RendererClass(this, params.rendererSettings);\n    this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);\n    this.renderer.setProjectInterface(this.projectInterface);\n    this.animType = animType;\n\n    if (params.loop === '' || params.loop === null || params.loop === undefined || params.loop === true) {\n      this.loop = true;\n    } else if (params.loop === false) {\n      this.loop = false;\n    } else {\n      this.loop = parseInt(params.loop, 10);\n    }\n\n    this.autoplay = 'autoplay' in params ? params.autoplay : true;\n    this.name = params.name ? params.name : '';\n    this.autoloadSegments = Object.prototype.hasOwnProperty.call(params, 'autoloadSegments') ? params.autoloadSegments : true;\n    this.assetsPath = params.assetsPath;\n    this.initialSegment = params.initialSegment;\n\n    if (params.audioFactory) {\n      this.audioController.setAudioFactory(params.audioFactory);\n    }\n\n    if (params.animationData) {\n      this.setupAnimation(params.animationData);\n    } else if (params.path) {\n      if (params.path.lastIndexOf('\\\\') !== -1) {\n        this.path = params.path.substr(0, params.path.lastIndexOf('\\\\') + 1);\n      } else {\n        this.path = params.path.substr(0, params.path.lastIndexOf('/') + 1);\n      }\n\n      this.fileName = params.path.substr(params.path.lastIndexOf('/') + 1);\n      this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf('.json'));\n      dataManager.loadAnimation(params.path, this.configAnimation, this.onSetupError);\n    }\n  };\n\n  AnimationItem.prototype.onSetupError = function () {\n    this.trigger('data_failed');\n  };\n\n  AnimationItem.prototype.setupAnimation = function (data) {\n    dataManager.completeAnimation(data, this.configAnimation);\n  };\n\n  AnimationItem.prototype.setData = function (wrapper, animationData) {\n    if (animationData) {\n      if (_typeof$4(animationData) !== 'object') {\n        animationData = JSON.parse(animationData);\n      }\n    }\n\n    var params = {\n      wrapper: wrapper,\n      animationData: animationData\n    };\n    var wrapperAttributes = wrapper.attributes;\n    params.path = wrapperAttributes.getNamedItem('data-animation-path') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-animation-path').value : wrapperAttributes.getNamedItem('data-bm-path') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-path').value : wrapperAttributes.getNamedItem('bm-path') ? wrapperAttributes.getNamedItem('bm-path').value : '';\n    params.animType = wrapperAttributes.getNamedItem('data-anim-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-type').value : wrapperAttributes.getNamedItem('data-bm-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-type').value : wrapperAttributes.getNamedItem('bm-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('bm-type').value : wrapperAttributes.getNamedItem('data-bm-renderer') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-renderer').value : wrapperAttributes.getNamedItem('bm-renderer') ? wrapperAttributes.getNamedItem('bm-renderer').value : 'canvas';\n    var loop = wrapperAttributes.getNamedItem('data-anim-loop') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-loop').value : wrapperAttributes.getNamedItem('data-bm-loop') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-loop').value : wrapperAttributes.getNamedItem('bm-loop') ? wrapperAttributes.getNamedItem('bm-loop').value : '';\n\n    if (loop === 'false') {\n      params.loop = false;\n    } else if (loop === 'true') {\n      params.loop = true;\n    } else if (loop !== '') {\n      params.loop = parseInt(loop, 10);\n    }\n\n    var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-autoplay').value : wrapperAttributes.getNamedItem('data-bm-autoplay') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-autoplay').value : wrapperAttributes.getNamedItem('bm-autoplay') ? wrapperAttributes.getNamedItem('bm-autoplay').value : true;\n    params.autoplay = autoplay !== 'false';\n    params.name = wrapperAttributes.getNamedItem('data-name') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-name').value : wrapperAttributes.getNamedItem('data-bm-name') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-name').value : wrapperAttributes.getNamedItem('bm-name') ? wrapperAttributes.getNamedItem('bm-name').value : '';\n    var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-prerender').value : wrapperAttributes.getNamedItem('data-bm-prerender') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-prerender').value : wrapperAttributes.getNamedItem('bm-prerender') ? wrapperAttributes.getNamedItem('bm-prerender').value : '';\n\n    if (prerender === 'false') {\n      params.prerender = false;\n    }\n\n    this.setParams(params);\n  };\n\n  AnimationItem.prototype.includeLayers = function (data) {\n    if (data.op > this.animationData.op) {\n      this.animationData.op = data.op;\n      this.totalFrames = Math.floor(data.op - this.animationData.ip);\n    }\n\n    var layers = this.animationData.layers;\n    var i;\n    var len = layers.length;\n    var newLayers = data.layers;\n    var j;\n    var jLen = newLayers.length;\n\n    for (j = 0; j < jLen; j += 1) {\n      i = 0;\n\n      while (i < len) {\n        if (layers[i].id === newLayers[j].id) {\n          layers[i] = newLayers[j];\n          break;\n        }\n\n        i += 1;\n      }\n    }\n\n    if (data.chars || data.fonts) {\n      this.renderer.globalData.fontManager.addChars(data.chars);\n      this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\n    }\n\n    if (data.assets) {\n      len = data.assets.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.animationData.assets.push(data.assets[i]);\n      }\n    }\n\n    this.animationData.__complete = false;\n    dataManager.completeAnimation(this.animationData, this.onSegmentComplete);\n  };\n\n  AnimationItem.prototype.onSegmentComplete = function (data) {\n    this.animationData = data;\n    var expressionsPlugin = getExpressionsPlugin();\n\n    if (expressionsPlugin) {\n      expressionsPlugin.initExpressions(this);\n    }\n\n    this.loadNextSegment();\n  };\n\n  AnimationItem.prototype.loadNextSegment = function () {\n    var segments = this.animationData.segments;\n\n    if (!segments || segments.length === 0 || !this.autoloadSegments) {\n      this.trigger('data_ready');\n      this.timeCompleted = this.totalFrames;\n      return;\n    }\n\n    var segment = segments.shift();\n    this.timeCompleted = segment.time * this.frameRate;\n    var segmentPath = this.path + this.fileName + '_' + this.segmentPos + '.json';\n    this.segmentPos += 1;\n    dataManager.loadData(segmentPath, this.includeLayers.bind(this), function () {\n      this.trigger('data_failed');\n    }.bind(this));\n  };\n\n  AnimationItem.prototype.loadSegments = function () {\n    var segments = this.animationData.segments;\n\n    if (!segments) {\n      this.timeCompleted = this.totalFrames;\n    }\n\n    this.loadNextSegment();\n  };\n\n  AnimationItem.prototype.imagesLoaded = function () {\n    this.trigger('loaded_images');\n    this.checkLoaded();\n  };\n\n  AnimationItem.prototype.preloadImages = function () {\n    this.imagePreloader.setAssetsPath(this.assetsPath);\n    this.imagePreloader.setPath(this.path);\n    this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\n  };\n\n  AnimationItem.prototype.configAnimation = function (animData) {\n    if (!this.renderer) {\n      return;\n    }\n\n    try {\n      this.animationData = animData;\n\n      if (this.initialSegment) {\n        this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\n        this.firstFrame = Math.round(this.initialSegment[0]);\n      } else {\n        this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\n        this.firstFrame = Math.round(this.animationData.ip);\n      }\n\n      this.renderer.configAnimation(animData);\n\n      if (!animData.assets) {\n        animData.assets = [];\n      }\n\n      this.assets = this.animationData.assets;\n      this.frameRate = this.animationData.fr;\n      this.frameMult = this.animationData.fr / 1000;\n      this.renderer.searchExtraCompositions(animData.assets);\n      this.markers = markerParser(animData.markers || []);\n      this.trigger('config_ready');\n      this.preloadImages();\n      this.loadSegments();\n      this.updaFrameModifier();\n      this.waitForFontsLoaded();\n\n      if (this.isPaused) {\n        this.audioController.pause();\n      }\n    } catch (error) {\n      this.triggerConfigError(error);\n    }\n  };\n\n  AnimationItem.prototype.waitForFontsLoaded = function () {\n    if (!this.renderer) {\n      return;\n    }\n\n    if (this.renderer.globalData.fontManager.isLoaded) {\n      this.checkLoaded();\n    } else {\n      setTimeout(this.waitForFontsLoaded.bind(this), 20);\n    }\n  };\n\n  AnimationItem.prototype.checkLoaded = function () {\n    if (!this.isLoaded && this.renderer.globalData.fontManager.isLoaded && (this.imagePreloader.loadedImages() || this.renderer.rendererType !== 'canvas') && this.imagePreloader.loadedFootages()) {\n      this.isLoaded = true;\n      var expressionsPlugin = getExpressionsPlugin();\n\n      if (expressionsPlugin) {\n        expressionsPlugin.initExpressions(this);\n      }\n\n      this.renderer.initItems();\n      setTimeout(function () {\n        this.trigger('DOMLoaded');\n      }.bind(this), 0);\n      this.gotoFrame();\n\n      if (this.autoplay) {\n        this.play();\n      }\n    }\n  };\n\n  AnimationItem.prototype.resize = function () {\n    this.renderer.updateContainerSize();\n  };\n\n  AnimationItem.prototype.setSubframe = function (flag) {\n    this.isSubframeEnabled = !!flag;\n  };\n\n  AnimationItem.prototype.gotoFrame = function () {\n    this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame; // eslint-disable-line no-bitwise\n\n    if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {\n      this.currentFrame = this.timeCompleted;\n    }\n\n    this.trigger('enterFrame');\n    this.renderFrame();\n    this.trigger('drawnFrame');\n  };\n\n  AnimationItem.prototype.renderFrame = function () {\n    if (this.isLoaded === false || !this.renderer) {\n      return;\n    }\n\n    try {\n      this.renderer.renderFrame(this.currentFrame + this.firstFrame);\n    } catch (error) {\n      this.triggerRenderFrameError(error);\n    }\n  };\n\n  AnimationItem.prototype.play = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === true) {\n      this.isPaused = false;\n      this.trigger('_pause');\n      this.audioController.resume();\n\n      if (this._idle) {\n        this._idle = false;\n        this.trigger('_active');\n      }\n    }\n  };\n\n  AnimationItem.prototype.pause = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === false) {\n      this.isPaused = true;\n      this.trigger('_play');\n      this._idle = true;\n      this.trigger('_idle');\n      this.audioController.pause();\n    }\n  };\n\n  AnimationItem.prototype.togglePause = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === true) {\n      this.play();\n    } else {\n      this.pause();\n    }\n  };\n\n  AnimationItem.prototype.stop = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.pause();\n    this.playCount = 0;\n    this._completedLoop = false;\n    this.setCurrentRawFrameValue(0);\n  };\n\n  AnimationItem.prototype.getMarkerData = function (markerName) {\n    var marker;\n\n    for (var i = 0; i < this.markers.length; i += 1) {\n      marker = this.markers[i];\n\n      if (marker.payload && marker.payload.name === markerName) {\n        return marker;\n      }\n    }\n\n    return null;\n  };\n\n  AnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    var numValue = Number(value);\n\n    if (isNaN(numValue)) {\n      var marker = this.getMarkerData(value);\n\n      if (marker) {\n        this.goToAndStop(marker.time, true);\n      }\n    } else if (isFrame) {\n      this.setCurrentRawFrameValue(value);\n    } else {\n      this.setCurrentRawFrameValue(value * this.frameModifier);\n    }\n\n    this.pause();\n  };\n\n  AnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    var numValue = Number(value);\n\n    if (isNaN(numValue)) {\n      var marker = this.getMarkerData(value);\n\n      if (marker) {\n        if (!marker.duration) {\n          this.goToAndStop(marker.time, true);\n        } else {\n          this.playSegments([marker.time, marker.time + marker.duration], true);\n        }\n      }\n    } else {\n      this.goToAndStop(numValue, isFrame, name);\n    }\n\n    this.play();\n  };\n\n  AnimationItem.prototype.advanceTime = function (value) {\n    if (this.isPaused === true || this.isLoaded === false) {\n      return;\n    }\n\n    var nextValue = this.currentRawFrame + value * this.frameModifier;\n    var _isComplete = false; // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\n    // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\n\n    if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\n      if (!this.loop || this.playCount === this.loop) {\n        if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {\n          _isComplete = true;\n          nextValue = this.totalFrames - 1;\n        }\n      } else if (nextValue >= this.totalFrames) {\n        this.playCount += 1;\n\n        if (!this.checkSegments(nextValue % this.totalFrames)) {\n          this.setCurrentRawFrameValue(nextValue % this.totalFrames);\n          this._completedLoop = true;\n          this.trigger('loopComplete');\n        }\n      } else {\n        this.setCurrentRawFrameValue(nextValue);\n      }\n    } else if (nextValue < 0) {\n      if (!this.checkSegments(nextValue % this.totalFrames)) {\n        if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) {\n          // eslint-disable-line no-plusplus\n          this.setCurrentRawFrameValue(this.totalFrames + nextValue % this.totalFrames);\n\n          if (!this._completedLoop) {\n            this._completedLoop = true;\n          } else {\n            this.trigger('loopComplete');\n          }\n        } else {\n          _isComplete = true;\n          nextValue = 0;\n        }\n      }\n    } else {\n      this.setCurrentRawFrameValue(nextValue);\n    }\n\n    if (_isComplete) {\n      this.setCurrentRawFrameValue(nextValue);\n      this.pause();\n      this.trigger('complete');\n    }\n  };\n\n  AnimationItem.prototype.adjustSegment = function (arr, offset) {\n    this.playCount = 0;\n\n    if (arr[1] < arr[0]) {\n      if (this.frameModifier > 0) {\n        if (this.playSpeed < 0) {\n          this.setSpeed(-this.playSpeed);\n        } else {\n          this.setDirection(-1);\n        }\n      }\n\n      this.totalFrames = arr[0] - arr[1];\n      this.timeCompleted = this.totalFrames;\n      this.firstFrame = arr[1];\n      this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\n    } else if (arr[1] > arr[0]) {\n      if (this.frameModifier < 0) {\n        if (this.playSpeed < 0) {\n          this.setSpeed(-this.playSpeed);\n        } else {\n          this.setDirection(1);\n        }\n      }\n\n      this.totalFrames = arr[1] - arr[0];\n      this.timeCompleted = this.totalFrames;\n      this.firstFrame = arr[0];\n      this.setCurrentRawFrameValue(0.001 + offset);\n    }\n\n    this.trigger('segmentStart');\n  };\n\n  AnimationItem.prototype.setSegment = function (init, end) {\n    var pendingFrame = -1;\n\n    if (this.isPaused) {\n      if (this.currentRawFrame + this.firstFrame < init) {\n        pendingFrame = init;\n      } else if (this.currentRawFrame + this.firstFrame > end) {\n        pendingFrame = end - init;\n      }\n    }\n\n    this.firstFrame = init;\n    this.totalFrames = end - init;\n    this.timeCompleted = this.totalFrames;\n\n    if (pendingFrame !== -1) {\n      this.goToAndStop(pendingFrame, true);\n    }\n  };\n\n  AnimationItem.prototype.playSegments = function (arr, forceFlag) {\n    if (forceFlag) {\n      this.segments.length = 0;\n    }\n\n    if (_typeof$4(arr[0]) === 'object') {\n      var i;\n      var len = arr.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.segments.push(arr[i]);\n      }\n    } else {\n      this.segments.push(arr);\n    }\n\n    if (this.segments.length && forceFlag) {\n      this.adjustSegment(this.segments.shift(), 0);\n    }\n\n    if (this.isPaused) {\n      this.play();\n    }\n  };\n\n  AnimationItem.prototype.resetSegments = function (forceFlag) {\n    this.segments.length = 0;\n    this.segments.push([this.animationData.ip, this.animationData.op]);\n\n    if (forceFlag) {\n      this.checkSegments(0);\n    }\n  };\n\n  AnimationItem.prototype.checkSegments = function (offset) {\n    if (this.segments.length) {\n      this.adjustSegment(this.segments.shift(), offset);\n      return true;\n    }\n\n    return false;\n  };\n\n  AnimationItem.prototype.destroy = function (name) {\n    if (name && this.name !== name || !this.renderer) {\n      return;\n    }\n\n    this.renderer.destroy();\n    this.imagePreloader.destroy();\n    this.trigger('destroy');\n    this._cbs = null;\n    this.onEnterFrame = null;\n    this.onLoopComplete = null;\n    this.onComplete = null;\n    this.onSegmentStart = null;\n    this.onDestroy = null;\n    this.renderer = null;\n    this.renderer = null;\n    this.imagePreloader = null;\n    this.projectInterface = null;\n  };\n\n  AnimationItem.prototype.setCurrentRawFrameValue = function (value) {\n    this.currentRawFrame = value;\n    this.gotoFrame();\n  };\n\n  AnimationItem.prototype.setSpeed = function (val) {\n    this.playSpeed = val;\n    this.updaFrameModifier();\n  };\n\n  AnimationItem.prototype.setDirection = function (val) {\n    this.playDirection = val < 0 ? -1 : 1;\n    this.updaFrameModifier();\n  };\n\n  AnimationItem.prototype.setVolume = function (val, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.setVolume(val);\n  };\n\n  AnimationItem.prototype.getVolume = function () {\n    return this.audioController.getVolume();\n  };\n\n  AnimationItem.prototype.mute = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.mute();\n  };\n\n  AnimationItem.prototype.unmute = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.unmute();\n  };\n\n  AnimationItem.prototype.updaFrameModifier = function () {\n    this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\n    this.audioController.setRate(this.playSpeed * this.playDirection);\n  };\n\n  AnimationItem.prototype.getPath = function () {\n    return this.path;\n  };\n\n  AnimationItem.prototype.getAssetsPath = function (assetData) {\n    var path = '';\n\n    if (assetData.e) {\n      path = assetData.p;\n    } else if (this.assetsPath) {\n      var imagePath = assetData.p;\n\n      if (imagePath.indexOf('images/') !== -1) {\n        imagePath = imagePath.split('/')[1];\n      }\n\n      path = this.assetsPath + imagePath;\n    } else {\n      path = this.path;\n      path += assetData.u ? assetData.u : '';\n      path += assetData.p;\n    }\n\n    return path;\n  };\n\n  AnimationItem.prototype.getAssetData = function (id) {\n    var i = 0;\n    var len = this.assets.length;\n\n    while (i < len) {\n      if (id === this.assets[i].id) {\n        return this.assets[i];\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  AnimationItem.prototype.hide = function () {\n    this.renderer.hide();\n  };\n\n  AnimationItem.prototype.show = function () {\n    this.renderer.show();\n  };\n\n  AnimationItem.prototype.getDuration = function (isFrame) {\n    return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\n  };\n\n  AnimationItem.prototype.updateDocumentData = function (path, documentData, index) {\n    try {\n      var element = this.renderer.getElementByPath(path);\n      element.updateDocumentData(documentData, index);\n    } catch (error) {// TODO: decide how to handle catch case\n    }\n  };\n\n  AnimationItem.prototype.trigger = function (name) {\n    if (this._cbs && this._cbs[name]) {\n      switch (name) {\n        case 'enterFrame':\n          this.triggerEvent(name, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameModifier));\n          break;\n\n        case 'drawnFrame':\n          this.drawnFrameEvent.currentTime = this.currentFrame;\n          this.drawnFrameEvent.totalTime = this.totalFrames;\n          this.drawnFrameEvent.direction = this.frameModifier;\n          this.triggerEvent(name, this.drawnFrameEvent);\n          break;\n\n        case 'loopComplete':\n          this.triggerEvent(name, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n          break;\n\n        case 'complete':\n          this.triggerEvent(name, new BMCompleteEvent(name, this.frameMult));\n          break;\n\n        case 'segmentStart':\n          this.triggerEvent(name, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n          break;\n\n        case 'destroy':\n          this.triggerEvent(name, new BMDestroyEvent(name, this));\n          break;\n\n        default:\n          this.triggerEvent(name);\n      }\n    }\n\n    if (name === 'enterFrame' && this.onEnterFrame) {\n      this.onEnterFrame.call(this, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\n    }\n\n    if (name === 'loopComplete' && this.onLoopComplete) {\n      this.onLoopComplete.call(this, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n    }\n\n    if (name === 'complete' && this.onComplete) {\n      this.onComplete.call(this, new BMCompleteEvent(name, this.frameMult));\n    }\n\n    if (name === 'segmentStart' && this.onSegmentStart) {\n      this.onSegmentStart.call(this, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n    }\n\n    if (name === 'destroy' && this.onDestroy) {\n      this.onDestroy.call(this, new BMDestroyEvent(name, this));\n    }\n  };\n\n  AnimationItem.prototype.triggerRenderFrameError = function (nativeError) {\n    var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\n    this.triggerEvent('error', error);\n\n    if (this.onError) {\n      this.onError.call(this, error);\n    }\n  };\n\n  AnimationItem.prototype.triggerConfigError = function (nativeError) {\n    var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\n    this.triggerEvent('error', error);\n\n    if (this.onError) {\n      this.onError.call(this, error);\n    }\n  };\n\n  var animationManager = function () {\n    var moduleOb = {};\n    var registeredAnimations = [];\n    var initTime = 0;\n    var len = 0;\n    var playingAnimationsNum = 0;\n    var _stopped = true;\n    var _isFrozen = false;\n\n    function removeElement(ev) {\n      var i = 0;\n      var animItem = ev.target;\n\n      while (i < len) {\n        if (registeredAnimations[i].animation === animItem) {\n          registeredAnimations.splice(i, 1);\n          i -= 1;\n          len -= 1;\n\n          if (!animItem.isPaused) {\n            subtractPlayingCount();\n          }\n        }\n\n        i += 1;\n      }\n    }\n\n    function registerAnimation(element, animationData) {\n      if (!element) {\n        return null;\n      }\n\n      var i = 0;\n\n      while (i < len) {\n        if (registeredAnimations[i].elem === element && registeredAnimations[i].elem !== null) {\n          return registeredAnimations[i].animation;\n        }\n\n        i += 1;\n      }\n\n      var animItem = new AnimationItem();\n      setupAnimation(animItem, element);\n      animItem.setData(element, animationData);\n      return animItem;\n    }\n\n    function getRegisteredAnimations() {\n      var i;\n      var lenAnims = registeredAnimations.length;\n      var animations = [];\n\n      for (i = 0; i < lenAnims; i += 1) {\n        animations.push(registeredAnimations[i].animation);\n      }\n\n      return animations;\n    }\n\n    function addPlayingCount() {\n      playingAnimationsNum += 1;\n      activate();\n    }\n\n    function subtractPlayingCount() {\n      playingAnimationsNum -= 1;\n    }\n\n    function setupAnimation(animItem, element) {\n      animItem.addEventListener('destroy', removeElement);\n      animItem.addEventListener('_active', addPlayingCount);\n      animItem.addEventListener('_idle', subtractPlayingCount);\n      registeredAnimations.push({\n        elem: element,\n        animation: animItem\n      });\n      len += 1;\n    }\n\n    function loadAnimation(params) {\n      var animItem = new AnimationItem();\n      setupAnimation(animItem, null);\n      animItem.setParams(params);\n      return animItem;\n    }\n\n    function setSpeed(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setSpeed(val, animation);\n      }\n    }\n\n    function setDirection(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setDirection(val, animation);\n      }\n    }\n\n    function play(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.play(animation);\n      }\n    }\n\n    function resume(nowTime) {\n      var elapsedTime = nowTime - initTime;\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.advanceTime(elapsedTime);\n      }\n\n      initTime = nowTime;\n\n      if (playingAnimationsNum && !_isFrozen) {\n        window.requestAnimationFrame(resume);\n      } else {\n        _stopped = true;\n      }\n    }\n\n    function first(nowTime) {\n      initTime = nowTime;\n      window.requestAnimationFrame(resume);\n    }\n\n    function pause(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.pause(animation);\n      }\n    }\n\n    function goToAndStop(value, isFrame, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.goToAndStop(value, isFrame, animation);\n      }\n    }\n\n    function stop(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.stop(animation);\n      }\n    }\n\n    function togglePause(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.togglePause(animation);\n      }\n    }\n\n    function destroy(animation) {\n      var i;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        registeredAnimations[i].animation.destroy(animation);\n      }\n    }\n\n    function searchAnimations(animationData, standalone, renderer) {\n      var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')), [].slice.call(document.getElementsByClassName('bodymovin')));\n      var i;\n      var lenAnims = animElements.length;\n\n      for (i = 0; i < lenAnims; i += 1) {\n        if (renderer) {\n          animElements[i].setAttribute('data-bm-type', renderer);\n        }\n\n        registerAnimation(animElements[i], animationData);\n      }\n\n      if (standalone && lenAnims === 0) {\n        if (!renderer) {\n          renderer = 'svg';\n        }\n\n        var body = document.getElementsByTagName('body')[0];\n        body.innerText = '';\n        var div = createTag('div');\n        div.style.width = '100%';\n        div.style.height = '100%';\n        div.setAttribute('data-bm-type', renderer);\n        body.appendChild(div);\n        registerAnimation(div, animationData);\n      }\n    }\n\n    function resize() {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.resize();\n      }\n    }\n\n    function activate() {\n      if (!_isFrozen && playingAnimationsNum) {\n        if (_stopped) {\n          window.requestAnimationFrame(first);\n          _stopped = false;\n        }\n      }\n    }\n\n    function freeze() {\n      _isFrozen = true;\n    }\n\n    function unfreeze() {\n      _isFrozen = false;\n      activate();\n    }\n\n    function setVolume(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setVolume(val, animation);\n      }\n    }\n\n    function mute(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.mute(animation);\n      }\n    }\n\n    function unmute(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.unmute(animation);\n      }\n    }\n\n    moduleOb.registerAnimation = registerAnimation;\n    moduleOb.loadAnimation = loadAnimation;\n    moduleOb.setSpeed = setSpeed;\n    moduleOb.setDirection = setDirection;\n    moduleOb.play = play;\n    moduleOb.pause = pause;\n    moduleOb.stop = stop;\n    moduleOb.togglePause = togglePause;\n    moduleOb.searchAnimations = searchAnimations;\n    moduleOb.resize = resize; // moduleOb.start = start;\n\n    moduleOb.goToAndStop = goToAndStop;\n    moduleOb.destroy = destroy;\n    moduleOb.freeze = freeze;\n    moduleOb.unfreeze = unfreeze;\n    moduleOb.setVolume = setVolume;\n    moduleOb.mute = mute;\n    moduleOb.unmute = unmute;\n    moduleOb.getRegisteredAnimations = getRegisteredAnimations;\n    return moduleOb;\n  }();\n\n  /* eslint-disable */\n  var BezierFactory = function () {\n    /**\r\n       * BezierEasing - use bezier curve for transition easing function\r\n       * by Gaëtan Renaudeau 2014 - 2015 – MIT License\r\n       *\r\n       * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n       * Usage:\r\n       * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n       * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n       *\r\n       */\n    var ob = {};\n    ob.getBezierEasing = getBezierEasing;\n    var beziers = {};\n\n    function getBezierEasing(a, b, c, d, nm) {\n      var str = nm || ('bez_' + a + '_' + b + '_' + c + '_' + d).replace(/\\./g, 'p');\n\n      if (beziers[str]) {\n        return beziers[str];\n      }\n\n      var bezEasing = new BezierEasing([a, b, c, d]);\n      beziers[str] = bezEasing;\n      return bezEasing;\n    } // These values are established by empiricism with tests (tradeoff: performance VS precision)\n\n\n    var NEWTON_ITERATIONS = 4;\n    var NEWTON_MIN_SLOPE = 0.001;\n    var SUBDIVISION_PRECISION = 0.0000001;\n    var SUBDIVISION_MAX_ITERATIONS = 10;\n    var kSplineTableSize = 11;\n    var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n    var float32ArraySupported = typeof Float32Array === 'function';\n\n    function A(aA1, aA2) {\n      return 1.0 - 3.0 * aA2 + 3.0 * aA1;\n    }\n\n    function B(aA1, aA2) {\n      return 3.0 * aA2 - 6.0 * aA1;\n    }\n\n    function C(aA1) {\n      return 3.0 * aA1;\n    } // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\n\n\n    function calcBezier(aT, aA1, aA2) {\n      return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n    } // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\n\n\n    function getSlope(aT, aA1, aA2) {\n      return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n    }\n\n    function binarySubdivide(aX, aA, aB, mX1, mX2) {\n      var currentX,\n          currentT,\n          i = 0;\n\n      do {\n        currentT = aA + (aB - aA) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - aX;\n\n        if (currentX > 0.0) {\n          aB = currentT;\n        } else {\n          aA = currentT;\n        }\n      } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n\n      return currentT;\n    }\n\n    function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n      for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n        var currentSlope = getSlope(aGuessT, mX1, mX2);\n        if (currentSlope === 0.0) return aGuessT;\n        var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n        aGuessT -= currentX / currentSlope;\n      }\n\n      return aGuessT;\n    }\n    /**\r\n       * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n       */\n\n\n    function BezierEasing(points) {\n      this._p = points;\n      this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n      this._precomputed = false;\n      this.get = this.get.bind(this);\n    }\n\n    BezierEasing.prototype = {\n      get: function get(x) {\n        var mX1 = this._p[0],\n            mY1 = this._p[1],\n            mX2 = this._p[2],\n            mY2 = this._p[3];\n        if (!this._precomputed) this._precompute();\n        if (mX1 === mY1 && mX2 === mY2) return x; // linear\n        // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n\n        if (x === 0) return 0;\n        if (x === 1) return 1;\n        return calcBezier(this._getTForX(x), mY1, mY2);\n      },\n      // Private part\n      _precompute: function _precompute() {\n        var mX1 = this._p[0],\n            mY1 = this._p[1],\n            mX2 = this._p[2],\n            mY2 = this._p[3];\n        this._precomputed = true;\n\n        if (mX1 !== mY1 || mX2 !== mY2) {\n          this._calcSampleValues();\n        }\n      },\n      _calcSampleValues: function _calcSampleValues() {\n        var mX1 = this._p[0],\n            mX2 = this._p[2];\n\n        for (var i = 0; i < kSplineTableSize; ++i) {\n          this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n        }\n      },\n\n      /**\r\n           * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n           */\n      _getTForX: function _getTForX(aX) {\n        var mX1 = this._p[0],\n            mX2 = this._p[2],\n            mSampleValues = this._mSampleValues;\n        var intervalStart = 0.0;\n        var currentSample = 1;\n        var lastSample = kSplineTableSize - 1;\n\n        for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\n          intervalStart += kSampleStepSize;\n        }\n\n        --currentSample; // Interpolate to provide an initial guess for t\n\n        var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);\n        var guessForT = intervalStart + dist * kSampleStepSize;\n        var initialSlope = getSlope(guessForT, mX1, mX2);\n\n        if (initialSlope >= NEWTON_MIN_SLOPE) {\n          return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n        }\n\n        if (initialSlope === 0.0) {\n          return guessForT;\n        }\n\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n    };\n    return ob;\n  }();\n\n  var pooling = function () {\n    function _double(arr) {\n      return arr.concat(createSizedArray(arr.length));\n    }\n\n    return {\n      \"double\": _double\n    };\n  }();\n\n  var poolFactory = function () {\n    return function (initialLength, _create, _release) {\n      var _length = 0;\n      var _maxLength = initialLength;\n      var pool = createSizedArray(_maxLength);\n      var ob = {\n        newElement: newElement,\n        release: release\n      };\n\n      function newElement() {\n        var element;\n\n        if (_length) {\n          _length -= 1;\n          element = pool[_length];\n        } else {\n          element = _create();\n        }\n\n        return element;\n      }\n\n      function release(element) {\n        if (_length === _maxLength) {\n          pool = pooling[\"double\"](pool);\n          _maxLength *= 2;\n        }\n\n        if (_release) {\n          _release(element);\n        }\n\n        pool[_length] = element;\n        _length += 1;\n      }\n\n      return ob;\n    };\n  }();\n\n  var bezierLengthPool = function () {\n    function create() {\n      return {\n        addedLength: 0,\n        percents: createTypedArray('float32', getDefaultCurveSegments()),\n        lengths: createTypedArray('float32', getDefaultCurveSegments())\n      };\n    }\n\n    return poolFactory(8, create);\n  }();\n\n  var segmentsLengthPool = function () {\n    function create() {\n      return {\n        lengths: [],\n        totalLength: 0\n      };\n    }\n\n    function release(element) {\n      var i;\n      var len = element.lengths.length;\n\n      for (i = 0; i < len; i += 1) {\n        bezierLengthPool.release(element.lengths[i]);\n      }\n\n      element.lengths.length = 0;\n    }\n\n    return poolFactory(8, create, release);\n  }();\n\n  function bezFunction() {\n    var math = Math;\n\n    function pointOnLine2D(x1, y1, x2, y2, x3, y3) {\n      var det1 = x1 * y2 + y1 * x3 + x2 * y3 - x3 * y2 - y3 * x1 - x2 * y1;\n      return det1 > -0.001 && det1 < 0.001;\n    }\n\n    function pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\n      if (z1 === 0 && z2 === 0 && z3 === 0) {\n        return pointOnLine2D(x1, y1, x2, y2, x3, y3);\n      }\n\n      var dist1 = math.sqrt(math.pow(x2 - x1, 2) + math.pow(y2 - y1, 2) + math.pow(z2 - z1, 2));\n      var dist2 = math.sqrt(math.pow(x3 - x1, 2) + math.pow(y3 - y1, 2) + math.pow(z3 - z1, 2));\n      var dist3 = math.sqrt(math.pow(x3 - x2, 2) + math.pow(y3 - y2, 2) + math.pow(z3 - z2, 2));\n      var diffDist;\n\n      if (dist1 > dist2) {\n        if (dist1 > dist3) {\n          diffDist = dist1 - dist2 - dist3;\n        } else {\n          diffDist = dist3 - dist2 - dist1;\n        }\n      } else if (dist3 > dist2) {\n        diffDist = dist3 - dist2 - dist1;\n      } else {\n        diffDist = dist2 - dist1 - dist3;\n      }\n\n      return diffDist > -0.0001 && diffDist < 0.0001;\n    }\n\n    var getBezierLength = function () {\n      return function (pt1, pt2, pt3, pt4) {\n        var curveSegments = getDefaultCurveSegments();\n        var k;\n        var i;\n        var len;\n        var ptCoord;\n        var perc;\n        var addedLength = 0;\n        var ptDistance;\n        var point = [];\n        var lastPoint = [];\n        var lengthData = bezierLengthPool.newElement();\n        len = pt3.length;\n\n        for (k = 0; k < curveSegments; k += 1) {\n          perc = k / (curveSegments - 1);\n          ptDistance = 0;\n\n          for (i = 0; i < len; i += 1) {\n            ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * bmPow(perc, 2) * pt4[i] + bmPow(perc, 3) * pt2[i];\n            point[i] = ptCoord;\n\n            if (lastPoint[i] !== null) {\n              ptDistance += bmPow(point[i] - lastPoint[i], 2);\n            }\n\n            lastPoint[i] = point[i];\n          }\n\n          if (ptDistance) {\n            ptDistance = bmSqrt(ptDistance);\n            addedLength += ptDistance;\n          }\n\n          lengthData.percents[k] = perc;\n          lengthData.lengths[k] = addedLength;\n        }\n\n        lengthData.addedLength = addedLength;\n        return lengthData;\n      };\n    }();\n\n    function getSegmentsLength(shapeData) {\n      var segmentsLength = segmentsLengthPool.newElement();\n      var closed = shapeData.c;\n      var pathV = shapeData.v;\n      var pathO = shapeData.o;\n      var pathI = shapeData.i;\n      var i;\n      var len = shapeData._length;\n      var lengths = segmentsLength.lengths;\n      var totalLength = 0;\n\n      for (i = 0; i < len - 1; i += 1) {\n        lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\n        totalLength += lengths[i].addedLength;\n      }\n\n      if (closed && len) {\n        lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\n        totalLength += lengths[i].addedLength;\n      }\n\n      segmentsLength.totalLength = totalLength;\n      return segmentsLength;\n    }\n\n    function BezierData(length) {\n      this.segmentLength = 0;\n      this.points = new Array(length);\n    }\n\n    function PointData(partial, point) {\n      this.partialLength = partial;\n      this.point = point;\n    }\n\n    var buildBezierData = function () {\n      var storedData = {};\n      return function (pt1, pt2, pt3, pt4) {\n        var bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\n\n        if (!storedData[bezierName]) {\n          var curveSegments = getDefaultCurveSegments();\n          var k;\n          var i;\n          var len;\n          var ptCoord;\n          var perc;\n          var addedLength = 0;\n          var ptDistance;\n          var point;\n          var lastPoint = null;\n\n          if (pt1.length === 2 && (pt1[0] !== pt2[0] || pt1[1] !== pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\n            curveSegments = 2;\n          }\n\n          var bezierData = new BezierData(curveSegments);\n          len = pt3.length;\n\n          for (k = 0; k < curveSegments; k += 1) {\n            point = createSizedArray(len);\n            perc = k / (curveSegments - 1);\n            ptDistance = 0;\n\n            for (i = 0; i < len; i += 1) {\n              ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * bmPow(perc, 2) * (pt2[i] + pt4[i]) + bmPow(perc, 3) * pt2[i];\n              point[i] = ptCoord;\n\n              if (lastPoint !== null) {\n                ptDistance += bmPow(point[i] - lastPoint[i], 2);\n              }\n            }\n\n            ptDistance = bmSqrt(ptDistance);\n            addedLength += ptDistance;\n            bezierData.points[k] = new PointData(ptDistance, point);\n            lastPoint = point;\n          }\n\n          bezierData.segmentLength = addedLength;\n          storedData[bezierName] = bezierData;\n        }\n\n        return storedData[bezierName];\n      };\n    }();\n\n    function getDistancePerc(perc, bezierData) {\n      var percents = bezierData.percents;\n      var lengths = bezierData.lengths;\n      var len = percents.length;\n      var initPos = bmFloor((len - 1) * perc);\n      var lengthPos = perc * bezierData.addedLength;\n      var lPerc = 0;\n\n      if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\n        return percents[initPos];\n      }\n\n      var dir = lengths[initPos] > lengthPos ? -1 : 1;\n      var flag = true;\n\n      while (flag) {\n        if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\n          lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\n          flag = false;\n        } else {\n          initPos += dir;\n        }\n\n        if (initPos < 0 || initPos >= len - 1) {\n          // FIX for TypedArrays that don't store floating point values with enough accuracy\n          if (initPos === len - 1) {\n            return percents[initPos];\n          }\n\n          flag = false;\n        }\n      }\n\n      return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\n    }\n\n    function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\n      var t1 = getDistancePerc(percent, bezierData);\n      var u1 = 1 - t1;\n      var ptX = math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\n      var ptY = math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\n      return [ptX, ptY];\n    }\n\n    var bezierSegmentPoints = createTypedArray('float32', 8);\n\n    function getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\n      if (startPerc < 0) {\n        startPerc = 0;\n      } else if (startPerc > 1) {\n        startPerc = 1;\n      }\n\n      var t0 = getDistancePerc(startPerc, bezierData);\n      endPerc = endPerc > 1 ? 1 : endPerc;\n      var t1 = getDistancePerc(endPerc, bezierData);\n      var i;\n      var len = pt1.length;\n      var u0 = 1 - t0;\n      var u1 = 1 - t1;\n      var u0u0u0 = u0 * u0 * u0;\n      var t0u0u0_3 = t0 * u0 * u0 * 3; // eslint-disable-line camelcase\n\n      var t0t0u0_3 = t0 * t0 * u0 * 3; // eslint-disable-line camelcase\n\n      var t0t0t0 = t0 * t0 * t0; //\n\n      var u0u0u1 = u0 * u0 * u1;\n      var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1; // eslint-disable-line camelcase\n\n      var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1; // eslint-disable-line camelcase\n\n      var t0t0t1 = t0 * t0 * t1; //\n\n      var u0u1u1 = u0 * u1 * u1;\n      var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1; // eslint-disable-line camelcase\n\n      var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1; // eslint-disable-line camelcase\n\n      var t0t1t1 = t0 * t1 * t1; //\n\n      var u1u1u1 = u1 * u1 * u1;\n      var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1; // eslint-disable-line camelcase\n\n      var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1; // eslint-disable-line camelcase\n\n      var t1t1t1 = t1 * t1 * t1;\n\n      for (i = 0; i < len; i += 1) {\n        bezierSegmentPoints[i * 4] = math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 1] = math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 2] = math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 3] = math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n      }\n\n      return bezierSegmentPoints;\n    }\n\n    return {\n      getSegmentsLength: getSegmentsLength,\n      getNewSegment: getNewSegment,\n      getPointInSegment: getPointInSegment,\n      buildBezierData: buildBezierData,\n      pointOnLine2D: pointOnLine2D,\n      pointOnLine3D: pointOnLine3D\n    };\n  }\n\n  var bez = bezFunction();\n\n  var PropertyFactory = function () {\n    var initFrame = initialDefaultFrame;\n    var mathAbs = Math.abs;\n\n    function interpolateValue(frameNum, caching) {\n      var offsetTime = this.offsetTime;\n      var newValue;\n\n      if (this.propType === 'multidimensional') {\n        newValue = createTypedArray('float32', this.pv.length);\n      }\n\n      var iterationIndex = caching.lastIndex;\n      var i = iterationIndex;\n      var len = this.keyframes.length - 1;\n      var flag = true;\n      var keyData;\n      var nextKeyData;\n      var keyframeMetadata;\n\n      while (flag) {\n        keyData = this.keyframes[i];\n        nextKeyData = this.keyframes[i + 1];\n\n        if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime) {\n          if (keyData.h) {\n            keyData = nextKeyData;\n          }\n\n          iterationIndex = 0;\n          break;\n        }\n\n        if (nextKeyData.t - offsetTime > frameNum) {\n          iterationIndex = i;\n          break;\n        }\n\n        if (i < len - 1) {\n          i += 1;\n        } else {\n          iterationIndex = 0;\n          flag = false;\n        }\n      }\n\n      keyframeMetadata = this.keyframesMetadata[i] || {};\n      var k;\n      var kLen;\n      var perc;\n      var jLen;\n      var j;\n      var fnc;\n      var nextKeyTime = nextKeyData.t - offsetTime;\n      var keyTime = keyData.t - offsetTime;\n      var endValue;\n\n      if (keyData.to) {\n        if (!keyframeMetadata.bezierData) {\n          keyframeMetadata.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\n        }\n\n        var bezierData = keyframeMetadata.bezierData;\n\n        if (frameNum >= nextKeyTime || frameNum < keyTime) {\n          var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\n          kLen = bezierData.points[ind].point.length;\n\n          for (k = 0; k < kLen; k += 1) {\n            newValue[k] = bezierData.points[ind].point[k];\n          } // caching._lastKeyframeIndex = -1;\n\n        } else {\n          if (keyframeMetadata.__fnct) {\n            fnc = keyframeMetadata.__fnct;\n          } else {\n            fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\n            keyframeMetadata.__fnct = fnc;\n          }\n\n          perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n          var distanceInLine = bezierData.segmentLength * perc;\n          var segmentPerc;\n          var addedLength = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastAddedLength : 0;\n          j = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastPoint : 0;\n          flag = true;\n          jLen = bezierData.points.length;\n\n          while (flag) {\n            addedLength += bezierData.points[j].partialLength;\n\n            if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\n              kLen = bezierData.points[j].point.length;\n\n              for (k = 0; k < kLen; k += 1) {\n                newValue[k] = bezierData.points[j].point[k];\n              }\n\n              break;\n            } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\n              segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\n              kLen = bezierData.points[j].point.length;\n\n              for (k = 0; k < kLen; k += 1) {\n                newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\n              }\n\n              break;\n            }\n\n            if (j < jLen - 1) {\n              j += 1;\n            } else {\n              flag = false;\n            }\n          }\n\n          caching._lastPoint = j;\n          caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\n          caching._lastKeyframeIndex = i;\n        }\n      } else {\n        var outX;\n        var outY;\n        var inX;\n        var inY;\n        var keyValue;\n        len = keyData.s.length;\n        endValue = nextKeyData.s || keyData.e;\n\n        if (this.sh && keyData.h !== 1) {\n          if (frameNum >= nextKeyTime) {\n            newValue[0] = endValue[0];\n            newValue[1] = endValue[1];\n            newValue[2] = endValue[2];\n          } else if (frameNum <= keyTime) {\n            newValue[0] = keyData.s[0];\n            newValue[1] = keyData.s[1];\n            newValue[2] = keyData.s[2];\n          } else {\n            var quatStart = createQuaternion(keyData.s);\n            var quatEnd = createQuaternion(endValue);\n            var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\n            quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\n          }\n        } else {\n          for (i = 0; i < len; i += 1) {\n            if (keyData.h !== 1) {\n              if (frameNum >= nextKeyTime) {\n                perc = 1;\n              } else if (frameNum < keyTime) {\n                perc = 0;\n              } else {\n                if (keyData.o.x.constructor === Array) {\n                  if (!keyframeMetadata.__fnct) {\n                    keyframeMetadata.__fnct = [];\n                  }\n\n                  if (!keyframeMetadata.__fnct[i]) {\n                    outX = keyData.o.x[i] === undefined ? keyData.o.x[0] : keyData.o.x[i];\n                    outY = keyData.o.y[i] === undefined ? keyData.o.y[0] : keyData.o.y[i];\n                    inX = keyData.i.x[i] === undefined ? keyData.i.x[0] : keyData.i.x[i];\n                    inY = keyData.i.y[i] === undefined ? keyData.i.y[0] : keyData.i.y[i];\n                    fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                    keyframeMetadata.__fnct[i] = fnc;\n                  } else {\n                    fnc = keyframeMetadata.__fnct[i];\n                  }\n                } else if (!keyframeMetadata.__fnct) {\n                  outX = keyData.o.x;\n                  outY = keyData.o.y;\n                  inX = keyData.i.x;\n                  inY = keyData.i.y;\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                  keyData.keyframeMetadata = fnc;\n                } else {\n                  fnc = keyframeMetadata.__fnct;\n                }\n\n                perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n              }\n            }\n\n            endValue = nextKeyData.s || keyData.e;\n            keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\n\n            if (this.propType === 'multidimensional') {\n              newValue[i] = keyValue;\n            } else {\n              newValue = keyValue;\n            }\n          }\n        }\n      }\n\n      caching.lastIndex = iterationIndex;\n      return newValue;\n    } // based on @Toji's https://github.com/toji/gl-matrix/\n\n\n    function slerp(a, b, t) {\n      var out = [];\n      var ax = a[0];\n      var ay = a[1];\n      var az = a[2];\n      var aw = a[3];\n      var bx = b[0];\n      var by = b[1];\n      var bz = b[2];\n      var bw = b[3];\n      var omega;\n      var cosom;\n      var sinom;\n      var scale0;\n      var scale1;\n      cosom = ax * bx + ay * by + az * bz + aw * bw;\n\n      if (cosom < 0.0) {\n        cosom = -cosom;\n        bx = -bx;\n        by = -by;\n        bz = -bz;\n        bw = -bw;\n      }\n\n      if (1.0 - cosom > 0.000001) {\n        omega = Math.acos(cosom);\n        sinom = Math.sin(omega);\n        scale0 = Math.sin((1.0 - t) * omega) / sinom;\n        scale1 = Math.sin(t * omega) / sinom;\n      } else {\n        scale0 = 1.0 - t;\n        scale1 = t;\n      }\n\n      out[0] = scale0 * ax + scale1 * bx;\n      out[1] = scale0 * ay + scale1 * by;\n      out[2] = scale0 * az + scale1 * bz;\n      out[3] = scale0 * aw + scale1 * bw;\n      return out;\n    }\n\n    function quaternionToEuler(out, quat) {\n      var qx = quat[0];\n      var qy = quat[1];\n      var qz = quat[2];\n      var qw = quat[3];\n      var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\n      var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\n      var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\n      out[0] = heading / degToRads;\n      out[1] = attitude / degToRads;\n      out[2] = bank / degToRads;\n    }\n\n    function createQuaternion(values) {\n      var heading = values[0] * degToRads;\n      var attitude = values[1] * degToRads;\n      var bank = values[2] * degToRads;\n      var c1 = Math.cos(heading / 2);\n      var c2 = Math.cos(attitude / 2);\n      var c3 = Math.cos(bank / 2);\n      var s1 = Math.sin(heading / 2);\n      var s2 = Math.sin(attitude / 2);\n      var s3 = Math.sin(bank / 2);\n      var w = c1 * c2 * c3 - s1 * s2 * s3;\n      var x = s1 * s2 * c3 + c1 * c2 * s3;\n      var y = s1 * c2 * c3 + c1 * s2 * s3;\n      var z = c1 * s2 * c3 - s1 * c2 * s3;\n      return [x, y, z, w];\n    }\n\n    function getValueAtCurrentTime() {\n      var frameNum = this.comp.renderedFrame - this.offsetTime;\n      var initTime = this.keyframes[0].t - this.offsetTime;\n      var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n\n      if (!(frameNum === this._caching.lastFrame || this._caching.lastFrame !== initFrame && (this._caching.lastFrame >= endTime && frameNum >= endTime || this._caching.lastFrame < initTime && frameNum < initTime))) {\n        if (this._caching.lastFrame >= frameNum) {\n          this._caching._lastKeyframeIndex = -1;\n          this._caching.lastIndex = 0;\n        }\n\n        var renderResult = this.interpolateValue(frameNum, this._caching);\n        this.pv = renderResult;\n      }\n\n      this._caching.lastFrame = frameNum;\n      return this.pv;\n    }\n\n    function setVValue(val) {\n      var multipliedValue;\n\n      if (this.propType === 'unidimensional') {\n        multipliedValue = val * this.mult;\n\n        if (mathAbs(this.v - multipliedValue) > 0.00001) {\n          this.v = multipliedValue;\n          this._mdf = true;\n        }\n      } else {\n        var i = 0;\n        var len = this.v.length;\n\n        while (i < len) {\n          multipliedValue = val[i] * this.mult;\n\n          if (mathAbs(this.v[i] - multipliedValue) > 0.00001) {\n            this.v[i] = multipliedValue;\n            this._mdf = true;\n          }\n\n          i += 1;\n        }\n      }\n    }\n\n    function processEffectsSequence() {\n      if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\n        return;\n      }\n\n      if (this.lock) {\n        this.setVValue(this.pv);\n        return;\n      }\n\n      this.lock = true;\n      this._mdf = this._isFirstFrame;\n      var i;\n      var len = this.effectsSequence.length;\n      var finalValue = this.kf ? this.pv : this.data.k;\n\n      for (i = 0; i < len; i += 1) {\n        finalValue = this.effectsSequence[i](finalValue);\n      }\n\n      this.setVValue(finalValue);\n      this._isFirstFrame = false;\n      this.lock = false;\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function addEffect(effectFunction) {\n      this.effectsSequence.push(effectFunction);\n      this.container.addDynamicProperty(this);\n    }\n\n    function ValueProperty(elem, data, mult, container) {\n      this.propType = 'unidimensional';\n      this.mult = mult || 1;\n      this.data = data;\n      this.v = mult ? data.k * mult : data.k;\n      this.pv = data.k;\n      this._mdf = false;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.k = false;\n      this.kf = false;\n      this.vel = 0;\n      this.effectsSequence = [];\n      this._isFirstFrame = true;\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.addEffect = addEffect;\n    }\n\n    function MultiDimensionalProperty(elem, data, mult, container) {\n      this.propType = 'multidimensional';\n      this.mult = mult || 1;\n      this.data = data;\n      this._mdf = false;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.k = false;\n      this.kf = false;\n      this.frameId = -1;\n      var i;\n      var len = data.k.length;\n      this.v = createTypedArray('float32', len);\n      this.pv = createTypedArray('float32', len);\n      this.vel = createTypedArray('float32', len);\n\n      for (i = 0; i < len; i += 1) {\n        this.v[i] = data.k[i] * this.mult;\n        this.pv[i] = data.k[i];\n      }\n\n      this._isFirstFrame = true;\n      this.effectsSequence = [];\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.addEffect = addEffect;\n    }\n\n    function KeyframedValueProperty(elem, data, mult, container) {\n      this.propType = 'unidimensional';\n      this.keyframes = data.k;\n      this.keyframesMetadata = [];\n      this.offsetTime = elem.data.st;\n      this.frameId = -1;\n      this._caching = {\n        lastFrame: initFrame,\n        lastIndex: 0,\n        value: 0,\n        _lastKeyframeIndex: -1\n      };\n      this.k = true;\n      this.kf = true;\n      this.data = data;\n      this.mult = mult || 1;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.v = initFrame;\n      this.pv = initFrame;\n      this._isFirstFrame = true;\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.interpolateValue = interpolateValue;\n      this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n      this.addEffect = addEffect;\n    }\n\n    function KeyframedMultidimensionalProperty(elem, data, mult, container) {\n      this.propType = 'multidimensional';\n      var i;\n      var len = data.k.length;\n      var s;\n      var e;\n      var to;\n      var ti;\n\n      for (i = 0; i < len - 1; i += 1) {\n        if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\n          s = data.k[i].s;\n          e = data.k[i + 1].s;\n          to = data.k[i].to;\n          ti = data.k[i].ti;\n\n          if (s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1]) || s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2])) {\n            data.k[i].to = null;\n            data.k[i].ti = null;\n          }\n\n          if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\n            if (s.length === 2 || s[2] === e[2] && to[2] === 0 && ti[2] === 0) {\n              data.k[i].to = null;\n              data.k[i].ti = null;\n            }\n          }\n        }\n      }\n\n      this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n      this.data = data;\n      this.keyframes = data.k;\n      this.keyframesMetadata = [];\n      this.offsetTime = elem.data.st;\n      this.k = true;\n      this.kf = true;\n      this._isFirstFrame = true;\n      this.mult = mult || 1;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.interpolateValue = interpolateValue;\n      this.frameId = -1;\n      var arrLen = data.k[0].s.length;\n      this.v = createTypedArray('float32', arrLen);\n      this.pv = createTypedArray('float32', arrLen);\n\n      for (i = 0; i < arrLen; i += 1) {\n        this.v[i] = initFrame;\n        this.pv[i] = initFrame;\n      }\n\n      this._caching = {\n        lastFrame: initFrame,\n        lastIndex: 0,\n        value: createTypedArray('float32', arrLen)\n      };\n      this.addEffect = addEffect;\n    }\n\n    function getProp(elem, data, type, mult, container) {\n      var p;\n\n      if (!data.k.length) {\n        p = new ValueProperty(elem, data, mult, container);\n      } else if (typeof data.k[0] === 'number') {\n        p = new MultiDimensionalProperty(elem, data, mult, container);\n      } else {\n        switch (type) {\n          case 0:\n            p = new KeyframedValueProperty(elem, data, mult, container);\n            break;\n\n          case 1:\n            p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\n            break;\n\n          default:\n            break;\n        }\n      }\n\n      if (p.effectsSequence.length) {\n        container.addDynamicProperty(p);\n      }\n\n      return p;\n    }\n\n    var ob = {\n      getProp: getProp\n    };\n    return ob;\n  }();\n\n  function DynamicPropertyContainer() {}\n\n  DynamicPropertyContainer.prototype = {\n    addDynamicProperty: function addDynamicProperty(prop) {\n      if (this.dynamicProperties.indexOf(prop) === -1) {\n        this.dynamicProperties.push(prop);\n        this.container.addDynamicProperty(this);\n        this._isAnimated = true;\n      }\n    },\n    iterateDynamicProperties: function iterateDynamicProperties() {\n      this._mdf = false;\n      var i;\n      var len = this.dynamicProperties.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.dynamicProperties[i].getValue();\n\n        if (this.dynamicProperties[i]._mdf) {\n          this._mdf = true;\n        }\n      }\n    },\n    initDynamicPropertyContainer: function initDynamicPropertyContainer(container) {\n      this.container = container;\n      this.dynamicProperties = [];\n      this._mdf = false;\n      this._isAnimated = false;\n    }\n  };\n\n  var pointPool = function () {\n    function create() {\n      return createTypedArray('float32', 2);\n    }\n\n    return poolFactory(8, create);\n  }();\n\n  function ShapePath() {\n    this.c = false;\n    this._length = 0;\n    this._maxLength = 8;\n    this.v = createSizedArray(this._maxLength);\n    this.o = createSizedArray(this._maxLength);\n    this.i = createSizedArray(this._maxLength);\n  }\n\n  ShapePath.prototype.setPathData = function (closed, len) {\n    this.c = closed;\n    this.setLength(len);\n    var i = 0;\n\n    while (i < len) {\n      this.v[i] = pointPool.newElement();\n      this.o[i] = pointPool.newElement();\n      this.i[i] = pointPool.newElement();\n      i += 1;\n    }\n  };\n\n  ShapePath.prototype.setLength = function (len) {\n    while (this._maxLength < len) {\n      this.doubleArrayLength();\n    }\n\n    this._length = len;\n  };\n\n  ShapePath.prototype.doubleArrayLength = function () {\n    this.v = this.v.concat(createSizedArray(this._maxLength));\n    this.i = this.i.concat(createSizedArray(this._maxLength));\n    this.o = this.o.concat(createSizedArray(this._maxLength));\n    this._maxLength *= 2;\n  };\n\n  ShapePath.prototype.setXYAt = function (x, y, type, pos, replace) {\n    var arr;\n    this._length = Math.max(this._length, pos + 1);\n\n    if (this._length >= this._maxLength) {\n      this.doubleArrayLength();\n    }\n\n    switch (type) {\n      case 'v':\n        arr = this.v;\n        break;\n\n      case 'i':\n        arr = this.i;\n        break;\n\n      case 'o':\n        arr = this.o;\n        break;\n\n      default:\n        arr = [];\n        break;\n    }\n\n    if (!arr[pos] || arr[pos] && !replace) {\n      arr[pos] = pointPool.newElement();\n    }\n\n    arr[pos][0] = x;\n    arr[pos][1] = y;\n  };\n\n  ShapePath.prototype.setTripleAt = function (vX, vY, oX, oY, iX, iY, pos, replace) {\n    this.setXYAt(vX, vY, 'v', pos, replace);\n    this.setXYAt(oX, oY, 'o', pos, replace);\n    this.setXYAt(iX, iY, 'i', pos, replace);\n  };\n\n  ShapePath.prototype.reverse = function () {\n    var newPath = new ShapePath();\n    newPath.setPathData(this.c, this._length);\n    var vertices = this.v;\n    var outPoints = this.o;\n    var inPoints = this.i;\n    var init = 0;\n\n    if (this.c) {\n      newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\n      init = 1;\n    }\n\n    var cnt = this._length - 1;\n    var len = this._length;\n    var i;\n\n    for (i = init; i < len; i += 1) {\n      newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\n      cnt -= 1;\n    }\n\n    return newPath;\n  };\n\n  var shapePool = function () {\n    function create() {\n      return new ShapePath();\n    }\n\n    function release(shapePath) {\n      var len = shapePath._length;\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        pointPool.release(shapePath.v[i]);\n        pointPool.release(shapePath.i[i]);\n        pointPool.release(shapePath.o[i]);\n        shapePath.v[i] = null;\n        shapePath.i[i] = null;\n        shapePath.o[i] = null;\n      }\n\n      shapePath._length = 0;\n      shapePath.c = false;\n    }\n\n    function clone(shape) {\n      var cloned = factory.newElement();\n      var i;\n      var len = shape._length === undefined ? shape.v.length : shape._length;\n      cloned.setLength(len);\n      cloned.c = shape.c;\n\n      for (i = 0; i < len; i += 1) {\n        cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\n      }\n\n      return cloned;\n    }\n\n    var factory = poolFactory(4, create, release);\n    factory.clone = clone;\n    return factory;\n  }();\n\n  function ShapeCollection() {\n    this._length = 0;\n    this._maxLength = 4;\n    this.shapes = createSizedArray(this._maxLength);\n  }\n\n  ShapeCollection.prototype.addShape = function (shapeData) {\n    if (this._length === this._maxLength) {\n      this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\n      this._maxLength *= 2;\n    }\n\n    this.shapes[this._length] = shapeData;\n    this._length += 1;\n  };\n\n  ShapeCollection.prototype.releaseShapes = function () {\n    var i;\n\n    for (i = 0; i < this._length; i += 1) {\n      shapePool.release(this.shapes[i]);\n    }\n\n    this._length = 0;\n  };\n\n  var shapeCollectionPool = function () {\n    var ob = {\n      newShapeCollection: newShapeCollection,\n      release: release\n    };\n    var _length = 0;\n    var _maxLength = 4;\n    var pool = createSizedArray(_maxLength);\n\n    function newShapeCollection() {\n      var shapeCollection;\n\n      if (_length) {\n        _length -= 1;\n        shapeCollection = pool[_length];\n      } else {\n        shapeCollection = new ShapeCollection();\n      }\n\n      return shapeCollection;\n    }\n\n    function release(shapeCollection) {\n      var i;\n      var len = shapeCollection._length;\n\n      for (i = 0; i < len; i += 1) {\n        shapePool.release(shapeCollection.shapes[i]);\n      }\n\n      shapeCollection._length = 0;\n\n      if (_length === _maxLength) {\n        pool = pooling[\"double\"](pool);\n        _maxLength *= 2;\n      }\n\n      pool[_length] = shapeCollection;\n      _length += 1;\n    }\n\n    return ob;\n  }();\n\n  var ShapePropertyFactory = function () {\n    var initFrame = -999999;\n\n    function interpolateShape(frameNum, previousValue, caching) {\n      var iterationIndex = caching.lastIndex;\n      var keyPropS;\n      var keyPropE;\n      var isHold;\n      var j;\n      var k;\n      var jLen;\n      var kLen;\n      var perc;\n      var vertexValue;\n      var kf = this.keyframes;\n\n      if (frameNum < kf[0].t - this.offsetTime) {\n        keyPropS = kf[0].s[0];\n        isHold = true;\n        iterationIndex = 0;\n      } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {\n        keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\n        /* if(kf[kf.length - 1].s){\r\n                  keyPropS = kf[kf.length - 1].s[0];\r\n              }else{\r\n                  keyPropS = kf[kf.length - 2].e[0];\r\n              } */\n\n        isHold = true;\n      } else {\n        var i = iterationIndex;\n        var len = kf.length - 1;\n        var flag = true;\n        var keyData;\n        var nextKeyData;\n        var keyframeMetadata;\n\n        while (flag) {\n          keyData = kf[i];\n          nextKeyData = kf[i + 1];\n\n          if (nextKeyData.t - this.offsetTime > frameNum) {\n            break;\n          }\n\n          if (i < len - 1) {\n            i += 1;\n          } else {\n            flag = false;\n          }\n        }\n\n        keyframeMetadata = this.keyframesMetadata[i] || {};\n        isHold = keyData.h === 1;\n        iterationIndex = i;\n\n        if (!isHold) {\n          if (frameNum >= nextKeyData.t - this.offsetTime) {\n            perc = 1;\n          } else if (frameNum < keyData.t - this.offsetTime) {\n            perc = 0;\n          } else {\n            var fnc;\n\n            if (keyframeMetadata.__fnct) {\n              fnc = keyframeMetadata.__fnct;\n            } else {\n              fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\n              keyframeMetadata.__fnct = fnc;\n            }\n\n            perc = fnc((frameNum - (keyData.t - this.offsetTime)) / (nextKeyData.t - this.offsetTime - (keyData.t - this.offsetTime)));\n          }\n\n          keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\n        }\n\n        keyPropS = keyData.s[0];\n      }\n\n      jLen = previousValue._length;\n      kLen = keyPropS.i[0].length;\n      caching.lastIndex = iterationIndex;\n\n      for (j = 0; j < jLen; j += 1) {\n        for (k = 0; k < kLen; k += 1) {\n          vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k] + (keyPropE.i[j][k] - keyPropS.i[j][k]) * perc;\n          previousValue.i[j][k] = vertexValue;\n          vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k] + (keyPropE.o[j][k] - keyPropS.o[j][k]) * perc;\n          previousValue.o[j][k] = vertexValue;\n          vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k] + (keyPropE.v[j][k] - keyPropS.v[j][k]) * perc;\n          previousValue.v[j][k] = vertexValue;\n        }\n      }\n    }\n\n    function interpolateShapeCurrentTime() {\n      var frameNum = this.comp.renderedFrame - this.offsetTime;\n      var initTime = this.keyframes[0].t - this.offsetTime;\n      var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n      var lastFrame = this._caching.lastFrame;\n\n      if (!(lastFrame !== initFrame && (lastFrame < initTime && frameNum < initTime || lastFrame > endTime && frameNum > endTime))) {\n        /// /\n        this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\n        this.interpolateShape(frameNum, this.pv, this._caching); /// /\n      }\n\n      this._caching.lastFrame = frameNum;\n      return this.pv;\n    }\n\n    function resetShape() {\n      this.paths = this.localShapeCollection;\n    }\n\n    function shapesEqual(shape1, shape2) {\n      if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\n        return false;\n      }\n\n      var i;\n      var len = shape1._length;\n\n      for (i = 0; i < len; i += 1) {\n        if (shape1.v[i][0] !== shape2.v[i][0] || shape1.v[i][1] !== shape2.v[i][1] || shape1.o[i][0] !== shape2.o[i][0] || shape1.o[i][1] !== shape2.o[i][1] || shape1.i[i][0] !== shape2.i[i][0] || shape1.i[i][1] !== shape2.i[i][1]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    function setVValue(newPath) {\n      if (!shapesEqual(this.v, newPath)) {\n        this.v = shapePool.clone(newPath);\n        this.localShapeCollection.releaseShapes();\n        this.localShapeCollection.addShape(this.v);\n        this._mdf = true;\n        this.paths = this.localShapeCollection;\n      }\n    }\n\n    function processEffectsSequence() {\n      if (this.elem.globalData.frameId === this.frameId) {\n        return;\n      }\n\n      if (!this.effectsSequence.length) {\n        this._mdf = false;\n        return;\n      }\n\n      if (this.lock) {\n        this.setVValue(this.pv);\n        return;\n      }\n\n      this.lock = true;\n      this._mdf = false;\n      var finalValue;\n\n      if (this.kf) {\n        finalValue = this.pv;\n      } else if (this.data.ks) {\n        finalValue = this.data.ks.k;\n      } else {\n        finalValue = this.data.pt.k;\n      }\n\n      var i;\n      var len = this.effectsSequence.length;\n\n      for (i = 0; i < len; i += 1) {\n        finalValue = this.effectsSequence[i](finalValue);\n      }\n\n      this.setVValue(finalValue);\n      this.lock = false;\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function ShapeProperty(elem, data, type) {\n      this.propType = 'shape';\n      this.comp = elem.comp;\n      this.container = elem;\n      this.elem = elem;\n      this.data = data;\n      this.k = false;\n      this.kf = false;\n      this._mdf = false;\n      var pathData = type === 3 ? data.pt.k : data.ks.k;\n      this.v = shapePool.clone(pathData);\n      this.pv = shapePool.clone(this.v);\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n      this.paths = this.localShapeCollection;\n      this.paths.addShape(this.v);\n      this.reset = resetShape;\n      this.effectsSequence = [];\n    }\n\n    function addEffect(effectFunction) {\n      this.effectsSequence.push(effectFunction);\n      this.container.addDynamicProperty(this);\n    }\n\n    ShapeProperty.prototype.interpolateShape = interpolateShape;\n    ShapeProperty.prototype.getValue = processEffectsSequence;\n    ShapeProperty.prototype.setVValue = setVValue;\n    ShapeProperty.prototype.addEffect = addEffect;\n\n    function KeyframedShapeProperty(elem, data, type) {\n      this.propType = 'shape';\n      this.comp = elem.comp;\n      this.elem = elem;\n      this.container = elem;\n      this.offsetTime = elem.data.st;\n      this.keyframes = type === 3 ? data.pt.k : data.ks.k;\n      this.keyframesMetadata = [];\n      this.k = true;\n      this.kf = true;\n      var len = this.keyframes[0].s[0].i.length;\n      this.v = shapePool.newElement();\n      this.v.setPathData(this.keyframes[0].s[0].c, len);\n      this.pv = shapePool.clone(this.v);\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n      this.paths = this.localShapeCollection;\n      this.paths.addShape(this.v);\n      this.lastFrame = initFrame;\n      this.reset = resetShape;\n      this._caching = {\n        lastFrame: initFrame,\n        lastIndex: 0\n      };\n      this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\n    }\n\n    KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\n    KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\n    KeyframedShapeProperty.prototype.setVValue = setVValue;\n    KeyframedShapeProperty.prototype.addEffect = addEffect;\n\n    var EllShapeProperty = function () {\n      var cPoint = roundCorner;\n\n      function EllShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.setPathData(true, 4);\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.paths = this.localShapeCollection;\n        this.localShapeCollection.addShape(this.v);\n        this.d = data.d;\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.frameId = -1;\n        this.initDynamicPropertyContainer(elem);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertEllToPath();\n        }\n      }\n\n      EllShapePropertyFactory.prototype = {\n        reset: resetShape,\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertEllToPath();\n          }\n        },\n        convertEllToPath: function convertEllToPath() {\n          var p0 = this.p.v[0];\n          var p1 = this.p.v[1];\n          var s0 = this.s.v[0] / 2;\n          var s1 = this.s.v[1] / 2;\n\n          var _cw = this.d !== 3;\n\n          var _v = this.v;\n          _v.v[0][0] = p0;\n          _v.v[0][1] = p1 - s1;\n          _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.v[1][1] = p1;\n          _v.v[2][0] = p0;\n          _v.v[2][1] = p1 + s1;\n          _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.v[3][1] = p1;\n          _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n          _v.i[0][1] = p1 - s1;\n          _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.i[1][1] = p1 - s1 * cPoint;\n          _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n          _v.i[2][1] = p1 + s1;\n          _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.i[3][1] = p1 + s1 * cPoint;\n          _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n          _v.o[0][1] = p1 - s1;\n          _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.o[1][1] = p1 + s1 * cPoint;\n          _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n          _v.o[2][1] = p1 + s1;\n          _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.o[3][1] = p1 - s1 * cPoint;\n        }\n      };\n      extendPrototype([DynamicPropertyContainer], EllShapePropertyFactory);\n      return EllShapePropertyFactory;\n    }();\n\n    var StarShapeProperty = function () {\n      function StarShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.setPathData(true, 0);\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.data = data;\n        this.frameId = -1;\n        this.d = data.d;\n        this.initDynamicPropertyContainer(elem);\n\n        if (data.sy === 1) {\n          this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\n          this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\n          this.convertToPath = this.convertStarToPath;\n        } else {\n          this.convertToPath = this.convertPolygonToPath;\n        }\n\n        this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\n        this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\n        this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.localShapeCollection.addShape(this.v);\n        this.paths = this.localShapeCollection;\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertToPath();\n        }\n      }\n\n      StarShapePropertyFactory.prototype = {\n        reset: resetShape,\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertToPath();\n          }\n        },\n        convertStarToPath: function convertStarToPath() {\n          var numPts = Math.floor(this.pt.v) * 2;\n          var angle = Math.PI * 2 / numPts;\n          /* this.v.v.length = numPts;\r\n                  this.v.i.length = numPts;\r\n                  this.v.o.length = numPts; */\n\n          var longFlag = true;\n          var longRad = this.or.v;\n          var shortRad = this.ir.v;\n          var longRound = this.os.v;\n          var shortRound = this.is.v;\n          var longPerimSegment = 2 * Math.PI * longRad / (numPts * 2);\n          var shortPerimSegment = 2 * Math.PI * shortRad / (numPts * 2);\n          var i;\n          var rad;\n          var roundness;\n          var perimSegment;\n          var currentAng = -Math.PI / 2;\n          currentAng += this.r.v;\n          var dir = this.data.d === 3 ? -1 : 1;\n          this.v._length = 0;\n\n          for (i = 0; i < numPts; i += 1) {\n            rad = longFlag ? longRad : shortRad;\n            roundness = longFlag ? longRound : shortRound;\n            perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\n            var x = rad * Math.cos(currentAng);\n            var y = rad * Math.sin(currentAng);\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n            x += +this.p.v[0];\n            y += +this.p.v[1];\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n            /* this.v.v[i] = [x,y];\r\n                      this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                      this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                      this.v._length = numPts; */\n\n            longFlag = !longFlag;\n            currentAng += angle * dir;\n          }\n        },\n        convertPolygonToPath: function convertPolygonToPath() {\n          var numPts = Math.floor(this.pt.v);\n          var angle = Math.PI * 2 / numPts;\n          var rad = this.or.v;\n          var roundness = this.os.v;\n          var perimSegment = 2 * Math.PI * rad / (numPts * 4);\n          var i;\n          var currentAng = -Math.PI * 0.5;\n          var dir = this.data.d === 3 ? -1 : 1;\n          currentAng += this.r.v;\n          this.v._length = 0;\n\n          for (i = 0; i < numPts; i += 1) {\n            var x = rad * Math.cos(currentAng);\n            var y = rad * Math.sin(currentAng);\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n            x += +this.p.v[0];\n            y += +this.p.v[1];\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n            currentAng += angle * dir;\n          }\n\n          this.paths.length = 0;\n          this.paths[0] = this.v;\n        }\n      };\n      extendPrototype([DynamicPropertyContainer], StarShapePropertyFactory);\n      return StarShapePropertyFactory;\n    }();\n\n    var RectShapeProperty = function () {\n      function RectShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.c = true;\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.localShapeCollection.addShape(this.v);\n        this.paths = this.localShapeCollection;\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.frameId = -1;\n        this.d = data.d;\n        this.initDynamicPropertyContainer(elem);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n        this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertRectToPath();\n        }\n      }\n\n      RectShapePropertyFactory.prototype = {\n        convertRectToPath: function convertRectToPath() {\n          var p0 = this.p.v[0];\n          var p1 = this.p.v[1];\n          var v0 = this.s.v[0] / 2;\n          var v1 = this.s.v[1] / 2;\n          var round = bmMin(v0, v1, this.r.v);\n          var cPoint = round * (1 - roundCorner);\n          this.v._length = 0;\n\n          if (this.d === 2 || this.d === 1) {\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);\n            this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);\n\n            if (round !== 0) {\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);\n            } else {\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);\n            }\n          } else {\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);\n\n            if (round !== 0) {\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);\n              this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);\n            } else {\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);\n              this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);\n            }\n          }\n        },\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertRectToPath();\n          }\n        },\n        reset: resetShape\n      };\n      extendPrototype([DynamicPropertyContainer], RectShapePropertyFactory);\n      return RectShapePropertyFactory;\n    }();\n\n    function getShapeProp(elem, data, type) {\n      var prop;\n\n      if (type === 3 || type === 4) {\n        var dataProp = type === 3 ? data.pt : data.ks;\n        var keys = dataProp.k;\n\n        if (keys.length) {\n          prop = new KeyframedShapeProperty(elem, data, type);\n        } else {\n          prop = new ShapeProperty(elem, data, type);\n        }\n      } else if (type === 5) {\n        prop = new RectShapeProperty(elem, data);\n      } else if (type === 6) {\n        prop = new EllShapeProperty(elem, data);\n      } else if (type === 7) {\n        prop = new StarShapeProperty(elem, data);\n      }\n\n      if (prop.k) {\n        elem.addDynamicProperty(prop);\n      }\n\n      return prop;\n    }\n\n    function getConstructorFunction() {\n      return ShapeProperty;\n    }\n\n    function getKeyframedConstructorFunction() {\n      return KeyframedShapeProperty;\n    }\n\n    var ob = {};\n    ob.getShapeProp = getShapeProp;\n    ob.getConstructorFunction = getConstructorFunction;\n    ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\n    return ob;\n  }();\n\n  /*!\r\n   Transformation Matrix v2.0\r\n   (c) Epistemex 2014-2015\r\n   www.epistemex.com\r\n   By Ken Fyrstenberg\r\n   Contributions by leeoniya.\r\n   License: MIT, header required.\r\n   */\n\n  /**\r\n   * 2D transformation matrix object initialized with identity matrix.\r\n   *\r\n   * The matrix can synchronize a canvas context by supplying the context\r\n   * as an argument, or later apply current absolute transform to an\r\n   * existing context.\r\n   *\r\n   * All values are handled as floating point values.\r\n   *\r\n   * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n   * @prop {number} a - scale x\r\n   * @prop {number} b - shear y\r\n   * @prop {number} c - shear x\r\n   * @prop {number} d - scale y\r\n   * @prop {number} e - translate x\r\n   * @prop {number} f - translate y\r\n   * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n   * @constructor\r\n   */\n\n  var Matrix = function () {\n    var _cos = Math.cos;\n    var _sin = Math.sin;\n    var _tan = Math.tan;\n    var _rnd = Math.round;\n\n    function reset() {\n      this.props[0] = 1;\n      this.props[1] = 0;\n      this.props[2] = 0;\n      this.props[3] = 0;\n      this.props[4] = 0;\n      this.props[5] = 1;\n      this.props[6] = 0;\n      this.props[7] = 0;\n      this.props[8] = 0;\n      this.props[9] = 0;\n      this.props[10] = 1;\n      this.props[11] = 0;\n      this.props[12] = 0;\n      this.props[13] = 0;\n      this.props[14] = 0;\n      this.props[15] = 1;\n      return this;\n    }\n\n    function rotate(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    }\n\n    function rotateX(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateY(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateZ(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    }\n\n    function shear(sx, sy) {\n      return this._t(1, sy, sx, 1, 0, 0);\n    }\n\n    function skew(ax, ay) {\n      return this.shear(_tan(ax), _tan(ay));\n    }\n\n    function skewFromAxis(ax, angle) {\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); // return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\n    }\n\n    function scale(sx, sy, sz) {\n      if (!sz && sz !== 0) {\n        sz = 1;\n      }\n\n      if (sx === 1 && sy === 1 && sz === 1) {\n        return this;\n      }\n\n      return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\n    }\n\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\n      this.props[0] = a;\n      this.props[1] = b;\n      this.props[2] = c;\n      this.props[3] = d;\n      this.props[4] = e;\n      this.props[5] = f;\n      this.props[6] = g;\n      this.props[7] = h;\n      this.props[8] = i;\n      this.props[9] = j;\n      this.props[10] = k;\n      this.props[11] = l;\n      this.props[12] = m;\n      this.props[13] = n;\n      this.props[14] = o;\n      this.props[15] = p;\n      return this;\n    }\n\n    function translate(tx, ty, tz) {\n      tz = tz || 0;\n\n      if (tx !== 0 || ty !== 0 || tz !== 0) {\n        return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\n      }\n\n      return this;\n    }\n\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\n      var _p = this.props;\n\n      if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\n        // NOTE: commenting this condition because TurboFan deoptimizes code when present\n        // if(m2 !== 0 || n2 !== 0 || o2 !== 0){\n        _p[12] = _p[12] * a2 + _p[15] * m2;\n        _p[13] = _p[13] * f2 + _p[15] * n2;\n        _p[14] = _p[14] * k2 + _p[15] * o2;\n        _p[15] *= p2; // }\n\n        this._identityCalculated = false;\n        return this;\n      }\n\n      var a1 = _p[0];\n      var b1 = _p[1];\n      var c1 = _p[2];\n      var d1 = _p[3];\n      var e1 = _p[4];\n      var f1 = _p[5];\n      var g1 = _p[6];\n      var h1 = _p[7];\n      var i1 = _p[8];\n      var j1 = _p[9];\n      var k1 = _p[10];\n      var l1 = _p[11];\n      var m1 = _p[12];\n      var n1 = _p[13];\n      var o1 = _p[14];\n      var p1 = _p[15];\n      /* matrix order (canvas compatible):\r\n           * ace\r\n           * bdf\r\n           * 001\r\n           */\n\n      _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\n      _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\n      _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\n      _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\n      _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\n      _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\n      _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\n      _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\n      _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\n      _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\n      _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\n      _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\n      _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\n      _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\n      _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\n      _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\n      this._identityCalculated = false;\n      return this;\n    }\n\n    function isIdentity() {\n      if (!this._identityCalculated) {\n        this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\n        this._identityCalculated = true;\n      }\n\n      return this._identity;\n    }\n\n    function equals(matr) {\n      var i = 0;\n\n      while (i < 16) {\n        if (matr.props[i] !== this.props[i]) {\n          return false;\n        }\n\n        i += 1;\n      }\n\n      return true;\n    }\n\n    function clone(matr) {\n      var i;\n\n      for (i = 0; i < 16; i += 1) {\n        matr.props[i] = this.props[i];\n      }\n\n      return matr;\n    }\n\n    function cloneFromProps(props) {\n      var i;\n\n      for (i = 0; i < 16; i += 1) {\n        this.props[i] = props[i];\n      }\n    }\n\n    function applyToPoint(x, y, z) {\n      return {\n        x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\n        y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\n        z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\n      };\n      /* return {\r\n           x: x * me.a + y * me.c + me.e,\r\n           y: x * me.b + y * me.d + me.f\r\n           }; */\n    }\n\n    function applyToX(x, y, z) {\n      return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\n    }\n\n    function applyToY(x, y, z) {\n      return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\n    }\n\n    function applyToZ(x, y, z) {\n      return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\n    }\n\n    function getInverseMatrix() {\n      var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\n      var a = this.props[5] / determinant;\n      var b = -this.props[1] / determinant;\n      var c = -this.props[4] / determinant;\n      var d = this.props[0] / determinant;\n      var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\n      var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\n      var inverseMatrix = new Matrix();\n      inverseMatrix.props[0] = a;\n      inverseMatrix.props[1] = b;\n      inverseMatrix.props[4] = c;\n      inverseMatrix.props[5] = d;\n      inverseMatrix.props[12] = e;\n      inverseMatrix.props[13] = f;\n      return inverseMatrix;\n    }\n\n    function inversePoint(pt) {\n      var inverseMatrix = this.getInverseMatrix();\n      return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0);\n    }\n\n    function inversePoints(pts) {\n      var i;\n      var len = pts.length;\n      var retPts = [];\n\n      for (i = 0; i < len; i += 1) {\n        retPts[i] = inversePoint(pts[i]);\n      }\n\n      return retPts;\n    }\n\n    function applyToTriplePoints(pt1, pt2, pt3) {\n      var arr = createTypedArray('float32', 6);\n\n      if (this.isIdentity()) {\n        arr[0] = pt1[0];\n        arr[1] = pt1[1];\n        arr[2] = pt2[0];\n        arr[3] = pt2[1];\n        arr[4] = pt3[0];\n        arr[5] = pt3[1];\n      } else {\n        var p0 = this.props[0];\n        var p1 = this.props[1];\n        var p4 = this.props[4];\n        var p5 = this.props[5];\n        var p12 = this.props[12];\n        var p13 = this.props[13];\n        arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\n        arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\n        arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\n        arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\n        arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\n        arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\n      }\n\n      return arr;\n    }\n\n    function applyToPointArray(x, y, z) {\n      var arr;\n\n      if (this.isIdentity()) {\n        arr = [x, y, z];\n      } else {\n        arr = [x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12], x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13], x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]];\n      }\n\n      return arr;\n    }\n\n    function applyToPointStringified(x, y) {\n      if (this.isIdentity()) {\n        return x + ',' + y;\n      }\n\n      var _p = this.props;\n      return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100 + ',' + Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\n    }\n\n    function toCSS() {\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n\n      /* if(this.isIdentity()) {\r\n              return '';\r\n          } */\n      var i = 0;\n      var props = this.props;\n      var cssValue = 'matrix3d(';\n      var v = 10000;\n\n      while (i < 16) {\n        cssValue += _rnd(props[i] * v) / v;\n        cssValue += i === 15 ? ')' : ',';\n        i += 1;\n      }\n\n      return cssValue;\n    }\n\n    function roundMatrixProperty(val) {\n      var v = 10000;\n\n      if (val < 0.000001 && val > 0 || val > -0.000001 && val < 0) {\n        return _rnd(val * v) / v;\n      }\n\n      return val;\n    }\n\n    function to2dCSS() {\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n\n      /* if(this.isIdentity()) {\r\n              return '';\r\n          } */\n      var props = this.props;\n\n      var _a = roundMatrixProperty(props[0]);\n\n      var _b = roundMatrixProperty(props[1]);\n\n      var _c = roundMatrixProperty(props[4]);\n\n      var _d = roundMatrixProperty(props[5]);\n\n      var _e = roundMatrixProperty(props[12]);\n\n      var _f = roundMatrixProperty(props[13]);\n\n      return 'matrix(' + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + ')';\n    }\n\n    return function () {\n      this.reset = reset;\n      this.rotate = rotate;\n      this.rotateX = rotateX;\n      this.rotateY = rotateY;\n      this.rotateZ = rotateZ;\n      this.skew = skew;\n      this.skewFromAxis = skewFromAxis;\n      this.shear = shear;\n      this.scale = scale;\n      this.setTransform = setTransform;\n      this.translate = translate;\n      this.transform = transform;\n      this.applyToPoint = applyToPoint;\n      this.applyToX = applyToX;\n      this.applyToY = applyToY;\n      this.applyToZ = applyToZ;\n      this.applyToPointArray = applyToPointArray;\n      this.applyToTriplePoints = applyToTriplePoints;\n      this.applyToPointStringified = applyToPointStringified;\n      this.toCSS = toCSS;\n      this.to2dCSS = to2dCSS;\n      this.clone = clone;\n      this.cloneFromProps = cloneFromProps;\n      this.equals = equals;\n      this.inversePoints = inversePoints;\n      this.inversePoint = inversePoint;\n      this.getInverseMatrix = getInverseMatrix;\n      this._t = this.transform;\n      this.isIdentity = isIdentity;\n      this._identity = true;\n      this._identityCalculated = false;\n      this.props = createTypedArray('float32', 16);\n      this.reset();\n    };\n  }();\n\n  function _typeof$3(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$3 = function _typeof(obj) { return typeof obj; }; } else { _typeof$3 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$3(obj); }\n  var lottie = {};\n  var standalone = '__[STANDALONE]__';\n  var animationData = '__[ANIMATIONDATA]__';\n  var renderer = '';\n\n  function setLocation(href) {\n    setLocationHref(href);\n  }\n\n  function searchAnimations() {\n    if (standalone === true) {\n      animationManager.searchAnimations(animationData, standalone, renderer);\n    } else {\n      animationManager.searchAnimations();\n    }\n  }\n\n  function setSubframeRendering(flag) {\n    setSubframeEnabled(flag);\n  }\n\n  function setPrefix(prefix) {\n    setIdPrefix(prefix);\n  }\n\n  function loadAnimation(params) {\n    if (standalone === true) {\n      params.animationData = JSON.parse(animationData);\n    }\n\n    return animationManager.loadAnimation(params);\n  }\n\n  function setQuality(value) {\n    if (typeof value === 'string') {\n      switch (value) {\n        case 'high':\n          setDefaultCurveSegments(200);\n          break;\n\n        default:\n        case 'medium':\n          setDefaultCurveSegments(50);\n          break;\n\n        case 'low':\n          setDefaultCurveSegments(10);\n          break;\n      }\n    } else if (!isNaN(value) && value > 1) {\n      setDefaultCurveSegments(value);\n    }\n\n    if (getDefaultCurveSegments() >= 50) {\n      roundValues(false);\n    } else {\n      roundValues(true);\n    }\n  }\n\n  function inBrowser() {\n    return typeof navigator !== 'undefined';\n  }\n\n  function installPlugin(type, plugin) {\n    if (type === 'expressions') {\n      setExpressionsPlugin(plugin);\n    }\n  }\n\n  function getFactory(name) {\n    switch (name) {\n      case 'propertyFactory':\n        return PropertyFactory;\n\n      case 'shapePropertyFactory':\n        return ShapePropertyFactory;\n\n      case 'matrix':\n        return Matrix;\n\n      default:\n        return null;\n    }\n  }\n\n  lottie.play = animationManager.play;\n  lottie.pause = animationManager.pause;\n  lottie.setLocationHref = setLocation;\n  lottie.togglePause = animationManager.togglePause;\n  lottie.setSpeed = animationManager.setSpeed;\n  lottie.setDirection = animationManager.setDirection;\n  lottie.stop = animationManager.stop;\n  lottie.searchAnimations = searchAnimations;\n  lottie.registerAnimation = animationManager.registerAnimation;\n  lottie.loadAnimation = loadAnimation;\n  lottie.setSubframeRendering = setSubframeRendering;\n  lottie.resize = animationManager.resize; // lottie.start = start;\n\n  lottie.goToAndStop = animationManager.goToAndStop;\n  lottie.destroy = animationManager.destroy;\n  lottie.setQuality = setQuality;\n  lottie.inBrowser = inBrowser;\n  lottie.installPlugin = installPlugin;\n  lottie.freeze = animationManager.freeze;\n  lottie.unfreeze = animationManager.unfreeze;\n  lottie.setVolume = animationManager.setVolume;\n  lottie.mute = animationManager.mute;\n  lottie.unmute = animationManager.unmute;\n  lottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\n  lottie.useWebWorker = setWebWorker;\n  lottie.setIDPrefix = setPrefix;\n  lottie.__getFactory = getFactory;\n  lottie.version = '5.9.4';\n\n  function checkReady() {\n    if (document.readyState === 'complete') {\n      clearInterval(readyStateCheckInterval);\n      searchAnimations();\n    }\n  }\n\n  function getQueryVariable(variable) {\n    var vars = queryString.split('&');\n\n    for (var i = 0; i < vars.length; i += 1) {\n      var pair = vars[i].split('=');\n\n      if (decodeURIComponent(pair[0]) == variable) {\n        // eslint-disable-line eqeqeq\n        return decodeURIComponent(pair[1]);\n      }\n    }\n\n    return null;\n  }\n\n  var queryString = '';\n\n  if (standalone) {\n    var scripts = document.getElementsByTagName('script');\n    var index = scripts.length - 1;\n    var myScript = scripts[index] || {\n      src: ''\n    };\n    queryString = myScript.src ? myScript.src.replace(/^[^\\?]+\\??/, '') : ''; // eslint-disable-line no-useless-escape\n\n    renderer = getQueryVariable('renderer');\n  }\n\n  var readyStateCheckInterval = setInterval(checkReady, 100); // this adds bodymovin to the window object for backwards compatibility\n\n  try {\n    if (!((typeof exports === \"undefined\" ? \"undefined\" : _typeof$3(exports)) === 'object' && typeof module !== 'undefined') && !(typeof define === 'function' && define.amd) // eslint-disable-line no-undef\n    ) {\n      window.bodymovin = lottie;\n    }\n  } catch (err) {//\n  }\n\n  var ShapeModifiers = function () {\n    var ob = {};\n    var modifiers = {};\n    ob.registerModifier = registerModifier;\n    ob.getModifier = getModifier;\n\n    function registerModifier(nm, factory) {\n      if (!modifiers[nm]) {\n        modifiers[nm] = factory;\n      }\n    }\n\n    function getModifier(nm, elem, data) {\n      return new modifiers[nm](elem, data);\n    }\n\n    return ob;\n  }();\n\n  function ShapeModifier() {}\n\n  ShapeModifier.prototype.initModifierProperties = function () {};\n\n  ShapeModifier.prototype.addShapeToModifier = function () {};\n\n  ShapeModifier.prototype.addShape = function (data) {\n    if (!this.closed) {\n      // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\n      data.sh.container.addDynamicProperty(data.sh);\n      var shapeData = {\n        shape: data.sh,\n        data: data,\n        localShapeCollection: shapeCollectionPool.newShapeCollection()\n      };\n      this.shapes.push(shapeData);\n      this.addShapeToModifier(shapeData);\n\n      if (this._isAnimated) {\n        data.setAsAnimated();\n      }\n    }\n  };\n\n  ShapeModifier.prototype.init = function (elem, data) {\n    this.shapes = [];\n    this.elem = elem;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, data);\n    this.frameId = initialDefaultFrame;\n    this.closed = false;\n    this.k = false;\n\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  };\n\n  ShapeModifier.prototype.processKeys = function () {\n    if (this.elem.globalData.frameId === this.frameId) {\n      return;\n    }\n\n    this.frameId = this.elem.globalData.frameId;\n    this.iterateDynamicProperties();\n  };\n\n  extendPrototype([DynamicPropertyContainer], ShapeModifier);\n\n  function TrimModifier() {}\n\n  extendPrototype([ShapeModifier], TrimModifier);\n\n  TrimModifier.prototype.initModifierProperties = function (elem, data) {\n    this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\n    this.sValue = 0;\n    this.eValue = 0;\n    this.getValue = this.processKeys;\n    this.m = data.m;\n    this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\n  };\n\n  TrimModifier.prototype.addShapeToModifier = function (shapeData) {\n    shapeData.pathsData = [];\n  };\n\n  TrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength) {\n    var segments = [];\n\n    if (e <= 1) {\n      segments.push({\n        s: s,\n        e: e\n      });\n    } else if (s >= 1) {\n      segments.push({\n        s: s - 1,\n        e: e - 1\n      });\n    } else {\n      segments.push({\n        s: s,\n        e: 1\n      });\n      segments.push({\n        s: 0,\n        e: e - 1\n      });\n    }\n\n    var shapeSegments = [];\n    var i;\n    var len = segments.length;\n    var segmentOb;\n\n    for (i = 0; i < len; i += 1) {\n      segmentOb = segments[i];\n\n      if (!(segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)) {\n        var shapeS;\n        var shapeE;\n\n        if (segmentOb.s * totalModifierLength <= addedLength) {\n          shapeS = 0;\n        } else {\n          shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\n        }\n\n        if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\n          shapeE = 1;\n        } else {\n          shapeE = (segmentOb.e * totalModifierLength - addedLength) / shapeLength;\n        }\n\n        shapeSegments.push([shapeS, shapeE]);\n      }\n    }\n\n    if (!shapeSegments.length) {\n      shapeSegments.push([0, 0]);\n    }\n\n    return shapeSegments;\n  };\n\n  TrimModifier.prototype.releasePathsData = function (pathsData) {\n    var i;\n    var len = pathsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      segmentsLengthPool.release(pathsData[i]);\n    }\n\n    pathsData.length = 0;\n    return pathsData;\n  };\n\n  TrimModifier.prototype.processShapes = function (_isFirstFrame) {\n    var s;\n    var e;\n\n    if (this._mdf || _isFirstFrame) {\n      var o = this.o.v % 360 / 360;\n\n      if (o < 0) {\n        o += 1;\n      }\n\n      if (this.s.v > 1) {\n        s = 1 + o;\n      } else if (this.s.v < 0) {\n        s = 0 + o;\n      } else {\n        s = this.s.v + o;\n      }\n\n      if (this.e.v > 1) {\n        e = 1 + o;\n      } else if (this.e.v < 0) {\n        e = 0 + o;\n      } else {\n        e = this.e.v + o;\n      }\n\n      if (s > e) {\n        var _s = s;\n        s = e;\n        e = _s;\n      }\n\n      s = Math.round(s * 10000) * 0.0001;\n      e = Math.round(e * 10000) * 0.0001;\n      this.sValue = s;\n      this.eValue = e;\n    } else {\n      s = this.sValue;\n      e = this.eValue;\n    }\n\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var pathsData;\n    var pathData;\n    var totalShapeLength;\n    var totalModifierLength = 0;\n\n    if (e === s) {\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].localShapeCollection.releaseShapes();\n        this.shapes[i].shape._mdf = true;\n        this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\n\n        if (this._mdf) {\n          this.shapes[i].pathsData.length = 0;\n        }\n      }\n    } else if (!(e === 1 && s === 0 || e === 0 && s === 1)) {\n      var segments = [];\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i]; // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\n\n        if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\n          shapeData.shape.paths = shapeData.localShapeCollection;\n        } else {\n          shapePaths = shapeData.shape.paths;\n          jLen = shapePaths._length;\n          totalShapeLength = 0;\n\n          if (!shapeData.shape._mdf && shapeData.pathsData.length) {\n            totalShapeLength = shapeData.totalShapeLength;\n          } else {\n            pathsData = this.releasePathsData(shapeData.pathsData);\n\n            for (j = 0; j < jLen; j += 1) {\n              pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\n              pathsData.push(pathData);\n              totalShapeLength += pathData.totalLength;\n            }\n\n            shapeData.totalShapeLength = totalShapeLength;\n            shapeData.pathsData = pathsData;\n          }\n\n          totalModifierLength += totalShapeLength;\n          shapeData.shape._mdf = true;\n        }\n      }\n\n      var shapeS = s;\n      var shapeE = e;\n      var addedLength = 0;\n      var edges;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        shapeData = this.shapes[i];\n\n        if (shapeData.shape._mdf) {\n          localShapeCollection = shapeData.localShapeCollection;\n          localShapeCollection.releaseShapes(); // if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\n\n          if (this.m === 2 && len > 1) {\n            edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\n            addedLength += shapeData.totalShapeLength;\n          } else {\n            edges = [[shapeS, shapeE]];\n          }\n\n          jLen = edges.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            shapeS = edges[j][0];\n            shapeE = edges[j][1];\n            segments.length = 0;\n\n            if (shapeE <= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength * shapeE\n              });\n            } else if (shapeS >= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * (shapeS - 1),\n                e: shapeData.totalShapeLength * (shapeE - 1)\n              });\n            } else {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength\n              });\n              segments.push({\n                s: 0,\n                e: shapeData.totalShapeLength * (shapeE - 1)\n              });\n            }\n\n            var newShapesData = this.addShapes(shapeData, segments[0]);\n\n            if (segments[0].s !== segments[0].e) {\n              if (segments.length > 1) {\n                var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\n\n                if (lastShapeInCollection.c) {\n                  var lastShape = newShapesData.pop();\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1], lastShape);\n                } else {\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1]);\n                }\n              }\n\n              this.addPaths(newShapesData, localShapeCollection);\n            }\n          }\n\n          shapeData.shape.paths = localShapeCollection;\n        }\n      }\n    } else if (this._mdf) {\n      for (i = 0; i < len; i += 1) {\n        // Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\n        // Don't remove this even if it's losing cached info.\n        this.shapes[i].pathsData.length = 0;\n        this.shapes[i].shape._mdf = true;\n      }\n    }\n  };\n\n  TrimModifier.prototype.addPaths = function (newPaths, localShapeCollection) {\n    var i;\n    var len = newPaths.length;\n\n    for (i = 0; i < len; i += 1) {\n      localShapeCollection.addShape(newPaths[i]);\n    }\n  };\n\n  TrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\n    shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\n    shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\n\n    if (newShape) {\n      shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\n    }\n\n    shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\n  };\n\n  TrimModifier.prototype.addSegmentFromArray = function (points, shapePath, pos, newShape) {\n    shapePath.setXYAt(points[1], points[5], 'o', pos);\n    shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\n\n    if (newShape) {\n      shapePath.setXYAt(points[0], points[4], 'v', pos);\n    }\n\n    shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\n  };\n\n  TrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath) {\n    var pathsData = shapeData.pathsData;\n    var shapePaths = shapeData.shape.paths.shapes;\n    var i;\n    var len = shapeData.shape.paths._length;\n    var j;\n    var jLen;\n    var addedLength = 0;\n    var currentLengthData;\n    var segmentCount;\n    var lengths;\n    var segment;\n    var shapes = [];\n    var initPos;\n    var newShape = true;\n\n    if (!shapePath) {\n      shapePath = shapePool.newElement();\n      segmentCount = 0;\n      initPos = 0;\n    } else {\n      segmentCount = shapePath._length;\n      initPos = shapePath._length;\n    }\n\n    shapes.push(shapePath);\n\n    for (i = 0; i < len; i += 1) {\n      lengths = pathsData[i].lengths;\n      shapePath.c = shapePaths[i].c;\n      jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\n\n      for (j = 1; j < jLen; j += 1) {\n        currentLengthData = lengths[j - 1];\n\n        if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\n          addedLength += currentLengthData.addedLength;\n          shapePath.c = false;\n        } else if (addedLength > shapeSegment.e) {\n          shapePath.c = false;\n          break;\n        } else {\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n\n            newShape = false;\n            shapePath.c = false;\n          }\n\n          addedLength += currentLengthData.addedLength;\n          segmentCount += 1;\n        }\n      }\n\n      if (shapePaths[i].c && lengths.length) {\n        currentLengthData = lengths[j - 1];\n\n        if (addedLength <= shapeSegment.e) {\n          var segmentLength = lengths[j - 1].addedLength;\n\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n\n            newShape = false;\n            shapePath.c = false;\n          }\n        } else {\n          shapePath.c = false;\n        }\n\n        addedLength += currentLengthData.addedLength;\n        segmentCount += 1;\n      }\n\n      if (shapePath._length) {\n        shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\n        shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\n      }\n\n      if (addedLength > shapeSegment.e) {\n        break;\n      }\n\n      if (i < len - 1) {\n        shapePath = shapePool.newElement();\n        newShape = true;\n        shapes.push(shapePath);\n        segmentCount = 0;\n      }\n    }\n\n    return shapes;\n  };\n\n  function PuckerAndBloatModifier() {}\n\n  extendPrototype([ShapeModifier], PuckerAndBloatModifier);\n\n  PuckerAndBloatModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\n    this._isAnimated = !!this.amount.effectsSequence.length;\n  };\n\n  PuckerAndBloatModifier.prototype.processPath = function (path, amount) {\n    var percent = amount / 100;\n    var centerPoint = [0, 0];\n    var pathLength = path._length;\n    var i = 0;\n\n    for (i = 0; i < pathLength; i += 1) {\n      centerPoint[0] += path.v[i][0];\n      centerPoint[1] += path.v[i][1];\n    }\n\n    centerPoint[0] /= pathLength;\n    centerPoint[1] /= pathLength;\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n    var vX;\n    var vY;\n    var oX;\n    var oY;\n    var iX;\n    var iY;\n\n    for (i = 0; i < pathLength; i += 1) {\n      vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\n      vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\n      oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\n      oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\n      iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\n      iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\n      clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, i);\n    }\n\n    return clonedPath;\n  };\n\n  PuckerAndBloatModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var amount = this.amount.v;\n\n    if (amount !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  var TransformPropertyFactory = function () {\n    var defaultVector = [0, 0];\n\n    function applyToMatrix(mat) {\n      var _mdf = this._mdf;\n      this.iterateDynamicProperties();\n      this._mdf = this._mdf || _mdf;\n\n      if (this.a) {\n        mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n      }\n\n      if (this.s) {\n        mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n      }\n\n      if (this.sk) {\n        mat.skewFromAxis(-this.sk.v, this.sa.v);\n      }\n\n      if (this.r) {\n        mat.rotate(-this.r.v);\n      } else {\n        mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n      }\n\n      if (this.data.p.s) {\n        if (this.data.p.z) {\n          mat.translate(this.px.v, this.py.v, -this.pz.v);\n        } else {\n          mat.translate(this.px.v, this.py.v, 0);\n        }\n      } else {\n        mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n      }\n    }\n\n    function processKeys(forceRender) {\n      if (this.elem.globalData.frameId === this.frameId) {\n        return;\n      }\n\n      if (this._isDirty) {\n        this.precalculateMatrix();\n        this._isDirty = false;\n      }\n\n      this.iterateDynamicProperties();\n\n      if (this._mdf || forceRender) {\n        var frameRate;\n        this.v.cloneFromProps(this.pre.props);\n\n        if (this.appliedTransformations < 1) {\n          this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n        }\n\n        if (this.appliedTransformations < 2) {\n          this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n        }\n\n        if (this.sk && this.appliedTransformations < 3) {\n          this.v.skewFromAxis(-this.sk.v, this.sa.v);\n        }\n\n        if (this.r && this.appliedTransformations < 4) {\n          this.v.rotate(-this.r.v);\n        } else if (!this.r && this.appliedTransformations < 4) {\n          this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n        }\n\n        if (this.autoOriented) {\n          var v1;\n          var v2;\n          frameRate = this.elem.globalData.frameRate;\n\n          if (this.p && this.p.keyframes && this.p.getValueAtTime) {\n            if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {\n              v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\n              v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\n            } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\n              v1 = this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length - 1].t / frameRate, 0);\n              v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\n            } else {\n              v1 = this.p.pv;\n              v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\n            }\n          } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\n            v1 = [];\n            v2 = [];\n            var px = this.px;\n            var py = this.py;\n\n            if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {\n              v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\n              v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\n              v2[0] = px.getValueAtTime(px.keyframes[0].t / frameRate, 0);\n              v2[1] = py.getValueAtTime(py.keyframes[0].t / frameRate, 0);\n            } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\n              v1[0] = px.getValueAtTime(px.keyframes[px.keyframes.length - 1].t / frameRate, 0);\n              v1[1] = py.getValueAtTime(py.keyframes[py.keyframes.length - 1].t / frameRate, 0);\n              v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\n              v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\n            } else {\n              v1 = [px.pv, py.pv];\n              v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);\n              v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);\n            }\n          } else {\n            v2 = defaultVector;\n            v1 = v2;\n          }\n\n          this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\n        }\n\n        if (this.data.p && this.data.p.s) {\n          if (this.data.p.z) {\n            this.v.translate(this.px.v, this.py.v, -this.pz.v);\n          } else {\n            this.v.translate(this.px.v, this.py.v, 0);\n          }\n        } else {\n          this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n        }\n      }\n\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function precalculateMatrix() {\n      if (!this.a.k) {\n        this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n        this.appliedTransformations = 1;\n      } else {\n        return;\n      }\n\n      if (!this.s.effectsSequence.length) {\n        this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n        this.appliedTransformations = 2;\n      } else {\n        return;\n      }\n\n      if (this.sk) {\n        if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\n          this.pre.skewFromAxis(-this.sk.v, this.sa.v);\n          this.appliedTransformations = 3;\n        } else {\n          return;\n        }\n      }\n\n      if (this.r) {\n        if (!this.r.effectsSequence.length) {\n          this.pre.rotate(-this.r.v);\n          this.appliedTransformations = 4;\n        }\n      } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\n        this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n        this.appliedTransformations = 4;\n      }\n    }\n\n    function autoOrient() {//\n      // var prevP = this.getValueAtTime();\n    }\n\n    function addDynamicProperty(prop) {\n      this._addDynamicProperty(prop);\n\n      this.elem.addDynamicProperty(prop);\n      this._isDirty = true;\n    }\n\n    function TransformProperty(elem, data, container) {\n      this.elem = elem;\n      this.frameId = -1;\n      this.propType = 'transform';\n      this.data = data;\n      this.v = new Matrix(); // Precalculated matrix with non animated properties\n\n      this.pre = new Matrix();\n      this.appliedTransformations = 0;\n      this.initDynamicPropertyContainer(container || elem);\n\n      if (data.p && data.p.s) {\n        this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\n        this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\n\n        if (data.p.z) {\n          this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\n        }\n      } else {\n        this.p = PropertyFactory.getProp(elem, data.p || {\n          k: [0, 0, 0]\n        }, 1, 0, this);\n      }\n\n      if (data.rx) {\n        this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\n        this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\n        this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\n\n        if (data.or.k[0].ti) {\n          var i;\n          var len = data.or.k.length;\n\n          for (i = 0; i < len; i += 1) {\n            data.or.k[i].to = null;\n            data.or.k[i].ti = null;\n          }\n        }\n\n        this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this); // sh Indicates it needs to be capped between -180 and 180\n\n        this.or.sh = true;\n      } else {\n        this.r = PropertyFactory.getProp(elem, data.r || {\n          k: 0\n        }, 0, degToRads, this);\n      }\n\n      if (data.sk) {\n        this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\n        this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\n      }\n\n      this.a = PropertyFactory.getProp(elem, data.a || {\n        k: [0, 0, 0]\n      }, 1, 0, this);\n      this.s = PropertyFactory.getProp(elem, data.s || {\n        k: [100, 100, 100]\n      }, 1, 0.01, this); // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\n\n      if (data.o) {\n        this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\n      } else {\n        this.o = {\n          _mdf: false,\n          v: 1\n        };\n      }\n\n      this._isDirty = true;\n\n      if (!this.dynamicProperties.length) {\n        this.getValue(true);\n      }\n    }\n\n    TransformProperty.prototype = {\n      applyToMatrix: applyToMatrix,\n      getValue: processKeys,\n      precalculateMatrix: precalculateMatrix,\n      autoOrient: autoOrient\n    };\n    extendPrototype([DynamicPropertyContainer], TransformProperty);\n    TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\n    TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\n\n    function getTransformProperty(elem, data, container) {\n      return new TransformProperty(elem, data, container);\n    }\n\n    return {\n      getTransformProperty: getTransformProperty\n    };\n  }();\n\n  function RepeaterModifier() {}\n\n  extendPrototype([ShapeModifier], RepeaterModifier);\n\n  RepeaterModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\n    this.tr = TransformPropertyFactory.getTransformProperty(elem, data.tr, this);\n    this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\n    this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\n    this.data = data;\n\n    if (!this.dynamicProperties.length) {\n      this.getValue(true);\n    }\n\n    this._isAnimated = !!this.dynamicProperties.length;\n    this.pMatrix = new Matrix();\n    this.rMatrix = new Matrix();\n    this.sMatrix = new Matrix();\n    this.tMatrix = new Matrix();\n    this.matrix = new Matrix();\n  };\n\n  RepeaterModifier.prototype.applyTransforms = function (pMatrix, rMatrix, sMatrix, transform, perc, inv) {\n    var dir = inv ? -1 : 1;\n    var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\n    var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\n    pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\n    rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    rMatrix.rotate(-transform.r.v * dir * perc);\n    rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n    sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);\n    sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n  };\n\n  RepeaterModifier.prototype.init = function (elem, arr, pos, elemsData) {\n    this.elem = elem;\n    this.arr = arr;\n    this.pos = pos;\n    this.elemsData = elemsData;\n    this._currentCopies = 0;\n    this._elements = [];\n    this._groups = [];\n    this.frameId = -1;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, arr[pos]);\n\n    while (pos > 0) {\n      pos -= 1; // this._elements.unshift(arr.splice(pos,1)[0]);\n\n      this._elements.unshift(arr[pos]);\n    }\n\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  };\n\n  RepeaterModifier.prototype.resetElements = function (elements) {\n    var i;\n    var len = elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      elements[i]._processed = false;\n\n      if (elements[i].ty === 'gr') {\n        this.resetElements(elements[i].it);\n      }\n    }\n  };\n\n  RepeaterModifier.prototype.cloneElements = function (elements) {\n    var newElements = JSON.parse(JSON.stringify(elements));\n    this.resetElements(newElements);\n    return newElements;\n  };\n\n  RepeaterModifier.prototype.changeGroupRender = function (elements, renderFlag) {\n    var i;\n    var len = elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      elements[i]._render = renderFlag;\n\n      if (elements[i].ty === 'gr') {\n        this.changeGroupRender(elements[i].it, renderFlag);\n      }\n    }\n  };\n\n  RepeaterModifier.prototype.processShapes = function (_isFirstFrame) {\n    var items;\n    var itemsTransform;\n    var i;\n    var dir;\n    var cont;\n    var hasReloaded = false;\n\n    if (this._mdf || _isFirstFrame) {\n      var copies = Math.ceil(this.c.v);\n\n      if (this._groups.length < copies) {\n        while (this._groups.length < copies) {\n          var group = {\n            it: this.cloneElements(this._elements),\n            ty: 'gr'\n          };\n          group.it.push({\n            a: {\n              a: 0,\n              ix: 1,\n              k: [0, 0]\n            },\n            nm: 'Transform',\n            o: {\n              a: 0,\n              ix: 7,\n              k: 100\n            },\n            p: {\n              a: 0,\n              ix: 2,\n              k: [0, 0]\n            },\n            r: {\n              a: 1,\n              ix: 6,\n              k: [{\n                s: 0,\n                e: 0,\n                t: 0\n              }, {\n                s: 0,\n                e: 0,\n                t: 1\n              }]\n            },\n            s: {\n              a: 0,\n              ix: 3,\n              k: [100, 100]\n            },\n            sa: {\n              a: 0,\n              ix: 5,\n              k: 0\n            },\n            sk: {\n              a: 0,\n              ix: 4,\n              k: 0\n            },\n            ty: 'tr'\n          });\n          this.arr.splice(0, 0, group);\n\n          this._groups.splice(0, 0, group);\n\n          this._currentCopies += 1;\n        }\n\n        this.elem.reloadShapes();\n        hasReloaded = true;\n      }\n\n      cont = 0;\n      var renderFlag;\n\n      for (i = 0; i <= this._groups.length - 1; i += 1) {\n        renderFlag = cont < copies;\n        this._groups[i]._render = renderFlag;\n        this.changeGroupRender(this._groups[i].it, renderFlag);\n\n        if (!renderFlag) {\n          var elems = this.elemsData[i].it;\n          var transformData = elems[elems.length - 1];\n\n          if (transformData.transform.op.v !== 0) {\n            transformData.transform.op._mdf = true;\n            transformData.transform.op.v = 0;\n          } else {\n            transformData.transform.op._mdf = false;\n          }\n        }\n\n        cont += 1;\n      }\n\n      this._currentCopies = copies; /// /\n\n      var offset = this.o.v;\n      var offsetModulo = offset % 1;\n      var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\n      var pProps = this.pMatrix.props;\n      var rProps = this.rMatrix.props;\n      var sProps = this.sMatrix.props;\n      this.pMatrix.reset();\n      this.rMatrix.reset();\n      this.sMatrix.reset();\n      this.tMatrix.reset();\n      this.matrix.reset();\n      var iteration = 0;\n\n      if (offset > 0) {\n        while (iteration < roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          iteration += 1;\n        }\n\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\n          iteration += offsetModulo;\n        }\n      } else if (offset < 0) {\n        while (iteration > roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\n          iteration -= 1;\n        }\n\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);\n          iteration -= offsetModulo;\n        }\n      }\n\n      i = this.data.m === 1 ? 0 : this._currentCopies - 1;\n      dir = this.data.m === 1 ? 1 : -1;\n      cont = this._currentCopies;\n      var j;\n      var jLen;\n\n      while (cont) {\n        items = this.elemsData[i].it;\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        jLen = itemsTransform.length;\n        items[items.length - 1].transform.mProps._mdf = true;\n        items[items.length - 1].transform.op._mdf = true;\n        items[items.length - 1].transform.op.v = this._currentCopies === 1 ? this.so.v : this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\n\n        if (iteration !== 0) {\n          if (i !== 0 && dir === 1 || i !== this._currentCopies - 1 && dir === -1) {\n            this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          }\n\n          this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\n          this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\n          this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n\n          this.matrix.reset();\n        } else {\n          this.matrix.reset();\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n        }\n\n        iteration += 1;\n        cont -= 1;\n        i += dir;\n      }\n    } else {\n      cont = this._currentCopies;\n      i = 0;\n      dir = 1;\n\n      while (cont) {\n        items = this.elemsData[i].it;\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        items[items.length - 1].transform.mProps._mdf = false;\n        items[items.length - 1].transform.op._mdf = false;\n        cont -= 1;\n        i += dir;\n      }\n    }\n\n    return hasReloaded;\n  };\n\n  RepeaterModifier.prototype.addShape = function () {};\n\n  function RoundCornersModifier() {}\n\n  extendPrototype([ShapeModifier], RoundCornersModifier);\n\n  RoundCornersModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\n    this._isAnimated = !!this.rd.effectsSequence.length;\n  };\n\n  RoundCornersModifier.prototype.processPath = function (path, round) {\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n    var i;\n    var len = path._length;\n    var currentV;\n    var currentI;\n    var currentO;\n    var closerV;\n    var distance;\n    var newPosPerc;\n    var index = 0;\n    var vX;\n    var vY;\n    var oX;\n    var oY;\n    var iX;\n    var iY;\n\n    for (i = 0; i < len; i += 1) {\n      currentV = path.v[i];\n      currentO = path.o[i];\n      currentI = path.i[i];\n\n      if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {\n        if ((i === 0 || i === len - 1) && !path.c) {\n          clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\n          /* clonedPath.v[index] = currentV;\r\n                  clonedPath.o[index] = currentO;\r\n                  clonedPath.i[index] = currentI; */\n\n          index += 1;\n        } else {\n          if (i === 0) {\n            closerV = path.v[len - 1];\n          } else {\n            closerV = path.v[i - 1];\n          }\n\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n          iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n          vX = iX;\n          iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;\n          vY = iY;\n          oX = vX - (vX - currentV[0]) * roundCorner;\n          oY = vY - (vY - currentV[1]) * roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n\n          if (i === len - 1) {\n            closerV = path.v[0];\n          } else {\n            closerV = path.v[i + 1];\n          }\n\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n          oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n          vX = oX;\n          oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;\n          vY = oY;\n          iX = vX - (vX - currentV[0]) * roundCorner;\n          iY = vY - (vY - currentV[1]) * roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n        }\n      } else {\n        clonedPath.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\n        index += 1;\n      }\n    }\n\n    return clonedPath;\n  };\n\n  RoundCornersModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var rd = this.rd.v;\n\n    if (rd !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  function getFontProperties(fontData) {\n    var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\n    var fWeight = 'normal';\n    var fStyle = 'normal';\n    var len = styles.length;\n    var styleName;\n\n    for (var i = 0; i < len; i += 1) {\n      styleName = styles[i].toLowerCase();\n\n      switch (styleName) {\n        case 'italic':\n          fStyle = 'italic';\n          break;\n\n        case 'bold':\n          fWeight = '700';\n          break;\n\n        case 'black':\n          fWeight = '900';\n          break;\n\n        case 'medium':\n          fWeight = '500';\n          break;\n\n        case 'regular':\n        case 'normal':\n          fWeight = '400';\n          break;\n\n        case 'light':\n        case 'thin':\n          fWeight = '200';\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    return {\n      style: fStyle,\n      weight: fontData.fWeight || fWeight\n    };\n  }\n\n  var FontManager = function () {\n    var maxWaitingTime = 5000;\n    var emptyChar = {\n      w: 0,\n      size: 0,\n      shapes: [],\n      data: {\n        shapes: []\n      }\n    };\n    var combinedCharacters = []; // Hindi characters\n\n    combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366, 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379, 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\n    var surrogateModifiers = ['d83cdffb', 'd83cdffc', 'd83cdffd', 'd83cdffe', 'd83cdfff'];\n    var zeroWidthJoiner = [65039, 8205];\n\n    function trimFontOptions(font) {\n      var familyArray = font.split(',');\n      var i;\n      var len = familyArray.length;\n      var enabledFamilies = [];\n\n      for (i = 0; i < len; i += 1) {\n        if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\n          enabledFamilies.push(familyArray[i]);\n        }\n      }\n\n      return enabledFamilies.join(',');\n    }\n\n    function setUpNode(font, family) {\n      var parentNode = createTag('span'); // Node is invisible to screen readers.\n\n      parentNode.setAttribute('aria-hidden', true);\n      parentNode.style.fontFamily = family;\n      var node = createTag('span'); // Characters that vary significantly among different fonts\n\n      node.innerText = 'giItT1WQy@!-/#'; // Visible - so we can measure it - but not on the screen\n\n      parentNode.style.position = 'absolute';\n      parentNode.style.left = '-10000px';\n      parentNode.style.top = '-10000px'; // Large font size makes even subtle changes obvious\n\n      parentNode.style.fontSize = '300px'; // Reset any font properties\n\n      parentNode.style.fontVariant = 'normal';\n      parentNode.style.fontStyle = 'normal';\n      parentNode.style.fontWeight = 'normal';\n      parentNode.style.letterSpacing = '0';\n      parentNode.appendChild(node);\n      document.body.appendChild(parentNode); // Remember width with no applied web font\n\n      var width = node.offsetWidth;\n      node.style.fontFamily = trimFontOptions(font) + ', ' + family;\n      return {\n        node: node,\n        w: width,\n        parent: parentNode\n      };\n    }\n\n    function checkLoadedFonts() {\n      var i;\n      var len = this.fonts.length;\n      var node;\n      var w;\n      var loadedCount = len;\n\n      for (i = 0; i < len; i += 1) {\n        if (this.fonts[i].loaded) {\n          loadedCount -= 1;\n        } else if (this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0) {\n          this.fonts[i].loaded = true;\n        } else {\n          node = this.fonts[i].monoCase.node;\n          w = this.fonts[i].monoCase.w;\n\n          if (node.offsetWidth !== w) {\n            loadedCount -= 1;\n            this.fonts[i].loaded = true;\n          } else {\n            node = this.fonts[i].sansCase.node;\n            w = this.fonts[i].sansCase.w;\n\n            if (node.offsetWidth !== w) {\n              loadedCount -= 1;\n              this.fonts[i].loaded = true;\n            }\n          }\n\n          if (this.fonts[i].loaded) {\n            this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\n            this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\n          }\n        }\n      }\n\n      if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {\n        setTimeout(this.checkLoadedFontsBinded, 20);\n      } else {\n        setTimeout(this.setIsLoadedBinded, 10);\n      }\n    }\n\n    function createHelper(fontData, def) {\n      var engine = document.body && def ? 'svg' : 'canvas';\n      var helper;\n      var fontProps = getFontProperties(fontData);\n\n      if (engine === 'svg') {\n        var tHelper = createNS('text');\n        tHelper.style.fontSize = '100px'; // tHelper.style.fontFamily = fontData.fFamily;\n\n        tHelper.setAttribute('font-family', fontData.fFamily);\n        tHelper.setAttribute('font-style', fontProps.style);\n        tHelper.setAttribute('font-weight', fontProps.weight);\n        tHelper.textContent = '1';\n\n        if (fontData.fClass) {\n          tHelper.style.fontFamily = 'inherit';\n          tHelper.setAttribute('class', fontData.fClass);\n        } else {\n          tHelper.style.fontFamily = fontData.fFamily;\n        }\n\n        def.appendChild(tHelper);\n        helper = tHelper;\n      } else {\n        var tCanvasHelper = new OffscreenCanvas(500, 500).getContext('2d');\n        tCanvasHelper.font = fontProps.style + ' ' + fontProps.weight + ' 100px ' + fontData.fFamily;\n        helper = tCanvasHelper;\n      }\n\n      function measure(text) {\n        if (engine === 'svg') {\n          helper.textContent = text;\n          return helper.getComputedTextLength();\n        }\n\n        return helper.measureText(text).width;\n      }\n\n      return {\n        measureText: measure\n      };\n    }\n\n    function addFonts(fontData, defs) {\n      if (!fontData) {\n        this.isLoaded = true;\n        return;\n      }\n\n      if (this.chars) {\n        this.isLoaded = true;\n        this.fonts = fontData.list;\n        return;\n      }\n\n      if (!document.body) {\n        this.isLoaded = true;\n        fontData.list.forEach(function (data) {\n          data.helper = createHelper(data);\n          data.cache = {};\n        });\n        this.fonts = fontData.list;\n        return;\n      }\n\n      var fontArr = fontData.list;\n      var i;\n      var len = fontArr.length;\n      var _pendingFonts = len;\n\n      for (i = 0; i < len; i += 1) {\n        var shouldLoadFont = true;\n        var loadedSelector;\n        var j;\n        fontArr[i].loaded = false;\n        fontArr[i].monoCase = setUpNode(fontArr[i].fFamily, 'monospace');\n        fontArr[i].sansCase = setUpNode(fontArr[i].fFamily, 'sans-serif');\n\n        if (!fontArr[i].fPath) {\n          fontArr[i].loaded = true;\n          _pendingFonts -= 1;\n        } else if (fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3) {\n          loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"' + fontArr[i].fFamily + '\"], style[f-origin=\"3\"][f-family=\"' + fontArr[i].fFamily + '\"]');\n\n          if (loadedSelector.length > 0) {\n            shouldLoadFont = false;\n          }\n\n          if (shouldLoadFont) {\n            var s = createTag('style');\n            s.setAttribute('f-forigin', fontArr[i].fOrigin);\n            s.setAttribute('f-origin', fontArr[i].origin);\n            s.setAttribute('f-family', fontArr[i].fFamily);\n            s.type = 'text/css';\n            s.innerText = '@font-face {font-family: ' + fontArr[i].fFamily + \"; font-style: normal; src: url('\" + fontArr[i].fPath + \"');}\";\n            defs.appendChild(s);\n          }\n        } else if (fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1) {\n          loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\n\n          for (j = 0; j < loadedSelector.length; j += 1) {\n            if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\n              // Font is already loaded\n              shouldLoadFont = false;\n            }\n          }\n\n          if (shouldLoadFont) {\n            var l = createTag('link');\n            l.setAttribute('f-forigin', fontArr[i].fOrigin);\n            l.setAttribute('f-origin', fontArr[i].origin);\n            l.type = 'text/css';\n            l.rel = 'stylesheet';\n            l.href = fontArr[i].fPath;\n            document.body.appendChild(l);\n          }\n        } else if (fontArr[i].fOrigin === 't' || fontArr[i].origin === 2) {\n          loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\n\n          for (j = 0; j < loadedSelector.length; j += 1) {\n            if (fontArr[i].fPath === loadedSelector[j].src) {\n              // Font is already loaded\n              shouldLoadFont = false;\n            }\n          }\n\n          if (shouldLoadFont) {\n            var sc = createTag('link');\n            sc.setAttribute('f-forigin', fontArr[i].fOrigin);\n            sc.setAttribute('f-origin', fontArr[i].origin);\n            sc.setAttribute('rel', 'stylesheet');\n            sc.setAttribute('href', fontArr[i].fPath);\n            defs.appendChild(sc);\n          }\n        }\n\n        fontArr[i].helper = createHelper(fontArr[i], defs);\n        fontArr[i].cache = {};\n        this.fonts.push(fontArr[i]);\n      }\n\n      if (_pendingFonts === 0) {\n        this.isLoaded = true;\n      } else {\n        // On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\n        // Adding this timeout seems to fix it\n        setTimeout(this.checkLoadedFonts.bind(this), 100);\n      }\n    }\n\n    function addChars(chars) {\n      if (!chars) {\n        return;\n      }\n\n      if (!this.chars) {\n        this.chars = [];\n      }\n\n      var i;\n      var len = chars.length;\n      var j;\n      var jLen = this.chars.length;\n      var found;\n\n      for (i = 0; i < len; i += 1) {\n        j = 0;\n        found = false;\n\n        while (j < jLen) {\n          if (this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch) {\n            found = true;\n          }\n\n          j += 1;\n        }\n\n        if (!found) {\n          this.chars.push(chars[i]);\n          jLen += 1;\n        }\n      }\n    }\n\n    function getCharData(_char, style, font) {\n      var i = 0;\n      var len = this.chars.length;\n\n      while (i < len) {\n        if (this.chars[i].ch === _char && this.chars[i].style === style && this.chars[i].fFamily === font) {\n          return this.chars[i];\n        }\n\n        i += 1;\n      }\n\n      if ((typeof _char === 'string' && _char.charCodeAt(0) !== 13 || !_char) && console && console.warn // eslint-disable-line no-console\n      && !this._warned) {\n        this._warned = true;\n        console.warn('Missing character from exported characters list: ', _char, style, font); // eslint-disable-line no-console\n      }\n\n      return emptyChar;\n    }\n\n    function measureText(_char2, fontName, size) {\n      var fontData = this.getFontByName(fontName);\n\n      var index = _char2.charCodeAt(0);\n\n      if (!fontData.cache[index + 1]) {\n        var tHelper = fontData.helper;\n\n        if (_char2 === ' ') {\n          var doubleSize = tHelper.measureText('|' + _char2 + '|');\n          var singleSize = tHelper.measureText('||');\n          fontData.cache[index + 1] = (doubleSize - singleSize) / 100;\n        } else {\n          fontData.cache[index + 1] = tHelper.measureText(_char2) / 100;\n        }\n      }\n\n      return fontData.cache[index + 1] * size;\n    }\n\n    function getFontByName(name) {\n      var i = 0;\n      var len = this.fonts.length;\n\n      while (i < len) {\n        if (this.fonts[i].fName === name) {\n          return this.fonts[i];\n        }\n\n        i += 1;\n      }\n\n      return this.fonts[0];\n    }\n\n    function isModifier(firstCharCode, secondCharCode) {\n      var sum = firstCharCode.toString(16) + secondCharCode.toString(16);\n      return surrogateModifiers.indexOf(sum) !== -1;\n    }\n\n    function isZeroWidthJoiner(firstCharCode, secondCharCode) {\n      if (!secondCharCode) {\n        return firstCharCode === zeroWidthJoiner[1];\n      }\n\n      return firstCharCode === zeroWidthJoiner[0] && secondCharCode === zeroWidthJoiner[1];\n    }\n\n    function isCombinedCharacter(_char3) {\n      return combinedCharacters.indexOf(_char3) !== -1;\n    }\n\n    function setIsLoaded() {\n      this.isLoaded = true;\n    }\n\n    var Font = function Font() {\n      this.fonts = [];\n      this.chars = null;\n      this.typekitLoaded = 0;\n      this.isLoaded = false;\n      this._warned = false;\n      this.initTime = Date.now();\n      this.setIsLoadedBinded = this.setIsLoaded.bind(this);\n      this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);\n    };\n\n    Font.isModifier = isModifier;\n    Font.isZeroWidthJoiner = isZeroWidthJoiner;\n    Font.isCombinedCharacter = isCombinedCharacter;\n    var fontPrototype = {\n      addChars: addChars,\n      addFonts: addFonts,\n      getCharData: getCharData,\n      getFontByName: getFontByName,\n      measureText: measureText,\n      checkLoadedFonts: checkLoadedFonts,\n      setIsLoaded: setIsLoaded\n    };\n    Font.prototype = fontPrototype;\n    return Font;\n  }();\n\n  function RenderableElement() {}\n\n  RenderableElement.prototype = {\n    initRenderable: function initRenderable() {\n      // layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\n      this.isInRange = false; // layer's display state\n\n      this.hidden = false; // If layer's transparency equals 0, it can be hidden\n\n      this.isTransparent = false; // list of animated components\n\n      this.renderableComponents = [];\n    },\n    addRenderableComponent: function addRenderableComponent(component) {\n      if (this.renderableComponents.indexOf(component) === -1) {\n        this.renderableComponents.push(component);\n      }\n    },\n    removeRenderableComponent: function removeRenderableComponent(component) {\n      if (this.renderableComponents.indexOf(component) !== -1) {\n        this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\n      }\n    },\n    prepareRenderableFrame: function prepareRenderableFrame(num) {\n      this.checkLayerLimits(num);\n    },\n    checkTransparency: function checkTransparency() {\n      if (this.finalTransform.mProp.o.v <= 0) {\n        if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {\n          this.isTransparent = true;\n          this.hide();\n        }\n      } else if (this.isTransparent) {\n        this.isTransparent = false;\n        this.show();\n      }\n    },\n\n    /**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       *\r\n       */\n    checkLayerLimits: function checkLayerLimits(num) {\n      if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {\n        if (this.isInRange !== true) {\n          this.globalData._mdf = true;\n          this._mdf = true;\n          this.isInRange = true;\n          this.show();\n        }\n      } else if (this.isInRange !== false) {\n        this.globalData._mdf = true;\n        this.isInRange = false;\n        this.hide();\n      }\n    },\n    renderRenderable: function renderRenderable() {\n      var i;\n      var len = this.renderableComponents.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.renderableComponents[i].renderFrame(this._isFirstFrame);\n      }\n      /* this.maskManager.renderFrame(this.finalTransform.mat);\r\n          this.renderableEffectsManager.renderFrame(this._isFirstFrame); */\n\n    },\n    sourceRectAtTime: function sourceRectAtTime() {\n      return {\n        top: 0,\n        left: 0,\n        width: 100,\n        height: 100\n      };\n    },\n    getLayerSize: function getLayerSize() {\n      if (this.data.ty === 5) {\n        return {\n          w: this.data.textData.width,\n          h: this.data.textData.height\n        };\n      }\n\n      return {\n        w: this.data.width,\n        h: this.data.height\n      };\n    }\n  };\n\n  var MaskManagerInterface = function () {\n    function MaskInterface(mask, data) {\n      this._mask = mask;\n      this._data = data;\n    }\n\n    Object.defineProperty(MaskInterface.prototype, 'maskPath', {\n      get: function get() {\n        if (this._mask.prop.k) {\n          this._mask.prop.getValue();\n        }\n\n        return this._mask.prop;\n      }\n    });\n    Object.defineProperty(MaskInterface.prototype, 'maskOpacity', {\n      get: function get() {\n        if (this._mask.op.k) {\n          this._mask.op.getValue();\n        }\n\n        return this._mask.op.v * 100;\n      }\n    });\n\n    var MaskManager = function MaskManager(maskManager) {\n      var _masksInterfaces = createSizedArray(maskManager.viewData.length);\n\n      var i;\n      var len = maskManager.viewData.length;\n\n      for (i = 0; i < len; i += 1) {\n        _masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\n      }\n\n      var maskFunction = function maskFunction(name) {\n        i = 0;\n\n        while (i < len) {\n          if (maskManager.masksProperties[i].nm === name) {\n            return _masksInterfaces[i];\n          }\n\n          i += 1;\n        }\n\n        return null;\n      };\n\n      return maskFunction;\n    };\n\n    return MaskManager;\n  }();\n\n  var ExpressionPropertyInterface = function () {\n    var defaultUnidimensionalValue = {\n      pv: 0,\n      v: 0,\n      mult: 1\n    };\n    var defaultMultidimensionalValue = {\n      pv: [0, 0, 0],\n      v: [0, 0, 0],\n      mult: 1\n    };\n\n    function completeProperty(expressionValue, property, type) {\n      Object.defineProperty(expressionValue, 'velocity', {\n        get: function get() {\n          return property.getVelocityAtTime(property.comp.currentFrame);\n        }\n      });\n      expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\n\n      expressionValue.key = function (pos) {\n        if (!expressionValue.numKeys) {\n          return 0;\n        }\n\n        var value = '';\n\n        if ('s' in property.keyframes[pos - 1]) {\n          value = property.keyframes[pos - 1].s;\n        } else if ('e' in property.keyframes[pos - 2]) {\n          value = property.keyframes[pos - 2].e;\n        } else {\n          value = property.keyframes[pos - 2].s;\n        }\n\n        var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value); // eslint-disable-line no-new-wrappers\n\n        valueProp.time = property.keyframes[pos - 1].t / property.elem.comp.globalData.frameRate;\n        valueProp.value = type === 'unidimensional' ? value[0] : value;\n        return valueProp;\n      };\n\n      expressionValue.valueAtTime = property.getValueAtTime;\n      expressionValue.speedAtTime = property.getSpeedAtTime;\n      expressionValue.velocityAtTime = property.getVelocityAtTime;\n      expressionValue.propertyGroup = property.propertyGroup;\n    }\n\n    function UnidimensionalPropertyInterface(property) {\n      if (!property || !('pv' in property)) {\n        property = defaultUnidimensionalValue;\n      }\n\n      var mult = 1 / property.mult;\n      var val = property.pv * mult;\n      var expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\n\n      expressionValue.value = val;\n      completeProperty(expressionValue, property, 'unidimensional');\n      return function () {\n        if (property.k) {\n          property.getValue();\n        }\n\n        val = property.v * mult;\n\n        if (expressionValue.value !== val) {\n          expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\n\n          expressionValue.value = val;\n          completeProperty(expressionValue, property, 'unidimensional');\n        }\n\n        return expressionValue;\n      };\n    }\n\n    function MultidimensionalPropertyInterface(property) {\n      if (!property || !('pv' in property)) {\n        property = defaultMultidimensionalValue;\n      }\n\n      var mult = 1 / property.mult;\n      var len = property.data && property.data.l || property.pv.length;\n      var expressionValue = createTypedArray('float32', len);\n      var arrValue = createTypedArray('float32', len);\n      expressionValue.value = arrValue;\n      completeProperty(expressionValue, property, 'multidimensional');\n      return function () {\n        if (property.k) {\n          property.getValue();\n        }\n\n        for (var i = 0; i < len; i += 1) {\n          arrValue[i] = property.v[i] * mult;\n          expressionValue[i] = arrValue[i];\n        }\n\n        return expressionValue;\n      };\n    } // TODO: try to avoid using this getter\n\n\n    function defaultGetter() {\n      return defaultUnidimensionalValue;\n    }\n\n    return function (property) {\n      if (!property) {\n        return defaultGetter;\n      }\n\n      if (property.propType === 'unidimensional') {\n        return UnidimensionalPropertyInterface(property);\n      }\n\n      return MultidimensionalPropertyInterface(property);\n    };\n  }();\n\n  var TransformExpressionInterface = function () {\n    return function (transform) {\n      function _thisFunction(name) {\n        switch (name) {\n          case 'scale':\n          case 'Scale':\n          case 'ADBE Scale':\n          case 6:\n            return _thisFunction.scale;\n\n          case 'rotation':\n          case 'Rotation':\n          case 'ADBE Rotation':\n          case 'ADBE Rotate Z':\n          case 10:\n            return _thisFunction.rotation;\n\n          case 'ADBE Rotate X':\n            return _thisFunction.xRotation;\n\n          case 'ADBE Rotate Y':\n            return _thisFunction.yRotation;\n\n          case 'position':\n          case 'Position':\n          case 'ADBE Position':\n          case 2:\n            return _thisFunction.position;\n\n          case 'ADBE Position_0':\n            return _thisFunction.xPosition;\n\n          case 'ADBE Position_1':\n            return _thisFunction.yPosition;\n\n          case 'ADBE Position_2':\n            return _thisFunction.zPosition;\n\n          case 'anchorPoint':\n          case 'AnchorPoint':\n          case 'Anchor Point':\n          case 'ADBE AnchorPoint':\n          case 1:\n            return _thisFunction.anchorPoint;\n\n          case 'opacity':\n          case 'Opacity':\n          case 11:\n            return _thisFunction.opacity;\n\n          default:\n            return null;\n        }\n      }\n\n      Object.defineProperty(_thisFunction, 'rotation', {\n        get: ExpressionPropertyInterface(transform.r || transform.rz)\n      });\n      Object.defineProperty(_thisFunction, 'zRotation', {\n        get: ExpressionPropertyInterface(transform.rz || transform.r)\n      });\n      Object.defineProperty(_thisFunction, 'xRotation', {\n        get: ExpressionPropertyInterface(transform.rx)\n      });\n      Object.defineProperty(_thisFunction, 'yRotation', {\n        get: ExpressionPropertyInterface(transform.ry)\n      });\n      Object.defineProperty(_thisFunction, 'scale', {\n        get: ExpressionPropertyInterface(transform.s)\n      });\n\n      var _px;\n\n      var _py;\n\n      var _pz;\n\n      var _transformFactory;\n\n      if (transform.p) {\n        _transformFactory = ExpressionPropertyInterface(transform.p);\n      } else {\n        _px = ExpressionPropertyInterface(transform.px);\n        _py = ExpressionPropertyInterface(transform.py);\n\n        if (transform.pz) {\n          _pz = ExpressionPropertyInterface(transform.pz);\n        }\n      }\n\n      Object.defineProperty(_thisFunction, 'position', {\n        get: function get() {\n          if (transform.p) {\n            return _transformFactory();\n          }\n\n          return [_px(), _py(), _pz ? _pz() : 0];\n        }\n      });\n      Object.defineProperty(_thisFunction, 'xPosition', {\n        get: ExpressionPropertyInterface(transform.px)\n      });\n      Object.defineProperty(_thisFunction, 'yPosition', {\n        get: ExpressionPropertyInterface(transform.py)\n      });\n      Object.defineProperty(_thisFunction, 'zPosition', {\n        get: ExpressionPropertyInterface(transform.pz)\n      });\n      Object.defineProperty(_thisFunction, 'anchorPoint', {\n        get: ExpressionPropertyInterface(transform.a)\n      });\n      Object.defineProperty(_thisFunction, 'opacity', {\n        get: ExpressionPropertyInterface(transform.o)\n      });\n      Object.defineProperty(_thisFunction, 'skew', {\n        get: ExpressionPropertyInterface(transform.sk)\n      });\n      Object.defineProperty(_thisFunction, 'skewAxis', {\n        get: ExpressionPropertyInterface(transform.sa)\n      });\n      Object.defineProperty(_thisFunction, 'orientation', {\n        get: ExpressionPropertyInterface(transform.or)\n      });\n      return _thisFunction;\n    };\n  }();\n\n  var LayerExpressionInterface = function () {\n    function getMatrix(time) {\n      var toWorldMat = new Matrix();\n\n      if (time !== undefined) {\n        var propMatrix = this._elem.finalTransform.mProp.getValueAtTime(time);\n\n        propMatrix.clone(toWorldMat);\n      } else {\n        var transformMat = this._elem.finalTransform.mProp;\n        transformMat.applyToMatrix(toWorldMat);\n      }\n\n      return toWorldMat;\n    }\n\n    function toWorldVec(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      toWorldMat.props[12] = 0;\n      toWorldMat.props[13] = 0;\n      toWorldMat.props[14] = 0;\n      return this.applyPoint(toWorldMat, arr);\n    }\n\n    function toWorld(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      return this.applyPoint(toWorldMat, arr);\n    }\n\n    function fromWorldVec(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      toWorldMat.props[12] = 0;\n      toWorldMat.props[13] = 0;\n      toWorldMat.props[14] = 0;\n      return this.invertPoint(toWorldMat, arr);\n    }\n\n    function fromWorld(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      return this.invertPoint(toWorldMat, arr);\n    }\n\n    function applyPoint(matrix, arr) {\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\n        }\n      }\n\n      return matrix.applyToPointArray(arr[0], arr[1], arr[2] || 0);\n    }\n\n    function invertPoint(matrix, arr) {\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\n        }\n      }\n\n      return matrix.inversePoint(arr);\n    }\n\n    function fromComp(arr) {\n      var toWorldMat = new Matrix();\n      toWorldMat.reset();\n\n      this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\n\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\n        }\n\n        return toWorldMat.inversePoint(arr);\n      }\n\n      return toWorldMat.inversePoint(arr);\n    }\n\n    function sampleImage() {\n      return [1, 1, 1, 1];\n    }\n\n    return function (elem) {\n      var transformInterface;\n\n      function _registerMaskInterface(maskManager) {\n        _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\n      }\n\n      function _registerEffectsInterface(effects) {\n        _thisLayerFunction.effect = effects;\n      }\n\n      function _thisLayerFunction(name) {\n        switch (name) {\n          case 'ADBE Root Vectors Group':\n          case 'Contents':\n          case 2:\n            return _thisLayerFunction.shapeInterface;\n\n          case 1:\n          case 6:\n          case 'Transform':\n          case 'transform':\n          case 'ADBE Transform Group':\n            return transformInterface;\n\n          case 4:\n          case 'ADBE Effect Parade':\n          case 'effects':\n          case 'Effects':\n            return _thisLayerFunction.effect;\n\n          case 'ADBE Text Properties':\n            return _thisLayerFunction.textInterface;\n\n          default:\n            return null;\n        }\n      }\n\n      _thisLayerFunction.getMatrix = getMatrix;\n      _thisLayerFunction.invertPoint = invertPoint;\n      _thisLayerFunction.applyPoint = applyPoint;\n      _thisLayerFunction.toWorld = toWorld;\n      _thisLayerFunction.toWorldVec = toWorldVec;\n      _thisLayerFunction.fromWorld = fromWorld;\n      _thisLayerFunction.fromWorldVec = fromWorldVec;\n      _thisLayerFunction.toComp = toWorld;\n      _thisLayerFunction.fromComp = fromComp;\n      _thisLayerFunction.sampleImage = sampleImage;\n      _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\n      _thisLayerFunction._elem = elem;\n      transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\n      var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\n      Object.defineProperties(_thisLayerFunction, {\n        hasParent: {\n          get: function get() {\n            return elem.hierarchy.length;\n          }\n        },\n        parent: {\n          get: function get() {\n            return elem.hierarchy[0].layerInterface;\n          }\n        },\n        rotation: getDescriptor(transformInterface, 'rotation'),\n        scale: getDescriptor(transformInterface, 'scale'),\n        position: getDescriptor(transformInterface, 'position'),\n        opacity: getDescriptor(transformInterface, 'opacity'),\n        anchorPoint: anchorPointDescriptor,\n        anchor_point: anchorPointDescriptor,\n        transform: {\n          get: function get() {\n            return transformInterface;\n          }\n        },\n        active: {\n          get: function get() {\n            return elem.isInRange;\n          }\n        }\n      });\n      _thisLayerFunction.startTime = elem.data.st;\n      _thisLayerFunction.index = elem.data.ind;\n      _thisLayerFunction.source = elem.data.refId;\n      _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\n      _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\n      _thisLayerFunction.inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n      _thisLayerFunction.outPoint = elem.data.op / elem.comp.globalData.frameRate;\n      _thisLayerFunction._name = elem.data.nm;\n      _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\n      _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\n      return _thisLayerFunction;\n    };\n  }();\n\n  var propertyGroupFactory = function () {\n    return function (interfaceFunction, parentPropertyGroup) {\n      return function (val) {\n        val = val === undefined ? 1 : val;\n\n        if (val <= 0) {\n          return interfaceFunction;\n        }\n\n        return parentPropertyGroup(val - 1);\n      };\n    };\n  }();\n\n  var PropertyInterface = function () {\n    return function (propertyName, propertyGroup) {\n      var interfaceFunction = {\n        _name: propertyName\n      };\n\n      function _propertyGroup(val) {\n        val = val === undefined ? 1 : val;\n\n        if (val <= 0) {\n          return interfaceFunction;\n        }\n\n        return propertyGroup(val - 1);\n      }\n\n      return _propertyGroup;\n    };\n  }();\n\n  var EffectsExpressionInterface = function () {\n    var ob = {\n      createEffectsInterface: createEffectsInterface\n    };\n\n    function createEffectsInterface(elem, propertyGroup) {\n      if (elem.effectsManager) {\n        var effectElements = [];\n        var effectsData = elem.data.ef;\n        var i;\n        var len = elem.effectsManager.effectElements.length;\n\n        for (i = 0; i < len; i += 1) {\n          effectElements.push(createGroupInterface(effectsData[i], elem.effectsManager.effectElements[i], propertyGroup, elem));\n        }\n\n        var effects = elem.data.ef || [];\n\n        var groupInterface = function groupInterface(name) {\n          i = 0;\n          len = effects.length;\n\n          while (i < len) {\n            if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n              return effectElements[i];\n            }\n\n            i += 1;\n          }\n\n          return null;\n        };\n\n        Object.defineProperty(groupInterface, 'numProperties', {\n          get: function get() {\n            return effects.length;\n          }\n        });\n        return groupInterface;\n      }\n\n      return null;\n    }\n\n    function createGroupInterface(data, elements, propertyGroup, elem) {\n      function groupInterface(name) {\n        var effects = data.ef;\n        var i = 0;\n        var len = effects.length;\n\n        while (i < len) {\n          if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n            if (effects[i].ty === 5) {\n              return effectElements[i];\n            }\n\n            return effectElements[i]();\n          }\n\n          i += 1;\n        }\n\n        throw new Error();\n      }\n\n      var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\n\n      var effectElements = [];\n      var i;\n      var len = data.ef.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (data.ef[i].ty === 5) {\n          effectElements.push(createGroupInterface(data.ef[i], elements.effectElements[i], elements.effectElements[i].propertyGroup, elem));\n        } else {\n          effectElements.push(createValueInterface(elements.effectElements[i], data.ef[i].ty, elem, _propertyGroup));\n        }\n      }\n\n      if (data.mn === 'ADBE Color Control') {\n        Object.defineProperty(groupInterface, 'color', {\n          get: function get() {\n            return effectElements[0]();\n          }\n        });\n      }\n\n      Object.defineProperties(groupInterface, {\n        numProperties: {\n          get: function get() {\n            return data.np;\n          }\n        },\n        _name: {\n          value: data.nm\n        },\n        propertyGroup: {\n          value: _propertyGroup\n        }\n      });\n      groupInterface.enabled = data.en !== 0;\n      groupInterface.active = groupInterface.enabled;\n      return groupInterface;\n    }\n\n    function createValueInterface(element, type, elem, propertyGroup) {\n      var expressionProperty = ExpressionPropertyInterface(element.p);\n\n      function interfaceFunction() {\n        if (type === 10) {\n          return elem.comp.compInterface(element.p.v);\n        }\n\n        return expressionProperty();\n      }\n\n      if (element.p.setGroupProperty) {\n        element.p.setGroupProperty(PropertyInterface('', propertyGroup));\n      }\n\n      return interfaceFunction;\n    }\n\n    return ob;\n  }();\n\n  var CompExpressionInterface = function () {\n    return function (comp) {\n      function _thisLayerFunction(name) {\n        var i = 0;\n        var len = comp.layers.length;\n\n        while (i < len) {\n          if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\n            return comp.elements[i].layerInterface;\n          }\n\n          i += 1;\n        }\n\n        return null; // return {active:false};\n      }\n\n      Object.defineProperty(_thisLayerFunction, '_name', {\n        value: comp.data.nm\n      });\n      _thisLayerFunction.layer = _thisLayerFunction;\n      _thisLayerFunction.pixelAspect = 1;\n      _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\n      _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\n      _thisLayerFunction.pixelAspect = 1;\n      _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\n      _thisLayerFunction.displayStartTime = 0;\n      _thisLayerFunction.numLayers = comp.layers.length;\n      return _thisLayerFunction;\n    };\n  }();\n\n  var ShapePathInterface = function () {\n    return function pathInterfaceFactory(shape, view, propertyGroup) {\n      var prop = view.sh;\n\n      function interfaceFunction(val) {\n        if (val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2) {\n          return interfaceFunction.path;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        path: {\n          get: function get() {\n            if (prop.k) {\n              prop.getValue();\n            }\n\n            return prop;\n          }\n        },\n        shape: {\n          get: function get() {\n            if (prop.k) {\n              prop.getValue();\n            }\n\n            return prop;\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        ix: {\n          value: shape.ix\n        },\n        propertyIndex: {\n          value: shape.ix\n        },\n        mn: {\n          value: shape.mn\n        },\n        propertyGroup: {\n          value: propertyGroup\n        }\n      });\n      return interfaceFunction;\n    };\n  }();\n\n  var ShapeExpressionInterface = function () {\n    function iterateElements(shapes, view, propertyGroup) {\n      var arr = [];\n      var i;\n      var len = shapes ? shapes.length : 0;\n\n      for (i = 0; i < len; i += 1) {\n        if (shapes[i].ty === 'gr') {\n          arr.push(groupInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'fl') {\n          arr.push(fillInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'st') {\n          arr.push(strokeInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'tm') {\n          arr.push(trimInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'tr') {// arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\n        } else if (shapes[i].ty === 'el') {\n          arr.push(ellipseInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'sr') {\n          arr.push(starInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'sh') {\n          arr.push(ShapePathInterface(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rc') {\n          arr.push(rectInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rd') {\n          arr.push(roundedInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rp') {\n          arr.push(repeaterInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'gf') {\n          arr.push(gradientFillInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else {\n          arr.push(defaultInterfaceFactory(shapes[i], view[i], propertyGroup));\n        }\n      }\n\n      return arr;\n    }\n\n    function contentsInterfaceFactory(shape, view, propertyGroup) {\n      var interfaces;\n\n      var interfaceFunction = function _interfaceFunction(value) {\n        var i = 0;\n        var len = interfaces.length;\n\n        while (i < len) {\n          if (interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value) {\n            return interfaces[i];\n          }\n\n          i += 1;\n        }\n\n        if (typeof value === 'number') {\n          return interfaces[value - 1];\n        }\n\n        return null;\n      };\n\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\n      interfaceFunction.numProperties = interfaces.length;\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n      interfaceFunction.transform = transformInterface;\n      interfaceFunction.propertyIndex = shape.cix;\n      interfaceFunction._name = shape.nm;\n      return interfaceFunction;\n    }\n\n    function groupInterfaceFactory(shape, view, propertyGroup) {\n      var interfaceFunction = function _interfaceFunction(value) {\n        switch (value) {\n          case 'ADBE Vectors Group':\n          case 'Contents':\n          case 2:\n            return interfaceFunction.content;\n          // Not necessary for now. Keeping them here in case a new case appears\n          // case 'ADBE Vector Transform Group':\n          // case 3:\n\n          default:\n            return interfaceFunction.transform;\n        }\n      };\n\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      var content = contentsInterfaceFactory(shape, view, interfaceFunction.propertyGroup);\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n      interfaceFunction.content = content;\n      interfaceFunction.transform = transformInterface;\n      Object.defineProperty(interfaceFunction, '_name', {\n        get: function get() {\n          return shape.nm;\n        }\n      }); // interfaceFunction.content = interfaceFunction;\n\n      interfaceFunction.numProperties = shape.np;\n      interfaceFunction.propertyIndex = shape.ix;\n      interfaceFunction.nm = shape.nm;\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function fillInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === 'Color' || val === 'color') {\n          return interfaceFunction.color;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        color: {\n          get: ExpressionPropertyInterface(view.c)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\n      return interfaceFunction;\n    }\n\n    function gradientFillInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === 'Start Point' || val === 'start point') {\n          return interfaceFunction.startPoint;\n        }\n\n        if (val === 'End Point' || val === 'end point') {\n          return interfaceFunction.endPoint;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        startPoint: {\n          get: ExpressionPropertyInterface(view.s)\n        },\n        endPoint: {\n          get: ExpressionPropertyInterface(view.e)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        type: {\n          get: function get() {\n            return 'a';\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.s.setGroupProperty(PropertyInterface('Start Point', propertyGroup));\n      view.e.setGroupProperty(PropertyInterface('End Point', propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\n      return interfaceFunction;\n    }\n\n    function defaultInterfaceFactory() {\n      function interfaceFunction() {\n        return null;\n      }\n\n      return interfaceFunction;\n    }\n\n    function strokeInterfaceFactory(shape, view, propertyGroup) {\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\n\n      function addPropertyToDashOb(i) {\n        Object.defineProperty(dashOb, shape.d[i].nm, {\n          get: ExpressionPropertyInterface(view.d.dataProps[i].p)\n        });\n      }\n\n      var i;\n      var len = shape.d ? shape.d.length : 0;\n      var dashOb = {};\n\n      for (i = 0; i < len; i += 1) {\n        addPropertyToDashOb(i);\n        view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\n      }\n\n      function interfaceFunction(val) {\n        if (val === 'Color' || val === 'color') {\n          return interfaceFunction.color;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        if (val === 'Stroke Width' || val === 'stroke width') {\n          return interfaceFunction.strokeWidth;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        color: {\n          get: ExpressionPropertyInterface(view.c)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        strokeWidth: {\n          get: ExpressionPropertyInterface(view.w)\n        },\n        dash: {\n          get: function get() {\n            return dashOb;\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\n      return interfaceFunction;\n    }\n\n    function trimInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === shape.e.ix || val === 'End' || val === 'end') {\n          return interfaceFunction.end;\n        }\n\n        if (val === shape.s.ix) {\n          return interfaceFunction.start;\n        }\n\n        if (val === shape.o.ix) {\n          return interfaceFunction.offset;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      interfaceFunction.propertyIndex = shape.ix;\n      view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\n      view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n      interfaceFunction.propertyIndex = shape.ix;\n      interfaceFunction.propertyGroup = propertyGroup;\n      Object.defineProperties(interfaceFunction, {\n        start: {\n          get: ExpressionPropertyInterface(view.s)\n        },\n        end: {\n          get: ExpressionPropertyInterface(view.e)\n        },\n        offset: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function transformInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.a.ix === value || value === 'Anchor Point') {\n          return interfaceFunction.anchorPoint;\n        }\n\n        if (shape.o.ix === value || value === 'Opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        if (shape.p.ix === value || value === 'Position') {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation') {\n          return interfaceFunction.rotation;\n        }\n\n        if (shape.s.ix === value || value === 'Scale') {\n          return interfaceFunction.scale;\n        }\n\n        if (shape.sk && shape.sk.ix === value || value === 'Skew') {\n          return interfaceFunction.skew;\n        }\n\n        if (shape.sa && shape.sa.ix === value || value === 'Skew Axis') {\n          return interfaceFunction.skewAxis;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\n      view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\n      view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n\n      if (view.transform.mProps.sk) {\n        view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\n        view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\n      }\n\n      view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        opacity: {\n          get: ExpressionPropertyInterface(view.transform.mProps.o)\n        },\n        position: {\n          get: ExpressionPropertyInterface(view.transform.mProps.p)\n        },\n        anchorPoint: {\n          get: ExpressionPropertyInterface(view.transform.mProps.a)\n        },\n        scale: {\n          get: ExpressionPropertyInterface(view.transform.mProps.s)\n        },\n        rotation: {\n          get: ExpressionPropertyInterface(view.transform.mProps.r)\n        },\n        skew: {\n          get: ExpressionPropertyInterface(view.transform.mProps.sk)\n        },\n        skewAxis: {\n          get: ExpressionPropertyInterface(view.transform.mProps.sa)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.ty = 'tr';\n      interfaceFunction.mn = shape.mn;\n      interfaceFunction.propertyGroup = propertyGroup;\n      return interfaceFunction;\n    }\n\n    function ellipseInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.s.ix === value) {\n          return interfaceFunction.size;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      interfaceFunction.propertyIndex = shape.ix;\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        size: {\n          get: ExpressionPropertyInterface(prop.s)\n        },\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function starInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value) {\n          return interfaceFunction.rotation;\n        }\n\n        if (shape.pt.ix === value) {\n          return interfaceFunction.points;\n        }\n\n        if (shape.or.ix === value || value === 'ADBE Vector Star Outer Radius') {\n          return interfaceFunction.outerRadius;\n        }\n\n        if (shape.os.ix === value) {\n          return interfaceFunction.outerRoundness;\n        }\n\n        if (shape.ir && (shape.ir.ix === value || value === 'ADBE Vector Star Inner Radius')) {\n          return interfaceFunction.innerRadius;\n        }\n\n        if (shape.is && shape.is.ix === value) {\n          return interfaceFunction.innerRoundness;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\n      prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\n      prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n\n      if (shape.ir) {\n        prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\n        prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        rotation: {\n          get: ExpressionPropertyInterface(prop.r)\n        },\n        points: {\n          get: ExpressionPropertyInterface(prop.pt)\n        },\n        outerRadius: {\n          get: ExpressionPropertyInterface(prop.or)\n        },\n        outerRoundness: {\n          get: ExpressionPropertyInterface(prop.os)\n        },\n        innerRadius: {\n          get: ExpressionPropertyInterface(prop.ir)\n        },\n        innerRoundness: {\n          get: ExpressionPropertyInterface(prop.is)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function rectInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value) {\n          return interfaceFunction.roundness;\n        }\n\n        if (shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size') {\n          return interfaceFunction.size;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        roundness: {\n          get: ExpressionPropertyInterface(prop.r)\n        },\n        size: {\n          get: ExpressionPropertyInterface(prop.s)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function roundedInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.r.ix === value || value === 'Round Corners 1') {\n          return interfaceFunction.radius;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        radius: {\n          get: ExpressionPropertyInterface(prop.rd)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function repeaterInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.c.ix === value || value === 'Copies') {\n          return interfaceFunction.copies;\n        }\n\n        if (shape.o.ix === value || value === 'Offset') {\n          return interfaceFunction.offset;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\n      prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        copies: {\n          get: ExpressionPropertyInterface(prop.c)\n        },\n        offset: {\n          get: ExpressionPropertyInterface(prop.o)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    return function (shapes, view, propertyGroup) {\n      var interfaces;\n\n      function _interfaceFunction(value) {\n        if (typeof value === 'number') {\n          value = value === undefined ? 1 : value;\n\n          if (value === 0) {\n            return propertyGroup;\n          }\n\n          return interfaces[value - 1];\n        }\n\n        var i = 0;\n        var len = interfaces.length;\n\n        while (i < len) {\n          if (interfaces[i]._name === value) {\n            return interfaces[i];\n          }\n\n          i += 1;\n        }\n\n        return null;\n      }\n\n      function parentGroupWrapper() {\n        return propertyGroup;\n      }\n\n      _interfaceFunction.propertyGroup = propertyGroupFactory(_interfaceFunction, parentGroupWrapper);\n      interfaces = iterateElements(shapes, view, _interfaceFunction.propertyGroup);\n      _interfaceFunction.numProperties = interfaces.length;\n      _interfaceFunction._name = 'Contents';\n      return _interfaceFunction;\n    };\n  }();\n\n  var TextExpressionInterface = function () {\n    return function (elem) {\n      var _prevValue;\n\n      var _sourceText;\n\n      function _thisLayerFunction(name) {\n        switch (name) {\n          case 'ADBE Text Document':\n            return _thisLayerFunction.sourceText;\n\n          default:\n            return null;\n        }\n      }\n\n      Object.defineProperty(_thisLayerFunction, 'sourceText', {\n        get: function get() {\n          elem.textProperty.getValue();\n          var stringValue = elem.textProperty.currentData.t;\n\n          if (stringValue !== _prevValue) {\n            elem.textProperty.currentData.t = _prevValue;\n            _sourceText = new String(stringValue); // eslint-disable-line no-new-wrappers\n            // If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\n\n            _sourceText.value = stringValue || new String(stringValue); // eslint-disable-line no-new-wrappers\n          }\n\n          return _sourceText;\n        }\n      });\n      return _thisLayerFunction;\n    };\n  }();\n\n  var getBlendMode = function () {\n    var blendModeEnums = {\n      0: 'source-over',\n      1: 'multiply',\n      2: 'screen',\n      3: 'overlay',\n      4: 'darken',\n      5: 'lighten',\n      6: 'color-dodge',\n      7: 'color-burn',\n      8: 'hard-light',\n      9: 'soft-light',\n      10: 'difference',\n      11: 'exclusion',\n      12: 'hue',\n      13: 'saturation',\n      14: 'color',\n      15: 'luminosity'\n    };\n    return function (mode) {\n      return blendModeEnums[mode] || '';\n    };\n  }();\n\n  function SliderEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function AngleEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function ColorEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n  }\n\n  function PointEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n  }\n\n  function LayerIndexEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function MaskIndexEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function CheckboxEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function NoValueEffect() {\n    this.p = {};\n  }\n\n  function EffectsManager(data, element) {\n    var effects = data.ef || [];\n    this.effectElements = [];\n    var i;\n    var len = effects.length;\n    var effectItem;\n\n    for (i = 0; i < len; i += 1) {\n      effectItem = new GroupEffect(effects[i], element);\n      this.effectElements.push(effectItem);\n    }\n  }\n\n  function GroupEffect(data, element) {\n    this.init(data, element);\n  }\n\n  extendPrototype([DynamicPropertyContainer], GroupEffect);\n  GroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\n\n  GroupEffect.prototype.init = function (data, element) {\n    this.data = data;\n    this.effectElements = [];\n    this.initDynamicPropertyContainer(element);\n    var i;\n    var len = this.data.ef.length;\n    var eff;\n    var effects = this.data.ef;\n\n    for (i = 0; i < len; i += 1) {\n      eff = null;\n\n      switch (effects[i].ty) {\n        case 0:\n          eff = new SliderEffect(effects[i], element, this);\n          break;\n\n        case 1:\n          eff = new AngleEffect(effects[i], element, this);\n          break;\n\n        case 2:\n          eff = new ColorEffect(effects[i], element, this);\n          break;\n\n        case 3:\n          eff = new PointEffect(effects[i], element, this);\n          break;\n\n        case 4:\n        case 7:\n          eff = new CheckboxEffect(effects[i], element, this);\n          break;\n\n        case 10:\n          eff = new LayerIndexEffect(effects[i], element, this);\n          break;\n\n        case 11:\n          eff = new MaskIndexEffect(effects[i], element, this);\n          break;\n\n        case 5:\n          eff = new EffectsManager(effects[i], element, this);\n          break;\n        // case 6:\n\n        default:\n          eff = new NoValueEffect(effects[i], element, this);\n          break;\n      }\n\n      if (eff) {\n        this.effectElements.push(eff);\n      }\n    }\n  };\n\n  function BaseElement() {}\n\n  BaseElement.prototype = {\n    checkMasks: function checkMasks() {\n      if (!this.data.hasMask) {\n        return false;\n      }\n\n      var i = 0;\n      var len = this.data.masksProperties.length;\n\n      while (i < len) {\n        if (this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false) {\n          return true;\n        }\n\n        i += 1;\n      }\n\n      return false;\n    },\n    initExpressions: function initExpressions() {\n      this.layerInterface = LayerExpressionInterface(this);\n\n      if (this.data.hasMask && this.maskManager) {\n        this.layerInterface.registerMaskInterface(this.maskManager);\n      }\n\n      var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);\n      this.layerInterface.registerEffectsInterface(effectsInterface);\n\n      if (this.data.ty === 0 || this.data.xt) {\n        this.compInterface = CompExpressionInterface(this);\n      } else if (this.data.ty === 4) {\n        this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface);\n        this.layerInterface.content = this.layerInterface.shapeInterface;\n      } else if (this.data.ty === 5) {\n        this.layerInterface.textInterface = TextExpressionInterface(this);\n        this.layerInterface.text = this.layerInterface.textInterface;\n      }\n    },\n    setBlendMode: function setBlendMode() {\n      var blendModeValue = getBlendMode(this.data.bm);\n      var elem = this.baseElement || this.layerElement;\n      elem.style['mix-blend-mode'] = blendModeValue;\n    },\n    initBaseData: function initBaseData(data, globalData, comp) {\n      this.globalData = globalData;\n      this.comp = comp;\n      this.data = data;\n      this.layerId = createElementID(); // Stretch factor for old animations missing this property.\n\n      if (!this.data.sr) {\n        this.data.sr = 1;\n      } // effects manager\n\n\n      this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties);\n    },\n    getType: function getType() {\n      return this.type;\n    },\n    sourceRectAtTime: function sourceRectAtTime() {}\n  };\n\n  /**\r\n   * @file\r\n   * Handles element's layer frame update.\r\n   * Checks layer in point and out point\r\n   *\r\n   */\n  function FrameElement() {}\n\n  FrameElement.prototype = {\n    /**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       */\n    initFrame: function initFrame() {\n      // set to true when inpoint is rendered\n      this._isFirstFrame = false; // list of animated properties\n\n      this.dynamicProperties = []; // If layer has been modified in current tick this will be true\n\n      this._mdf = false;\n    },\n\n    /**\r\n       * @function\r\n       * Calculates all dynamic values\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       * @param {boolean} isVisible\r\n       * if layers is currently in range\r\n       *\r\n       */\n    prepareProperties: function prepareProperties(num, isVisible) {\n      var i;\n      var len = this.dynamicProperties.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (isVisible || this._isParent && this.dynamicProperties[i].propType === 'transform') {\n          this.dynamicProperties[i].getValue();\n\n          if (this.dynamicProperties[i]._mdf) {\n            this.globalData._mdf = true;\n            this._mdf = true;\n          }\n        }\n      }\n    },\n    addDynamicProperty: function addDynamicProperty(prop) {\n      if (this.dynamicProperties.indexOf(prop) === -1) {\n        this.dynamicProperties.push(prop);\n      }\n    }\n  };\n\n  function _typeof$2(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$2 = function _typeof(obj) { return typeof obj; }; } else { _typeof$2 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$2(obj); }\n\n  var FootageInterface = function () {\n    var outlineInterfaceFactory = function outlineInterfaceFactory(elem) {\n      var currentPropertyName = '';\n      var currentProperty = elem.getFootageData();\n\n      function init() {\n        currentPropertyName = '';\n        currentProperty = elem.getFootageData();\n        return searchProperty;\n      }\n\n      function searchProperty(value) {\n        if (currentProperty[value]) {\n          currentPropertyName = value;\n          currentProperty = currentProperty[value];\n\n          if (_typeof$2(currentProperty) === 'object') {\n            return searchProperty;\n          }\n\n          return currentProperty;\n        }\n\n        var propertyNameIndex = value.indexOf(currentPropertyName);\n\n        if (propertyNameIndex !== -1) {\n          var index = parseInt(value.substr(propertyNameIndex + currentPropertyName.length), 10);\n          currentProperty = currentProperty[index];\n\n          if (_typeof$2(currentProperty) === 'object') {\n            return searchProperty;\n          }\n\n          return currentProperty;\n        }\n\n        return '';\n      }\n\n      return init;\n    };\n\n    var dataInterfaceFactory = function dataInterfaceFactory(elem) {\n      function interfaceFunction(value) {\n        if (value === 'Outline') {\n          return interfaceFunction.outlineInterface();\n        }\n\n        return null;\n      }\n\n      interfaceFunction._name = 'Outline';\n      interfaceFunction.outlineInterface = outlineInterfaceFactory(elem);\n      return interfaceFunction;\n    };\n\n    return function (elem) {\n      function _interfaceFunction(value) {\n        if (value === 'Data') {\n          return _interfaceFunction.dataInterface;\n        }\n\n        return null;\n      }\n\n      _interfaceFunction._name = 'Data';\n      _interfaceFunction.dataInterface = dataInterfaceFactory(elem);\n      return _interfaceFunction;\n    };\n  }();\n\n  function FootageElement(data, globalData, comp) {\n    this.initFrame();\n    this.initRenderable();\n    this.assetData = globalData.getAssetData(data.refId);\n    this.footageData = globalData.imageLoader.getAsset(this.assetData);\n    this.initBaseData(data, globalData, comp);\n  }\n\n  FootageElement.prototype.prepareFrame = function () {};\n\n  extendPrototype([RenderableElement, BaseElement, FrameElement], FootageElement);\n\n  FootageElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  FootageElement.prototype.renderFrame = function () {};\n\n  FootageElement.prototype.destroy = function () {};\n\n  FootageElement.prototype.initExpressions = function () {\n    this.layerInterface = FootageInterface(this);\n  };\n\n  FootageElement.prototype.getFootageData = function () {\n    return this.footageData;\n  };\n\n  function AudioElement(data, globalData, comp) {\n    this.initFrame();\n    this.initRenderable();\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initBaseData(data, globalData, comp);\n    this._isPlaying = false;\n    this._canPlay = false;\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    this.audio = this.globalData.audioController.createAudio(assetPath);\n    this._currentTime = 0;\n    this.globalData.audioController.addAudio(this);\n    this._volumeMultiplier = 1;\n    this._volume = 1;\n    this._previousVolume = null;\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n    this.lv = PropertyFactory.getProp(this, data.au && data.au.lv ? data.au.lv : {\n      k: [100]\n    }, 1, 0.01, this);\n  }\n\n  AudioElement.prototype.prepareFrame = function (num) {\n    this.prepareRenderableFrame(num, true);\n    this.prepareProperties(num, true);\n\n    if (!this.tm._placeholder) {\n      var timeRemapped = this.tm.v;\n      this._currentTime = timeRemapped;\n    } else {\n      this._currentTime = num / this.data.sr;\n    }\n\n    this._volume = this.lv.v[0];\n    var totalVolume = this._volume * this._volumeMultiplier;\n\n    if (this._previousVolume !== totalVolume) {\n      this._previousVolume = totalVolume;\n      this.audio.volume(totalVolume);\n    }\n  };\n\n  extendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement);\n\n  AudioElement.prototype.renderFrame = function () {\n    if (this.isInRange && this._canPlay) {\n      if (!this._isPlaying) {\n        this.audio.play();\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\n        this._isPlaying = true;\n      } else if (!this.audio.playing() || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1) {\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\n      }\n    }\n  };\n\n  AudioElement.prototype.show = function () {// this.audio.play()\n  };\n\n  AudioElement.prototype.hide = function () {\n    this.audio.pause();\n    this._isPlaying = false;\n  };\n\n  AudioElement.prototype.pause = function () {\n    this.audio.pause();\n    this._isPlaying = false;\n    this._canPlay = false;\n  };\n\n  AudioElement.prototype.resume = function () {\n    this._canPlay = true;\n  };\n\n  AudioElement.prototype.setRate = function (rateValue) {\n    this.audio.rate(rateValue);\n  };\n\n  AudioElement.prototype.volume = function (volumeValue) {\n    this._volumeMultiplier = volumeValue;\n    this._previousVolume = volumeValue * this._volume;\n    this.audio.volume(this._previousVolume);\n  };\n\n  AudioElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  AudioElement.prototype.destroy = function () {};\n\n  AudioElement.prototype.sourceRectAtTime = function () {};\n\n  AudioElement.prototype.initExpressions = function () {};\n\n  function BaseRenderer() {}\n\n  BaseRenderer.prototype.checkLayers = function (num) {\n    var i;\n    var len = this.layers.length;\n    var data;\n    this.completeLayers = true;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (!this.elements[i]) {\n        data = this.layers[i];\n\n        if (data.ip - data.st <= num - this.layers[i].st && data.op - data.st > num - this.layers[i].st) {\n          this.buildItem(i);\n        }\n      }\n\n      this.completeLayers = this.elements[i] ? this.completeLayers : false;\n    }\n\n    this.checkPendingElements();\n  };\n\n  BaseRenderer.prototype.createItem = function (layer) {\n    switch (layer.ty) {\n      case 2:\n        return this.createImage(layer);\n\n      case 0:\n        return this.createComp(layer);\n\n      case 1:\n        return this.createSolid(layer);\n\n      case 3:\n        return this.createNull(layer);\n\n      case 4:\n        return this.createShape(layer);\n\n      case 5:\n        return this.createText(layer);\n\n      case 6:\n        return this.createAudio(layer);\n\n      case 13:\n        return this.createCamera(layer);\n\n      case 15:\n        return this.createFootage(layer);\n\n      default:\n        return this.createNull(layer);\n    }\n  };\n\n  BaseRenderer.prototype.createCamera = function () {\n    throw new Error('You\\'re using a 3d camera. Try the html renderer.');\n  };\n\n  BaseRenderer.prototype.createAudio = function (data) {\n    return new AudioElement(data, this.globalData, this);\n  };\n\n  BaseRenderer.prototype.createFootage = function (data) {\n    return new FootageElement(data, this.globalData, this);\n  };\n\n  BaseRenderer.prototype.buildAllItems = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.buildItem(i);\n    }\n\n    this.checkPendingElements();\n  };\n\n  BaseRenderer.prototype.includeLayers = function (newLayers) {\n    this.completeLayers = false;\n    var i;\n    var len = newLayers.length;\n    var j;\n    var jLen = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      j = 0;\n\n      while (j < jLen) {\n        if (this.layers[j].id === newLayers[i].id) {\n          this.layers[j] = newLayers[i];\n          break;\n        }\n\n        j += 1;\n      }\n    }\n  };\n\n  BaseRenderer.prototype.setProjectInterface = function (pInterface) {\n    this.globalData.projectInterface = pInterface;\n  };\n\n  BaseRenderer.prototype.initItems = function () {\n    if (!this.globalData.progressiveLoad) {\n      this.buildAllItems();\n    }\n  };\n\n  BaseRenderer.prototype.buildElementParenting = function (element, parentName, hierarchy) {\n    var elements = this.elements;\n    var layers = this.layers;\n    var i = 0;\n    var len = layers.length;\n\n    while (i < len) {\n      if (layers[i].ind == parentName) {\n        // eslint-disable-line eqeqeq\n        if (!elements[i] || elements[i] === true) {\n          this.buildItem(i);\n          this.addPendingElement(element);\n        } else {\n          hierarchy.push(elements[i]);\n          elements[i].setAsParent();\n\n          if (layers[i].parent !== undefined) {\n            this.buildElementParenting(element, layers[i].parent, hierarchy);\n          } else {\n            element.setHierarchy(hierarchy);\n          }\n        }\n      }\n\n      i += 1;\n    }\n  };\n\n  BaseRenderer.prototype.addPendingElement = function (element) {\n    this.pendingElements.push(element);\n  };\n\n  BaseRenderer.prototype.searchExtraCompositions = function (assets) {\n    var i;\n    var len = assets.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (assets[i].xt) {\n        var comp = this.createComp(assets[i]);\n        comp.initExpressions();\n        this.globalData.projectInterface.registerComposition(comp);\n      }\n    }\n  };\n\n  BaseRenderer.prototype.getElementByPath = function (path) {\n    var pathValue = path.shift();\n    var element;\n\n    if (typeof pathValue === 'number') {\n      element = this.elements[pathValue];\n    } else {\n      var i;\n      var len = this.elements.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (this.elements[i].data.nm === pathValue) {\n          element = this.elements[i];\n          break;\n        }\n      }\n    }\n\n    if (path.length === 0) {\n      return element;\n    }\n\n    return element.getElementByPath(path);\n  };\n\n  BaseRenderer.prototype.setupGlobalData = function (animData, fontsContainer) {\n    this.globalData.fontManager = new FontManager();\n    this.globalData.fontManager.addChars(animData.chars);\n    this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\n    this.globalData.imageLoader = this.animationItem.imagePreloader;\n    this.globalData.audioController = this.animationItem.audioController;\n    this.globalData.frameId = 0;\n    this.globalData.frameRate = animData.fr;\n    this.globalData.nm = animData.nm;\n    this.globalData.compSize = {\n      w: animData.w,\n      h: animData.h\n    };\n  };\n\n  function TransformElement() {}\n\n  TransformElement.prototype = {\n    initTransform: function initTransform() {\n      this.finalTransform = {\n        mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : {\n          o: 0\n        },\n        _matMdf: false,\n        _opMdf: false,\n        mat: new Matrix()\n      };\n\n      if (this.data.ao) {\n        this.finalTransform.mProp.autoOriented = true;\n      } // TODO: check TYPE 11: Guided elements\n\n\n      if (this.data.ty !== 11) {// this.createElements();\n      }\n    },\n    renderTransform: function renderTransform() {\n      this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\n      this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\n\n      if (this.hierarchy) {\n        var mat;\n        var finalMat = this.finalTransform.mat;\n        var i = 0;\n        var len = this.hierarchy.length; // Checking if any of the transformation matrices in the hierarchy chain has changed.\n\n        if (!this.finalTransform._matMdf) {\n          while (i < len) {\n            if (this.hierarchy[i].finalTransform.mProp._mdf) {\n              this.finalTransform._matMdf = true;\n              break;\n            }\n\n            i += 1;\n          }\n        }\n\n        if (this.finalTransform._matMdf) {\n          mat = this.finalTransform.mProp.v.props;\n          finalMat.cloneFromProps(mat);\n\n          for (i = 0; i < len; i += 1) {\n            mat = this.hierarchy[i].finalTransform.mProp.v.props;\n            finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\n          }\n        }\n      }\n    },\n    globalToLocal: function globalToLocal(pt) {\n      var transforms = [];\n      transforms.push(this.finalTransform);\n      var flag = true;\n      var comp = this.comp;\n\n      while (flag) {\n        if (comp.finalTransform) {\n          if (comp.data.hasMask) {\n            transforms.splice(0, 0, comp.finalTransform);\n          }\n\n          comp = comp.comp;\n        } else {\n          flag = false;\n        }\n      }\n\n      var i;\n      var len = transforms.length;\n      var ptNew;\n\n      for (i = 0; i < len; i += 1) {\n        ptNew = transforms[i].mat.applyToPointArray(0, 0, 0); // ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\n\n        pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\n      }\n\n      return pt;\n    },\n    mHelper: new Matrix()\n  };\n\n  function MaskElement(data, element, globalData) {\n    this.data = data;\n    this.element = element;\n    this.globalData = globalData;\n    this.storedData = [];\n    this.masksProperties = this.data.masksProperties || [];\n    this.maskElement = null;\n    var defs = this.globalData.defs;\n    var i;\n    var len = this.masksProperties ? this.masksProperties.length : 0;\n    this.viewData = createSizedArray(len);\n    this.solidPath = '';\n    var path;\n    var properties = this.masksProperties;\n    var count = 0;\n    var currentMasks = [];\n    var j;\n    var jLen;\n    var layerId = createElementID();\n    var rect;\n    var expansor;\n    var feMorph;\n    var x;\n    var maskType = 'clipPath';\n    var maskRef = 'clip-path';\n\n    for (i = 0; i < len; i += 1) {\n      if (properties[i].mode !== 'a' && properties[i].mode !== 'n' || properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x) {\n        maskType = 'mask';\n        maskRef = 'mask';\n      }\n\n      if ((properties[i].mode === 's' || properties[i].mode === 'i') && count === 0) {\n        rect = createNS('rect');\n        rect.setAttribute('fill', '#ffffff');\n        rect.setAttribute('width', this.element.comp.data.w || 0);\n        rect.setAttribute('height', this.element.comp.data.h || 0);\n        currentMasks.push(rect);\n      } else {\n        rect = null;\n      }\n\n      path = createNS('path');\n\n      if (properties[i].mode === 'n') {\n        // TODO move this to a factory or to a constructor\n        this.viewData[i] = {\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n          elem: path,\n          lastPath: ''\n        };\n        defs.appendChild(path);\n      } else {\n        count += 1;\n        path.setAttribute('fill', properties[i].mode === 's' ? '#000000' : '#ffffff');\n        path.setAttribute('clip-rule', 'nonzero');\n        var filterID;\n\n        if (properties[i].x.k !== 0) {\n          maskType = 'mask';\n          maskRef = 'mask';\n          x = PropertyFactory.getProp(this.element, properties[i].x, 0, null, this.element);\n          filterID = createElementID();\n          expansor = createNS('filter');\n          expansor.setAttribute('id', filterID);\n          feMorph = createNS('feMorphology');\n          feMorph.setAttribute('operator', 'erode');\n          feMorph.setAttribute('in', 'SourceGraphic');\n          feMorph.setAttribute('radius', '0');\n          expansor.appendChild(feMorph);\n          defs.appendChild(expansor);\n          path.setAttribute('stroke', properties[i].mode === 's' ? '#000000' : '#ffffff');\n        } else {\n          feMorph = null;\n          x = null;\n        } // TODO move this to a factory or to a constructor\n\n\n        this.storedData[i] = {\n          elem: path,\n          x: x,\n          expan: feMorph,\n          lastPath: '',\n          lastOperator: '',\n          filterId: filterID,\n          lastRadius: 0\n        };\n\n        if (properties[i].mode === 'i') {\n          jLen = currentMasks.length;\n          var g = createNS('g');\n\n          for (j = 0; j < jLen; j += 1) {\n            g.appendChild(currentMasks[j]);\n          }\n\n          var mask = createNS('mask');\n          mask.setAttribute('mask-type', 'alpha');\n          mask.setAttribute('id', layerId + '_' + count);\n          mask.appendChild(path);\n          defs.appendChild(mask);\n          g.setAttribute('mask', 'url(' + getLocationHref() + '#' + layerId + '_' + count + ')');\n          currentMasks.length = 0;\n          currentMasks.push(g);\n        } else {\n          currentMasks.push(path);\n        }\n\n        if (properties[i].inv && !this.solidPath) {\n          this.solidPath = this.createLayerSolidPath();\n        } // TODO move this to a factory or to a constructor\n\n\n        this.viewData[i] = {\n          elem: path,\n          lastPath: '',\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n          invRect: rect\n        };\n\n        if (!this.viewData[i].prop.k) {\n          this.drawPath(properties[i], this.viewData[i].prop.v, this.viewData[i]);\n        }\n      }\n    }\n\n    this.maskElement = createNS(maskType);\n    len = currentMasks.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.maskElement.appendChild(currentMasks[i]);\n    }\n\n    if (count > 0) {\n      this.maskElement.setAttribute('id', layerId);\n      this.element.maskedElement.setAttribute(maskRef, 'url(' + getLocationHref() + '#' + layerId + ')');\n      defs.appendChild(this.maskElement);\n    }\n\n    if (this.viewData.length) {\n      this.element.addRenderableComponent(this);\n    }\n  }\n\n  MaskElement.prototype.getMaskProperty = function (pos) {\n    return this.viewData[pos].prop;\n  };\n\n  MaskElement.prototype.renderFrame = function (isFirstFrame) {\n    var finalMat = this.element.finalTransform.mat;\n    var i;\n    var len = this.masksProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.viewData[i].prop._mdf || isFirstFrame) {\n        this.drawPath(this.masksProperties[i], this.viewData[i].prop.v, this.viewData[i]);\n      }\n\n      if (this.viewData[i].op._mdf || isFirstFrame) {\n        this.viewData[i].elem.setAttribute('fill-opacity', this.viewData[i].op.v);\n      }\n\n      if (this.masksProperties[i].mode !== 'n') {\n        if (this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {\n          this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS());\n        }\n\n        if (this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)) {\n          var feMorph = this.storedData[i].expan;\n\n          if (this.storedData[i].x.v < 0) {\n            if (this.storedData[i].lastOperator !== 'erode') {\n              this.storedData[i].lastOperator = 'erode';\n              this.storedData[i].elem.setAttribute('filter', 'url(' + getLocationHref() + '#' + this.storedData[i].filterId + ')');\n            }\n\n            feMorph.setAttribute('radius', -this.storedData[i].x.v);\n          } else {\n            if (this.storedData[i].lastOperator !== 'dilate') {\n              this.storedData[i].lastOperator = 'dilate';\n              this.storedData[i].elem.setAttribute('filter', null);\n            }\n\n            this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v * 2);\n          }\n        }\n      }\n    }\n  };\n\n  MaskElement.prototype.getMaskelement = function () {\n    return this.maskElement;\n  };\n\n  MaskElement.prototype.createLayerSolidPath = function () {\n    var path = 'M0,0 ';\n    path += ' h' + this.globalData.compSize.w;\n    path += ' v' + this.globalData.compSize.h;\n    path += ' h-' + this.globalData.compSize.w;\n    path += ' v-' + this.globalData.compSize.h + ' ';\n    return path;\n  };\n\n  MaskElement.prototype.drawPath = function (pathData, pathNodes, viewData) {\n    var pathString = ' M' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n    var i;\n    var len;\n    len = pathNodes._length;\n\n    for (i = 1; i < len; i += 1) {\n      // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[i][0] + ',' + pathNodes.i[i][1] + ' ' + pathNodes.v[i][0] + ',' + pathNodes.v[i][1];\n    } // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\n\n\n    if (pathNodes.c && len > 1) {\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[0][0] + ',' + pathNodes.i[0][1] + ' ' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n    } // pathNodes.__renderedString = pathString;\n\n\n    if (viewData.lastPath !== pathString) {\n      var pathShapeValue = '';\n\n      if (viewData.elem) {\n        if (pathNodes.c) {\n          pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\n        }\n\n        viewData.elem.setAttribute('d', pathShapeValue);\n      }\n\n      viewData.lastPath = pathString;\n    }\n  };\n\n  MaskElement.prototype.destroy = function () {\n    this.element = null;\n    this.globalData = null;\n    this.maskElement = null;\n    this.data = null;\n    this.masksProperties = null;\n  };\n\n  var filtersFactory = function () {\n    var ob = {};\n    ob.createFilter = createFilter;\n    ob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\n\n    function createFilter(filId, skipCoordinates) {\n      var fil = createNS('filter');\n      fil.setAttribute('id', filId);\n\n      if (skipCoordinates !== true) {\n        fil.setAttribute('filterUnits', 'objectBoundingBox');\n        fil.setAttribute('x', '0%');\n        fil.setAttribute('y', '0%');\n        fil.setAttribute('width', '100%');\n        fil.setAttribute('height', '100%');\n      }\n\n      return fil;\n    }\n\n    function createAlphaToLuminanceFilter() {\n      var feColorMatrix = createNS('feColorMatrix');\n      feColorMatrix.setAttribute('type', 'matrix');\n      feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n      feColorMatrix.setAttribute('values', '0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\n      return feColorMatrix;\n    }\n\n    return ob;\n  }();\n\n  var featureSupport = function () {\n    var ob = {\n      maskType: true\n    };\n\n    if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\n      ob.maskType = false;\n    }\n\n    return ob;\n  }();\n\n  var registeredEffects = {};\n  var idPrefix = 'filter_result_';\n\n  function SVGEffects(elem) {\n    var i;\n    var source = 'SourceGraphic';\n    var len = elem.data.ef ? elem.data.ef.length : 0;\n    var filId = createElementID();\n    var fil = filtersFactory.createFilter(filId, true);\n    var count = 0;\n    this.filters = [];\n    var filterManager;\n\n    for (i = 0; i < len; i += 1) {\n      filterManager = null;\n      var type = elem.data.ef[i].ty;\n\n      if (registeredEffects[type]) {\n        var Effect = registeredEffects[type].effect;\n        filterManager = new Effect(fil, elem.effectsManager.effectElements[i], elem, idPrefix + count, source);\n        source = idPrefix + count;\n\n        if (registeredEffects[type].countsAsEffect) {\n          count += 1;\n        }\n      }\n\n      if (filterManager) {\n        this.filters.push(filterManager);\n      }\n    }\n\n    if (count) {\n      elem.globalData.defs.appendChild(fil);\n      elem.layerElement.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n    }\n\n    if (this.filters.length) {\n      elem.addRenderableComponent(this);\n    }\n  }\n\n  SVGEffects.prototype.renderFrame = function (_isFirstFrame) {\n    var i;\n    var len = this.filters.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.filters[i].renderFrame(_isFirstFrame);\n    }\n  };\n\n  function registerEffect(id, effect, countsAsEffect) {\n    registeredEffects[id] = {\n      effect: effect,\n      countsAsEffect: countsAsEffect\n    };\n  }\n\n  function SVGBaseElement() {}\n\n  SVGBaseElement.prototype = {\n    initRendererElement: function initRendererElement() {\n      this.layerElement = createNS('g');\n    },\n    createContainerElements: function createContainerElements() {\n      this.matteElement = createNS('g');\n      this.transformedElement = this.layerElement;\n      this.maskedElement = this.layerElement;\n      this._sizeChanged = false;\n      var layerElementParent = null; // If this layer acts as a mask for the following layer\n\n      var filId;\n      var fil;\n      var gg;\n\n      if (this.data.td) {\n        if (this.data.td == 3 || this.data.td == 1) {\n          // eslint-disable-line eqeqeq\n          var masker = createNS('mask');\n          masker.setAttribute('id', this.layerId);\n          masker.setAttribute('mask-type', this.data.td == 3 ? 'luminance' : 'alpha'); // eslint-disable-line eqeqeq\n\n          masker.appendChild(this.layerElement);\n          layerElementParent = masker;\n          this.globalData.defs.appendChild(masker); // This is only for IE and Edge when mask if of type alpha\n\n          if (!featureSupport.maskType && this.data.td == 1) {\n            // eslint-disable-line eqeqeq\n            masker.setAttribute('mask-type', 'luminance');\n            filId = createElementID();\n            fil = filtersFactory.createFilter(filId);\n            this.globalData.defs.appendChild(fil);\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n            gg = createNS('g');\n            gg.appendChild(this.layerElement);\n            layerElementParent = gg;\n            masker.appendChild(gg);\n            gg.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n          }\n        } else if (this.data.td == 2) {\n          // eslint-disable-line eqeqeq\n          var maskGroup = createNS('mask');\n          maskGroup.setAttribute('id', this.layerId);\n          maskGroup.setAttribute('mask-type', 'alpha');\n          var maskGrouper = createNS('g');\n          maskGroup.appendChild(maskGrouper);\n          filId = createElementID();\n          fil = filtersFactory.createFilter(filId); /// /\n          // This solution doesn't work on Android when meta tag with viewport attribute is set\n\n          /* var feColorMatrix = createNS('feColorMatrix');\r\n                  feColorMatrix.setAttribute('type', 'matrix');\r\n                  feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n                  feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\r\n                  fil.appendChild(feColorMatrix); */\n          /// /\n\n          var feCTr = createNS('feComponentTransfer');\n          feCTr.setAttribute('in', 'SourceGraphic');\n          fil.appendChild(feCTr);\n          var feFunc = createNS('feFuncA');\n          feFunc.setAttribute('type', 'table');\n          feFunc.setAttribute('tableValues', '1.0 0.0');\n          feCTr.appendChild(feFunc); /// /\n\n          this.globalData.defs.appendChild(fil);\n          var alphaRect = createNS('rect');\n          alphaRect.setAttribute('width', this.comp.data.w);\n          alphaRect.setAttribute('height', this.comp.data.h);\n          alphaRect.setAttribute('x', '0');\n          alphaRect.setAttribute('y', '0');\n          alphaRect.setAttribute('fill', '#ffffff');\n          alphaRect.setAttribute('opacity', '0');\n          maskGrouper.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n          maskGrouper.appendChild(alphaRect);\n          maskGrouper.appendChild(this.layerElement);\n          layerElementParent = maskGrouper;\n\n          if (!featureSupport.maskType) {\n            maskGroup.setAttribute('mask-type', 'luminance');\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n            gg = createNS('g');\n            maskGrouper.appendChild(alphaRect);\n            gg.appendChild(this.layerElement);\n            layerElementParent = gg;\n            maskGrouper.appendChild(gg);\n          }\n\n          this.globalData.defs.appendChild(maskGroup);\n        }\n      } else if (this.data.tt) {\n        this.matteElement.appendChild(this.layerElement);\n        layerElementParent = this.matteElement;\n        this.baseElement = this.matteElement;\n      } else {\n        this.baseElement = this.layerElement;\n      }\n\n      if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n      }\n\n      if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n      } // Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\n\n\n      if (this.data.ty === 0 && !this.data.hd) {\n        var cp = createNS('clipPath');\n        var pt = createNS('path');\n        pt.setAttribute('d', 'M0,0 L' + this.data.w + ',0 L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\n        var clipId = createElementID();\n        cp.setAttribute('id', clipId);\n        cp.appendChild(pt);\n        this.globalData.defs.appendChild(cp);\n\n        if (this.checkMasks()) {\n          var cpGroup = createNS('g');\n          cpGroup.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\n          cpGroup.appendChild(this.layerElement);\n          this.transformedElement = cpGroup;\n\n          if (layerElementParent) {\n            layerElementParent.appendChild(this.transformedElement);\n          } else {\n            this.baseElement = this.transformedElement;\n          }\n        } else {\n          this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\n        }\n      }\n\n      if (this.data.bm !== 0) {\n        this.setBlendMode();\n      }\n    },\n    renderElement: function renderElement() {\n      if (this.finalTransform._matMdf) {\n        this.transformedElement.setAttribute('transform', this.finalTransform.mat.to2dCSS());\n      }\n\n      if (this.finalTransform._opMdf) {\n        this.transformedElement.setAttribute('opacity', this.finalTransform.mProp.o.v);\n      }\n    },\n    destroyBaseElement: function destroyBaseElement() {\n      this.layerElement = null;\n      this.matteElement = null;\n      this.maskManager.destroy();\n    },\n    getBaseElement: function getBaseElement() {\n      if (this.data.hd) {\n        return null;\n      }\n\n      return this.baseElement;\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\n      this.renderableEffectsManager = new SVGEffects(this);\n    },\n    setMatte: function setMatte(id) {\n      if (!this.matteElement) {\n        return;\n      }\n\n      this.matteElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\n    }\n  };\n\n  /**\r\n   * @file\r\n   * Handles AE's layer parenting property.\r\n   *\r\n   */\n  function HierarchyElement() {}\n\n  HierarchyElement.prototype = {\n    /**\r\n       * @function\r\n       * Initializes hierarchy properties\r\n       *\r\n       */\n    initHierarchy: function initHierarchy() {\n      // element's parent list\n      this.hierarchy = []; // if element is parent of another layer _isParent will be true\n\n      this._isParent = false;\n      this.checkParenting();\n    },\n\n    /**\r\n       * @function\r\n       * Sets layer's hierarchy.\r\n       * @param {array} hierarch\r\n       * layer's parent list\r\n       *\r\n       */\n    setHierarchy: function setHierarchy(hierarchy) {\n      this.hierarchy = hierarchy;\n    },\n\n    /**\r\n       * @function\r\n       * Sets layer as parent.\r\n       *\r\n       */\n    setAsParent: function setAsParent() {\n      this._isParent = true;\n    },\n\n    /**\r\n       * @function\r\n       * Searches layer's parenting chain\r\n       *\r\n       */\n    checkParenting: function checkParenting() {\n      if (this.data.parent !== undefined) {\n        this.comp.buildElementParenting(this, this.data.parent, []);\n      }\n    }\n  };\n\n  function RenderableDOMElement() {}\n\n  (function () {\n    var _prototype = {\n      initElement: function initElement(data, globalData, comp) {\n        this.initFrame();\n        this.initBaseData(data, globalData, comp);\n        this.initTransform(data, globalData, comp);\n        this.initHierarchy();\n        this.initRenderable();\n        this.initRendererElement();\n        this.createContainerElements();\n        this.createRenderableComponents();\n        this.createContent();\n        this.hide();\n      },\n      hide: function hide() {\n        // console.log('HIDE', this);\n        if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n          var elem = this.baseElement || this.layerElement;\n          elem.style.display = 'none';\n          this.hidden = true;\n        }\n      },\n      show: function show() {\n        // console.log('SHOW', this);\n        if (this.isInRange && !this.isTransparent) {\n          if (!this.data.hd) {\n            var elem = this.baseElement || this.layerElement;\n            elem.style.display = 'block';\n          }\n\n          this.hidden = false;\n          this._isFirstFrame = true;\n        }\n      },\n      renderFrame: function renderFrame() {\n        // If it is exported as hidden (data.hd === true) no need to render\n        // If it is not visible no need to render\n        if (this.data.hd || this.hidden) {\n          return;\n        }\n\n        this.renderTransform();\n        this.renderRenderable();\n        this.renderElement();\n        this.renderInnerContent();\n\n        if (this._isFirstFrame) {\n          this._isFirstFrame = false;\n        }\n      },\n      renderInnerContent: function renderInnerContent() {},\n      prepareFrame: function prepareFrame(num) {\n        this._mdf = false;\n        this.prepareRenderableFrame(num);\n        this.prepareProperties(num, this.isInRange);\n        this.checkTransparency();\n      },\n      destroy: function destroy() {\n        this.innerElem = null;\n        this.destroyBaseElement();\n      }\n    };\n    extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\n  })();\n\n  function IImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initElement(data, globalData, comp);\n    this.sourceRect = {\n      top: 0,\n      left: 0,\n      width: this.assetData.w,\n      height: this.assetData.h\n    };\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement);\n\n  IImageElement.prototype.createContent = function () {\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    this.innerElem = createNS('image');\n    this.innerElem.setAttribute('width', this.assetData.w + 'px');\n    this.innerElem.setAttribute('height', this.assetData.h + 'px');\n    this.innerElem.setAttribute('preserveAspectRatio', this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\n    this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n    this.layerElement.appendChild(this.innerElem);\n  };\n\n  IImageElement.prototype.sourceRectAtTime = function () {\n    return this.sourceRect;\n  };\n\n  function ProcessedElement(element, position) {\n    this.elem = element;\n    this.pos = position;\n  }\n\n  function IShapeElement() {}\n\n  IShapeElement.prototype = {\n    addShapeToModifiers: function addShapeToModifiers(data) {\n      var i;\n      var len = this.shapeModifiers.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.shapeModifiers[i].addShape(data);\n      }\n    },\n    isShapeInAnimatedModifiers: function isShapeInAnimatedModifiers(data) {\n      var i = 0;\n      var len = this.shapeModifiers.length;\n\n      while (i < len) {\n        if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n    renderModifiers: function renderModifiers() {\n      if (!this.shapeModifiers.length) {\n        return;\n      }\n\n      var i;\n      var len = this.shapes.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].sh.reset();\n      }\n\n      len = this.shapeModifiers.length;\n      var shouldBreakProcess;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        shouldBreakProcess = this.shapeModifiers[i].processShapes(this._isFirstFrame); // workaround to fix cases where a repeater resets the shape so the following processes get called twice\n        // TODO: find a better solution for this\n\n        if (shouldBreakProcess) {\n          break;\n        }\n      }\n    },\n    searchProcessedElement: function searchProcessedElement(elem) {\n      var elements = this.processedElements;\n      var i = 0;\n      var len = elements.length;\n\n      while (i < len) {\n        if (elements[i].elem === elem) {\n          return elements[i].pos;\n        }\n\n        i += 1;\n      }\n\n      return 0;\n    },\n    addProcessedElement: function addProcessedElement(elem, pos) {\n      var elements = this.processedElements;\n      var i = elements.length;\n\n      while (i) {\n        i -= 1;\n\n        if (elements[i].elem === elem) {\n          elements[i].pos = pos;\n          return;\n        }\n      }\n\n      elements.push(new ProcessedElement(elem, pos));\n    },\n    prepareFrame: function prepareFrame(num) {\n      this.prepareRenderableFrame(num);\n      this.prepareProperties(num, this.isInRange);\n    }\n  };\n\n  var lineCapEnum = {\n    1: 'butt',\n    2: 'round',\n    3: 'square'\n  };\n  var lineJoinEnum = {\n    1: 'miter',\n    2: 'round',\n    3: 'bevel'\n  };\n\n  function SVGShapeData(transformers, level, shape) {\n    this.caches = [];\n    this.styles = [];\n    this.transformers = transformers;\n    this.lStr = '';\n    this.sh = shape;\n    this.lvl = level; // TODO find if there are some cases where _isAnimated can be false.\n    // For now, since shapes add up with other shapes. They have to be calculated every time.\n    // One way of finding out is checking if all styles associated to this shape depend only of this shape\n\n    this._isAnimated = !!shape.k; // TODO: commenting this for now since all shapes are animated\n\n    var i = 0;\n    var len = transformers.length;\n\n    while (i < len) {\n      if (transformers[i].mProps.dynamicProperties.length) {\n        this._isAnimated = true;\n        break;\n      }\n\n      i += 1;\n    }\n  }\n\n  SVGShapeData.prototype.setAsAnimated = function () {\n    this._isAnimated = true;\n  };\n\n  function SVGStyleData(data, level) {\n    this.data = data;\n    this.type = data.ty;\n    this.d = '';\n    this.lvl = level;\n    this._mdf = false;\n    this.closed = data.hd === true;\n    this.pElem = createNS('path');\n    this.msElem = null;\n  }\n\n  SVGStyleData.prototype.reset = function () {\n    this.d = '';\n    this._mdf = false;\n  };\n\n  function DashProperty(elem, data, renderer, container) {\n    this.elem = elem;\n    this.frameId = -1;\n    this.dataProps = createSizedArray(data.length);\n    this.renderer = renderer;\n    this.k = false;\n    this.dashStr = '';\n    this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\n    this.dashoffset = createTypedArray('float32', 1);\n    this.initDynamicPropertyContainer(container);\n    var i;\n    var len = data.length || 0;\n    var prop;\n\n    for (i = 0; i < len; i += 1) {\n      prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\n      this.k = prop.k || this.k;\n      this.dataProps[i] = {\n        n: data[i].n,\n        p: prop\n      };\n    }\n\n    if (!this.k) {\n      this.getValue(true);\n    }\n\n    this._isAnimated = this.k;\n  }\n\n  DashProperty.prototype.getValue = function (forceRender) {\n    if (this.elem.globalData.frameId === this.frameId && !forceRender) {\n      return;\n    }\n\n    this.frameId = this.elem.globalData.frameId;\n    this.iterateDynamicProperties();\n    this._mdf = this._mdf || forceRender;\n\n    if (this._mdf) {\n      var i = 0;\n      var len = this.dataProps.length;\n\n      if (this.renderer === 'svg') {\n        this.dashStr = '';\n      }\n\n      for (i = 0; i < len; i += 1) {\n        if (this.dataProps[i].n !== 'o') {\n          if (this.renderer === 'svg') {\n            this.dashStr += ' ' + this.dataProps[i].p.v;\n          } else {\n            this.dashArray[i] = this.dataProps[i].p.v;\n          }\n        } else {\n          this.dashoffset[0] = this.dataProps[i].p.v;\n        }\n      }\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], DashProperty);\n\n  function SVGStrokeStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n    this.style = styleOb;\n    this._isAnimated = !!this._isAnimated;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\n\n  function SVGFillStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n    this.style = styleOb;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGFillStyleData);\n\n  function SVGNoStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.style = styleOb;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGNoStyleData);\n\n  function GradientProperty(elem, data, container) {\n    this.data = data;\n    this.c = createTypedArray('uint8c', data.p * 4);\n    var cLength = data.k.k[0].s ? data.k.k[0].s.length - data.p * 4 : data.k.k.length - data.p * 4;\n    this.o = createTypedArray('float32', cLength);\n    this._cmdf = false;\n    this._omdf = false;\n    this._collapsable = this.checkCollapsable();\n    this._hasOpacity = cLength;\n    this.initDynamicPropertyContainer(container);\n    this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\n    this.k = this.prop.k;\n    this.getValue(true);\n  }\n\n  GradientProperty.prototype.comparePoints = function (values, points) {\n    var i = 0;\n    var len = this.o.length / 2;\n    var diff;\n\n    while (i < len) {\n      diff = Math.abs(values[i * 4] - values[points * 4 + i * 2]);\n\n      if (diff > 0.01) {\n        return false;\n      }\n\n      i += 1;\n    }\n\n    return true;\n  };\n\n  GradientProperty.prototype.checkCollapsable = function () {\n    if (this.o.length / 2 !== this.c.length / 4) {\n      return false;\n    }\n\n    if (this.data.k.k[0].s) {\n      var i = 0;\n      var len = this.data.k.k.length;\n\n      while (i < len) {\n        if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\n          return false;\n        }\n\n        i += 1;\n      }\n    } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\n      return false;\n    }\n\n    return true;\n  };\n\n  GradientProperty.prototype.getValue = function (forceRender) {\n    this.prop.getValue();\n    this._mdf = false;\n    this._cmdf = false;\n    this._omdf = false;\n\n    if (this.prop._mdf || forceRender) {\n      var i;\n      var len = this.data.p * 4;\n      var mult;\n      var val;\n\n      for (i = 0; i < len; i += 1) {\n        mult = i % 4 === 0 ? 100 : 255;\n        val = Math.round(this.prop.v[i] * mult);\n\n        if (this.c[i] !== val) {\n          this.c[i] = val;\n          this._cmdf = !forceRender;\n        }\n      }\n\n      if (this.o.length) {\n        len = this.prop.v.length;\n\n        for (i = this.data.p * 4; i < len; i += 1) {\n          mult = i % 2 === 0 ? 100 : 1;\n          val = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\n\n          if (this.o[i - this.data.p * 4] !== val) {\n            this.o[i - this.data.p * 4] = val;\n            this._omdf = !forceRender;\n          }\n        }\n      }\n\n      this._mdf = !forceRender;\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], GradientProperty);\n\n  function SVGGradientFillStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.initGradientData(elem, data, styleOb);\n  }\n\n  SVGGradientFillStyleData.prototype.initGradientData = function (elem, data, styleOb) {\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.s = PropertyFactory.getProp(elem, data.s, 1, null, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 1, null, this);\n    this.h = PropertyFactory.getProp(elem, data.h || {\n      k: 0\n    }, 0, 0.01, this);\n    this.a = PropertyFactory.getProp(elem, data.a || {\n      k: 0\n    }, 0, degToRads, this);\n    this.g = new GradientProperty(elem, data.g, this);\n    this.style = styleOb;\n    this.stops = [];\n    this.setGradientData(styleOb.pElem, data);\n    this.setGradientOpacity(data, styleOb);\n    this._isAnimated = !!this._isAnimated;\n  };\n\n  SVGGradientFillStyleData.prototype.setGradientData = function (pathElement, data) {\n    var gradientId = createElementID();\n    var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n    gfill.setAttribute('id', gradientId);\n    gfill.setAttribute('spreadMethod', 'pad');\n    gfill.setAttribute('gradientUnits', 'userSpaceOnUse');\n    var stops = [];\n    var stop;\n    var j;\n    var jLen;\n    jLen = data.g.p * 4;\n\n    for (j = 0; j < jLen; j += 4) {\n      stop = createNS('stop');\n      gfill.appendChild(stop);\n      stops.push(stop);\n    }\n\n    pathElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + gradientId + ')');\n    this.gf = gfill;\n    this.cst = stops;\n  };\n\n  SVGGradientFillStyleData.prototype.setGradientOpacity = function (data, styleOb) {\n    if (this.g._hasOpacity && !this.g._collapsable) {\n      var stop;\n      var j;\n      var jLen;\n      var mask = createNS('mask');\n      var maskElement = createNS('path');\n      mask.appendChild(maskElement);\n      var opacityId = createElementID();\n      var maskId = createElementID();\n      mask.setAttribute('id', maskId);\n      var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n      opFill.setAttribute('id', opacityId);\n      opFill.setAttribute('spreadMethod', 'pad');\n      opFill.setAttribute('gradientUnits', 'userSpaceOnUse');\n      jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\n      var stops = this.stops;\n\n      for (j = data.g.p * 4; j < jLen; j += 2) {\n        stop = createNS('stop');\n        stop.setAttribute('stop-color', 'rgb(255,255,255)');\n        opFill.appendChild(stop);\n        stops.push(stop);\n      }\n\n      maskElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + opacityId + ')');\n\n      if (data.ty === 'gs') {\n        maskElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\n        maskElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\n\n        if (data.lj === 1) {\n          maskElement.setAttribute('stroke-miterlimit', data.ml);\n        }\n      }\n\n      this.of = opFill;\n      this.ms = mask;\n      this.ost = stops;\n      this.maskId = maskId;\n      styleOb.msElem = maskElement;\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\n\n  function SVGGradientStrokeStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n    this.initGradientData(elem, data, styleOb);\n    this._isAnimated = !!this._isAnimated;\n  }\n\n  extendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\n\n  function ShapeGroupData() {\n    this.it = [];\n    this.prevViewData = [];\n    this.gr = createNS('g');\n  }\n\n  function SVGTransformData(mProps, op, container) {\n    this.transform = {\n      mProps: mProps,\n      op: op,\n      container: container\n    };\n    this.elements = [];\n    this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\n  }\n\n  var buildShapeString = function buildShapeString(pathNodes, length, closed, mat) {\n    if (length === 0) {\n      return '';\n    }\n\n    var _o = pathNodes.o;\n    var _i = pathNodes.i;\n    var _v = pathNodes.v;\n    var i;\n    var shapeString = ' M' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n\n    for (i = 1; i < length; i += 1) {\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[i][0], _i[i][1]) + ' ' + mat.applyToPointStringified(_v[i][0], _v[i][1]);\n    }\n\n    if (closed && length) {\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[0][0], _i[0][1]) + ' ' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n      shapeString += 'z';\n    }\n\n    return shapeString;\n  };\n\n  var SVGElementsRenderer = function () {\n    var _identityMatrix = new Matrix();\n\n    var _matrixHelper = new Matrix();\n\n    var ob = {\n      createRenderFunction: createRenderFunction\n    };\n\n    function createRenderFunction(data) {\n      switch (data.ty) {\n        case 'fl':\n          return renderFill;\n\n        case 'gf':\n          return renderGradient;\n\n        case 'gs':\n          return renderGradientStroke;\n\n        case 'st':\n          return renderStroke;\n\n        case 'sh':\n        case 'el':\n        case 'rc':\n        case 'sr':\n          return renderPath;\n\n        case 'tr':\n          return renderContentTransform;\n\n        case 'no':\n          return renderNoop;\n\n        default:\n          return null;\n      }\n    }\n\n    function renderContentTransform(styleData, itemData, isFirstFrame) {\n      if (isFirstFrame || itemData.transform.op._mdf) {\n        itemData.transform.container.setAttribute('opacity', itemData.transform.op.v);\n      }\n\n      if (isFirstFrame || itemData.transform.mProps._mdf) {\n        itemData.transform.container.setAttribute('transform', itemData.transform.mProps.v.to2dCSS());\n      }\n    }\n\n    function renderNoop() {}\n\n    function renderPath(styleData, itemData, isFirstFrame) {\n      var j;\n      var jLen;\n      var pathStringTransformed;\n      var redraw;\n      var pathNodes;\n      var l;\n      var lLen = itemData.styles.length;\n      var lvl = itemData.lvl;\n      var paths;\n      var mat;\n      var props;\n      var iterations;\n      var k;\n\n      for (l = 0; l < lLen; l += 1) {\n        redraw = itemData.sh._mdf || isFirstFrame;\n\n        if (itemData.styles[l].lvl < lvl) {\n          mat = _matrixHelper.reset();\n          iterations = lvl - itemData.styles[l].lvl;\n          k = itemData.transformers.length - 1;\n\n          while (!redraw && iterations > 0) {\n            redraw = itemData.transformers[k].mProps._mdf || redraw;\n            iterations -= 1;\n            k -= 1;\n          }\n\n          if (redraw) {\n            iterations = lvl - itemData.styles[l].lvl;\n            k = itemData.transformers.length - 1;\n\n            while (iterations > 0) {\n              props = itemData.transformers[k].mProps.v.props;\n              mat.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\n              iterations -= 1;\n              k -= 1;\n            }\n          }\n        } else {\n          mat = _identityMatrix;\n        }\n\n        paths = itemData.sh.paths;\n        jLen = paths._length;\n\n        if (redraw) {\n          pathStringTransformed = '';\n\n          for (j = 0; j < jLen; j += 1) {\n            pathNodes = paths.shapes[j];\n\n            if (pathNodes && pathNodes._length) {\n              pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\n            }\n          }\n\n          itemData.caches[l] = pathStringTransformed;\n        } else {\n          pathStringTransformed = itemData.caches[l];\n        }\n\n        itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\n        itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\n      }\n    }\n\n    function renderFill(styleData, itemData, isFirstFrame) {\n      var styleElem = itemData.style;\n\n      if (itemData.c._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('fill', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\n      }\n\n      if (itemData.o._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('fill-opacity', itemData.o.v);\n      }\n    }\n\n    function renderGradientStroke(styleData, itemData, isFirstFrame) {\n      renderGradient(styleData, itemData, isFirstFrame);\n      renderStroke(styleData, itemData, isFirstFrame);\n    }\n\n    function renderGradient(styleData, itemData, isFirstFrame) {\n      var gfill = itemData.gf;\n      var hasOpacity = itemData.g._hasOpacity;\n      var pt1 = itemData.s.v;\n      var pt2 = itemData.e.v;\n\n      if (itemData.o._mdf || isFirstFrame) {\n        var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\n        itemData.style.pElem.setAttribute(attr, itemData.o.v);\n      }\n\n      if (itemData.s._mdf || isFirstFrame) {\n        var attr1 = styleData.t === 1 ? 'x1' : 'cx';\n        var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\n        gfill.setAttribute(attr1, pt1[0]);\n        gfill.setAttribute(attr2, pt1[1]);\n\n        if (hasOpacity && !itemData.g._collapsable) {\n          itemData.of.setAttribute(attr1, pt1[0]);\n          itemData.of.setAttribute(attr2, pt1[1]);\n        }\n      }\n\n      var stops;\n      var i;\n      var len;\n      var stop;\n\n      if (itemData.g._cmdf || isFirstFrame) {\n        stops = itemData.cst;\n        var cValues = itemData.g.c;\n        len = stops.length;\n\n        for (i = 0; i < len; i += 1) {\n          stop = stops[i];\n          stop.setAttribute('offset', cValues[i * 4] + '%');\n          stop.setAttribute('stop-color', 'rgb(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ')');\n        }\n      }\n\n      if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\n        var oValues = itemData.g.o;\n\n        if (itemData.g._collapsable) {\n          stops = itemData.cst;\n        } else {\n          stops = itemData.ost;\n        }\n\n        len = stops.length;\n\n        for (i = 0; i < len; i += 1) {\n          stop = stops[i];\n\n          if (!itemData.g._collapsable) {\n            stop.setAttribute('offset', oValues[i * 2] + '%');\n          }\n\n          stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\n        }\n      }\n\n      if (styleData.t === 1) {\n        if (itemData.e._mdf || isFirstFrame) {\n          gfill.setAttribute('x2', pt2[0]);\n          gfill.setAttribute('y2', pt2[1]);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('x2', pt2[0]);\n            itemData.of.setAttribute('y2', pt2[1]);\n          }\n        }\n      } else {\n        var rad;\n\n        if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\n          rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n          gfill.setAttribute('r', rad);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('r', rad);\n          }\n        }\n\n        if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\n          if (!rad) {\n            rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n          }\n\n          var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n          var percent = itemData.h.v;\n\n          if (percent >= 1) {\n            percent = 0.99;\n          } else if (percent <= -1) {\n            percent = -0.99;\n          }\n\n          var dist = rad * percent;\n          var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n          var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n          gfill.setAttribute('fx', x);\n          gfill.setAttribute('fy', y);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('fx', x);\n            itemData.of.setAttribute('fy', y);\n          }\n        } // gfill.setAttribute('fy','200');\n\n      }\n    }\n\n    function renderStroke(styleData, itemData, isFirstFrame) {\n      var styleElem = itemData.style;\n      var d = itemData.d;\n\n      if (d && (d._mdf || isFirstFrame) && d.dashStr) {\n        styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\n        styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\n      }\n\n      if (itemData.c && (itemData.c._mdf || isFirstFrame)) {\n        styleElem.pElem.setAttribute('stroke', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\n      }\n\n      if (itemData.o._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\n      }\n\n      if (itemData.w._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\n\n        if (styleElem.msElem) {\n          styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\n        }\n      }\n    }\n\n    return ob;\n  }();\n\n  function SVGShapeElement(data, globalData, comp) {\n    // List of drawable elements\n    this.shapes = []; // Full shape data\n\n    this.shapesData = data.shapes; // List of styles that will be applied to shapes\n\n    this.stylesList = []; // List of modifiers that will be applied to shapes\n\n    this.shapeModifiers = []; // List of items in shape tree\n\n    this.itemsData = []; // List of items in previous shape tree\n\n    this.processedElements = []; // List of animated components\n\n    this.animatedContents = [];\n    this.initElement(data, globalData, comp); // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n    // List of elements that have been created\n\n    this.prevViewData = []; // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement);\n\n  SVGShapeElement.prototype.initSecondaryElement = function () {};\n\n  SVGShapeElement.prototype.identityMatrix = new Matrix();\n\n  SVGShapeElement.prototype.buildExpressionInterface = function () {};\n\n  SVGShapeElement.prototype.createContent = function () {\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n    this.filterUniqueShapes();\n  };\n  /*\r\n  This method searches for multiple shapes that affect a single element and one of them is animated\r\n  */\n\n\n  SVGShapeElement.prototype.filterUniqueShapes = function () {\n    var i;\n    var len = this.shapes.length;\n    var shape;\n    var j;\n    var jLen = this.stylesList.length;\n    var style;\n    var tempShapes = [];\n    var areAnimated = false;\n\n    for (j = 0; j < jLen; j += 1) {\n      style = this.stylesList[j];\n      areAnimated = false;\n      tempShapes.length = 0;\n\n      for (i = 0; i < len; i += 1) {\n        shape = this.shapes[i];\n\n        if (shape.styles.indexOf(style) !== -1) {\n          tempShapes.push(shape);\n          areAnimated = shape._isAnimated || areAnimated;\n        }\n      }\n\n      if (tempShapes.length > 1 && areAnimated) {\n        this.setShapesAsAnimated(tempShapes);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.setShapesAsAnimated = function (shapes) {\n    var i;\n    var len = shapes.length;\n\n    for (i = 0; i < len; i += 1) {\n      shapes[i].setAsAnimated();\n    }\n  };\n\n  SVGShapeElement.prototype.createStyleElement = function (data, level) {\n    // TODO: prevent drawing of hidden styles\n    var elementData;\n    var styleOb = new SVGStyleData(data, level);\n    var pathElement = styleOb.pElem;\n\n    if (data.ty === 'st') {\n      elementData = new SVGStrokeStyleData(this, data, styleOb);\n    } else if (data.ty === 'fl') {\n      elementData = new SVGFillStyleData(this, data, styleOb);\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      var GradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\n      elementData = new GradientConstructor(this, data, styleOb);\n      this.globalData.defs.appendChild(elementData.gf);\n\n      if (elementData.maskId) {\n        this.globalData.defs.appendChild(elementData.ms);\n        this.globalData.defs.appendChild(elementData.of);\n        pathElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + elementData.maskId + ')');\n      }\n    } else if (data.ty === 'no') {\n      elementData = new SVGNoStyleData(this, data, styleOb);\n    }\n\n    if (data.ty === 'st' || data.ty === 'gs') {\n      pathElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\n      pathElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\n      pathElement.setAttribute('fill-opacity', '0');\n\n      if (data.lj === 1) {\n        pathElement.setAttribute('stroke-miterlimit', data.ml);\n      }\n    }\n\n    if (data.r === 2) {\n      pathElement.setAttribute('fill-rule', 'evenodd');\n    }\n\n    if (data.ln) {\n      pathElement.setAttribute('id', data.ln);\n    }\n\n    if (data.cl) {\n      pathElement.setAttribute('class', data.cl);\n    }\n\n    if (data.bm) {\n      pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\n    }\n\n    this.stylesList.push(styleOb);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createGroupElement = function (data) {\n    var elementData = new ShapeGroupData();\n\n    if (data.ln) {\n      elementData.gr.setAttribute('id', data.ln);\n    }\n\n    if (data.cl) {\n      elementData.gr.setAttribute('class', data.cl);\n    }\n\n    if (data.bm) {\n      elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\n    }\n\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createTransformElement = function (data, container) {\n    var transformProperty = TransformPropertyFactory.getTransformProperty(this, data, this);\n    var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createShapeElement = function (data, ownTransformers, level) {\n    var ty = 4;\n\n    if (data.ty === 'rc') {\n      ty = 5;\n    } else if (data.ty === 'el') {\n      ty = 6;\n    } else if (data.ty === 'sr') {\n      ty = 7;\n    }\n\n    var shapeProperty = ShapePropertyFactory.getShapeProp(this, data, ty, this);\n    var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.addToAnimatedContents = function (data, element) {\n    var i = 0;\n    var len = this.animatedContents.length;\n\n    while (i < len) {\n      if (this.animatedContents[i].element === element) {\n        return;\n      }\n\n      i += 1;\n    }\n\n    this.animatedContents.push({\n      fn: SVGElementsRenderer.createRenderFunction(data),\n      element: element,\n      data: data\n    });\n  };\n\n  SVGShapeElement.prototype.setElementStyles = function (elementData) {\n    var arr = elementData.styles;\n    var j;\n    var jLen = this.stylesList.length;\n\n    for (j = 0; j < jLen; j += 1) {\n      if (!this.stylesList[j].closed) {\n        arr.push(this.stylesList[j]);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.reloadShapes = function () {\n    this._isFirstFrame = true;\n    var i;\n    var len = this.itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n    this.filterUniqueShapes();\n    len = this.dynamicProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n\n    this.renderModifiers();\n  };\n\n  SVGShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, container, level, transformers, render) {\n    var ownTransformers = [].concat(transformers);\n    var i;\n    var len = arr.length - 1;\n    var j;\n    var jLen;\n    var ownStyles = [];\n    var ownModifiers = [];\n    var currentTransform;\n    var modifier;\n    var processedPos;\n\n    for (i = len; i >= 0; i -= 1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n\n      if (!processedPos) {\n        arr[i]._render = render;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs' || arr[i].ty === 'no') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], level);\n        } else {\n          itemsData[i].style.closed = false;\n        }\n\n        if (arr[i]._render) {\n          if (itemsData[i].style.pElem.parentNode !== container) {\n            container.appendChild(itemsData[i].style.pElem);\n          }\n        }\n\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty === 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, itemsData[i].gr, level + 1, ownTransformers, render);\n\n        if (arr[i]._render) {\n          if (itemsData[i].gr.parentNode !== container) {\n            container.appendChild(itemsData[i].gr);\n          }\n        }\n      } else if (arr[i].ty === 'tr') {\n        if (!processedPos) {\n          itemsData[i] = this.createTransformElement(arr[i], container);\n        }\n\n        currentTransform = itemsData[i].transform;\n        ownTransformers.push(currentTransform);\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\n        }\n\n        this.setElementStyles(itemsData[i]);\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'ms' || arr[i].ty === 'pb') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty === 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          render = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n\n        ownModifiers.push(modifier);\n      }\n\n      this.addProcessedElement(arr[i], i + 1);\n    }\n\n    len = ownStyles.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownStyles[i].closed = true;\n    }\n\n    len = ownModifiers.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownModifiers[i].closed = true;\n    }\n  };\n\n  SVGShapeElement.prototype.renderInnerContent = function () {\n    this.renderModifiers();\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.stylesList[i].reset();\n    }\n\n    this.renderShape();\n\n    for (i = 0; i < len; i += 1) {\n      if (this.stylesList[i]._mdf || this._isFirstFrame) {\n        if (this.stylesList[i].msElem) {\n          this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d); // Adding M0 0 fixes same mask bug on all browsers\n\n          this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\n        }\n\n        this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.renderShape = function () {\n    var i;\n    var len = this.animatedContents.length;\n    var animatedContent;\n\n    for (i = 0; i < len; i += 1) {\n      animatedContent = this.animatedContents[i];\n\n      if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\n        animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.destroy = function () {\n    this.destroyBaseElement();\n    this.shapesData = null;\n    this.itemsData = null;\n  };\n\n  function LetterProps(o, sw, sc, fc, m, p) {\n    this.o = o;\n    this.sw = sw;\n    this.sc = sc;\n    this.fc = fc;\n    this.m = m;\n    this.p = p;\n    this._mdf = {\n      o: true,\n      sw: !!sw,\n      sc: !!sc,\n      fc: !!fc,\n      m: true,\n      p: true\n    };\n  }\n\n  LetterProps.prototype.update = function (o, sw, sc, fc, m, p) {\n    this._mdf.o = false;\n    this._mdf.sw = false;\n    this._mdf.sc = false;\n    this._mdf.fc = false;\n    this._mdf.m = false;\n    this._mdf.p = false;\n    var updated = false;\n\n    if (this.o !== o) {\n      this.o = o;\n      this._mdf.o = true;\n      updated = true;\n    }\n\n    if (this.sw !== sw) {\n      this.sw = sw;\n      this._mdf.sw = true;\n      updated = true;\n    }\n\n    if (this.sc !== sc) {\n      this.sc = sc;\n      this._mdf.sc = true;\n      updated = true;\n    }\n\n    if (this.fc !== fc) {\n      this.fc = fc;\n      this._mdf.fc = true;\n      updated = true;\n    }\n\n    if (this.m !== m) {\n      this.m = m;\n      this._mdf.m = true;\n      updated = true;\n    }\n\n    if (p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\n      this.p = p;\n      this._mdf.p = true;\n      updated = true;\n    }\n\n    return updated;\n  };\n\n  function TextProperty(elem, data) {\n    this._frameId = initialDefaultFrame;\n    this.pv = '';\n    this.v = '';\n    this.kf = false;\n    this._isFirstFrame = true;\n    this._mdf = false;\n    this.data = data;\n    this.elem = elem;\n    this.comp = this.elem.comp;\n    this.keysIndex = 0;\n    this.canResize = false;\n    this.minimumFontSize = 1;\n    this.effectsSequence = [];\n    this.currentData = {\n      ascent: 0,\n      boxWidth: this.defaultBoxWidth,\n      f: '',\n      fStyle: '',\n      fWeight: '',\n      fc: '',\n      j: '',\n      justifyOffset: '',\n      l: [],\n      lh: 0,\n      lineWidths: [],\n      ls: '',\n      of: '',\n      s: '',\n      sc: '',\n      sw: 0,\n      t: 0,\n      tr: 0,\n      sz: 0,\n      ps: null,\n      fillColorAnim: false,\n      strokeColorAnim: false,\n      strokeWidthAnim: false,\n      yOffset: 0,\n      finalSize: 0,\n      finalText: [],\n      finalLineHeight: 0,\n      __complete: false\n    };\n    this.copyData(this.currentData, this.data.d.k[0].s);\n\n    if (!this.searchProperty()) {\n      this.completeTextData(this.currentData);\n    }\n  }\n\n  TextProperty.prototype.defaultBoxWidth = [0, 0];\n\n  TextProperty.prototype.copyData = function (obj, data) {\n    for (var s in data) {\n      if (Object.prototype.hasOwnProperty.call(data, s)) {\n        obj[s] = data[s];\n      }\n    }\n\n    return obj;\n  };\n\n  TextProperty.prototype.setCurrentData = function (data) {\n    if (!data.__complete) {\n      this.completeTextData(data);\n    }\n\n    this.currentData = data;\n    this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\n    this._mdf = true;\n  };\n\n  TextProperty.prototype.searchProperty = function () {\n    return this.searchKeyframes();\n  };\n\n  TextProperty.prototype.searchKeyframes = function () {\n    this.kf = this.data.d.k.length > 1;\n\n    if (this.kf) {\n      this.addEffect(this.getKeyframeValue.bind(this));\n    }\n\n    return this.kf;\n  };\n\n  TextProperty.prototype.addEffect = function (effectFunction) {\n    this.effectsSequence.push(effectFunction);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.getValue = function (_finalValue) {\n    if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\n      return;\n    }\n\n    this.currentData.t = this.data.d.k[this.keysIndex].s.t;\n    var currentValue = this.currentData;\n    var currentIndex = this.keysIndex;\n\n    if (this.lock) {\n      this.setCurrentData(this.currentData);\n      return;\n    }\n\n    this.lock = true;\n    this._mdf = false;\n    var i;\n    var len = this.effectsSequence.length;\n    var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\n\n    for (i = 0; i < len; i += 1) {\n      // Checking if index changed to prevent creating a new object every time the expression updates.\n      if (currentIndex !== this.keysIndex) {\n        finalValue = this.effectsSequence[i](finalValue, finalValue.t);\n      } else {\n        finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\n      }\n    }\n\n    if (currentValue !== finalValue) {\n      this.setCurrentData(finalValue);\n    }\n\n    this.v = this.currentData;\n    this.pv = this.v;\n    this.lock = false;\n    this.frameId = this.elem.globalData.frameId;\n  };\n\n  TextProperty.prototype.getKeyframeValue = function () {\n    var textKeys = this.data.d.k;\n    var frameNum = this.elem.comp.renderedFrame;\n    var i = 0;\n    var len = textKeys.length;\n\n    while (i <= len - 1) {\n      if (i === len - 1 || textKeys[i + 1].t > frameNum) {\n        break;\n      }\n\n      i += 1;\n    }\n\n    if (this.keysIndex !== i) {\n      this.keysIndex = i;\n    }\n\n    return this.data.d.k[this.keysIndex].s;\n  };\n\n  TextProperty.prototype.buildFinalText = function (text) {\n    var charactersArray = [];\n    var i = 0;\n    var len = text.length;\n    var charCode;\n    var secondCharCode;\n    var shouldCombine = false;\n\n    while (i < len) {\n      charCode = text.charCodeAt(i);\n\n      if (FontManager.isCombinedCharacter(charCode)) {\n        charactersArray[charactersArray.length - 1] += text.charAt(i);\n      } else if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n        secondCharCode = text.charCodeAt(i + 1);\n\n        if (secondCharCode >= 0xDC00 && secondCharCode <= 0xDFFF) {\n          if (shouldCombine || FontManager.isModifier(charCode, secondCharCode)) {\n            charactersArray[charactersArray.length - 1] += text.substr(i, 2);\n            shouldCombine = false;\n          } else {\n            charactersArray.push(text.substr(i, 2));\n          }\n\n          i += 1;\n        } else {\n          charactersArray.push(text.charAt(i));\n        }\n      } else if (charCode > 0xDBFF) {\n        secondCharCode = text.charCodeAt(i + 1);\n\n        if (FontManager.isZeroWidthJoiner(charCode, secondCharCode)) {\n          shouldCombine = true;\n          charactersArray[charactersArray.length - 1] += text.substr(i, 2);\n          i += 1;\n        } else {\n          charactersArray.push(text.charAt(i));\n        }\n      } else if (FontManager.isZeroWidthJoiner(charCode)) {\n        charactersArray[charactersArray.length - 1] += text.charAt(i);\n        shouldCombine = true;\n      } else {\n        charactersArray.push(text.charAt(i));\n      }\n\n      i += 1;\n    }\n\n    return charactersArray;\n  };\n\n  TextProperty.prototype.completeTextData = function (documentData) {\n    documentData.__complete = true;\n    var fontManager = this.elem.globalData.fontManager;\n    var data = this.data;\n    var letters = [];\n    var i;\n    var len;\n    var newLineFlag;\n    var index = 0;\n    var val;\n    var anchorGrouping = data.m.g;\n    var currentSize = 0;\n    var currentPos = 0;\n    var currentLine = 0;\n    var lineWidths = [];\n    var lineWidth = 0;\n    var maxLineWidth = 0;\n    var j;\n    var jLen;\n    var fontData = fontManager.getFontByName(documentData.f);\n    var charData;\n    var cLength = 0;\n    var fontProps = getFontProperties(fontData);\n    documentData.fWeight = fontProps.weight;\n    documentData.fStyle = fontProps.style;\n    documentData.finalSize = documentData.s;\n    documentData.finalText = this.buildFinalText(documentData.t);\n    len = documentData.finalText.length;\n    documentData.finalLineHeight = documentData.lh;\n    var trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n    var charCode;\n\n    if (documentData.sz) {\n      var flag = true;\n      var boxWidth = documentData.sz[0];\n      var boxHeight = documentData.sz[1];\n      var currentHeight;\n      var finalText;\n\n      while (flag) {\n        finalText = this.buildFinalText(documentData.t);\n        currentHeight = 0;\n        lineWidth = 0;\n        len = finalText.length;\n        trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n        var lastSpaceIndex = -1;\n\n        for (i = 0; i < len; i += 1) {\n          charCode = finalText[i].charCodeAt(0);\n          newLineFlag = false;\n\n          if (finalText[i] === ' ') {\n            lastSpaceIndex = i;\n          } else if (charCode === 13 || charCode === 3) {\n            lineWidth = 0;\n            newLineFlag = true;\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n          }\n\n          if (fontManager.chars) {\n            charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\n            cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\n          } else {\n            // tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\n            cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\n          }\n\n          if (lineWidth + cLength > boxWidth && finalText[i] !== ' ') {\n            if (lastSpaceIndex === -1) {\n              len += 1;\n            } else {\n              i = lastSpaceIndex;\n            }\n\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n            finalText.splice(i, lastSpaceIndex === i ? 1 : 0, '\\r'); // finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\n\n            lastSpaceIndex = -1;\n            lineWidth = 0;\n          } else {\n            lineWidth += cLength;\n            lineWidth += trackingOffset;\n          }\n        }\n\n        currentHeight += fontData.ascent * documentData.finalSize / 100;\n\n        if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\n          documentData.finalSize -= 1;\n          documentData.finalLineHeight = documentData.finalSize * documentData.lh / documentData.s;\n        } else {\n          documentData.finalText = finalText;\n          len = documentData.finalText.length;\n          flag = false;\n        }\n      }\n    }\n\n    lineWidth = -trackingOffset;\n    cLength = 0;\n    var uncollapsedSpaces = 0;\n    var currentChar;\n\n    for (i = 0; i < len; i += 1) {\n      newLineFlag = false;\n      currentChar = documentData.finalText[i];\n      charCode = currentChar.charCodeAt(0);\n\n      if (charCode === 13 || charCode === 3) {\n        uncollapsedSpaces = 0;\n        lineWidths.push(lineWidth);\n        maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n        lineWidth = -2 * trackingOffset;\n        val = '';\n        newLineFlag = true;\n        currentLine += 1;\n      } else {\n        val = currentChar;\n      }\n\n      if (fontManager.chars) {\n        charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\n        cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\n      } else {\n        // var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\n        // tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\n        cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\n      } //\n\n\n      if (currentChar === ' ') {\n        uncollapsedSpaces += cLength + trackingOffset;\n      } else {\n        lineWidth += cLength + trackingOffset + uncollapsedSpaces;\n        uncollapsedSpaces = 0;\n      }\n\n      letters.push({\n        l: cLength,\n        an: cLength,\n        add: currentSize,\n        n: newLineFlag,\n        anIndexes: [],\n        val: val,\n        line: currentLine,\n        animatorJustifyOffset: 0\n      });\n\n      if (anchorGrouping == 2) {\n        // eslint-disable-line eqeqeq\n        currentSize += cLength;\n\n        if (val === '' || val === ' ' || i === len - 1) {\n          if (val === '' || val === ' ') {\n            currentSize -= cLength;\n          }\n\n          while (currentPos <= i) {\n            letters[currentPos].an = currentSize;\n            letters[currentPos].ind = index;\n            letters[currentPos].extra = cLength;\n            currentPos += 1;\n          }\n\n          index += 1;\n          currentSize = 0;\n        }\n      } else if (anchorGrouping == 3) {\n        // eslint-disable-line eqeqeq\n        currentSize += cLength;\n\n        if (val === '' || i === len - 1) {\n          if (val === '') {\n            currentSize -= cLength;\n          }\n\n          while (currentPos <= i) {\n            letters[currentPos].an = currentSize;\n            letters[currentPos].ind = index;\n            letters[currentPos].extra = cLength;\n            currentPos += 1;\n          }\n\n          currentSize = 0;\n          index += 1;\n        }\n      } else {\n        letters[index].ind = index;\n        letters[index].extra = 0;\n        index += 1;\n      }\n    }\n\n    documentData.l = letters;\n    maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n    lineWidths.push(lineWidth);\n\n    if (documentData.sz) {\n      documentData.boxWidth = documentData.sz[0];\n      documentData.justifyOffset = 0;\n    } else {\n      documentData.boxWidth = maxLineWidth;\n\n      switch (documentData.j) {\n        case 1:\n          documentData.justifyOffset = -documentData.boxWidth;\n          break;\n\n        case 2:\n          documentData.justifyOffset = -documentData.boxWidth / 2;\n          break;\n\n        default:\n          documentData.justifyOffset = 0;\n      }\n    }\n\n    documentData.lineWidths = lineWidths;\n    var animators = data.a;\n    var animatorData;\n    var letterData;\n    jLen = animators.length;\n    var based;\n    var ind;\n    var indexes = [];\n\n    for (j = 0; j < jLen; j += 1) {\n      animatorData = animators[j];\n\n      if (animatorData.a.sc) {\n        documentData.strokeColorAnim = true;\n      }\n\n      if (animatorData.a.sw) {\n        documentData.strokeWidthAnim = true;\n      }\n\n      if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {\n        documentData.fillColorAnim = true;\n      }\n\n      ind = 0;\n      based = animatorData.s.b;\n\n      for (i = 0; i < len; i += 1) {\n        letterData = letters[i];\n        letterData.anIndexes[j] = ind;\n\n        if (based == 1 && letterData.val !== '' || based == 2 && letterData.val !== '' && letterData.val !== ' ' || based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1) || based == 4 && (letterData.n || i == len - 1)) {\n          // eslint-disable-line eqeqeq\n          if (animatorData.s.rn === 1) {\n            indexes.push(ind);\n          }\n\n          ind += 1;\n        }\n      }\n\n      data.a[j].s.totalChars = ind;\n      var currentInd = -1;\n      var newInd;\n\n      if (animatorData.s.rn === 1) {\n        for (i = 0; i < len; i += 1) {\n          letterData = letters[i];\n\n          if (currentInd != letterData.anIndexes[j]) {\n            // eslint-disable-line eqeqeq\n            currentInd = letterData.anIndexes[j];\n            newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];\n          }\n\n          letterData.anIndexes[j] = newInd;\n        }\n      }\n    }\n\n    documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;\n    documentData.ls = documentData.ls || 0;\n    documentData.ascent = fontData.ascent * documentData.finalSize / 100;\n  };\n\n  TextProperty.prototype.updateDocumentData = function (newData, index) {\n    index = index === undefined ? this.keysIndex : index;\n    var dData = this.copyData({}, this.data.d.k[index].s);\n    dData = this.copyData(dData, newData);\n    this.data.d.k[index].s = dData;\n    this.recalculate(index);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.recalculate = function (index) {\n    var dData = this.data.d.k[index].s;\n    dData.__complete = false;\n    this.keysIndex = 0;\n    this._isFirstFrame = true;\n    this.getValue(dData);\n  };\n\n  TextProperty.prototype.canResizeFont = function (_canResize) {\n    this.canResize = _canResize;\n    this.recalculate(this.keysIndex);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.setMinimumFontSize = function (_fontValue) {\n    this.minimumFontSize = Math.floor(_fontValue) || 1;\n    this.recalculate(this.keysIndex);\n    this.elem.addDynamicProperty(this);\n  };\n\n  var TextSelectorProp = function () {\n    var max = Math.max;\n    var min = Math.min;\n    var floor = Math.floor;\n\n    function TextSelectorPropFactory(elem, data) {\n      this._currentTextLength = -1;\n      this.k = false;\n      this.data = data;\n      this.elem = elem;\n      this.comp = elem.comp;\n      this.finalS = 0;\n      this.finalE = 0;\n      this.initDynamicPropertyContainer(elem);\n      this.s = PropertyFactory.getProp(elem, data.s || {\n        k: 0\n      }, 0, 0, this);\n\n      if ('e' in data) {\n        this.e = PropertyFactory.getProp(elem, data.e, 0, 0, this);\n      } else {\n        this.e = {\n          v: 100\n        };\n      }\n\n      this.o = PropertyFactory.getProp(elem, data.o || {\n        k: 0\n      }, 0, 0, this);\n      this.xe = PropertyFactory.getProp(elem, data.xe || {\n        k: 0\n      }, 0, 0, this);\n      this.ne = PropertyFactory.getProp(elem, data.ne || {\n        k: 0\n      }, 0, 0, this);\n      this.sm = PropertyFactory.getProp(elem, data.sm || {\n        k: 100\n      }, 0, 0, this);\n      this.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this);\n\n      if (!this.dynamicProperties.length) {\n        this.getValue();\n      }\n    }\n\n    TextSelectorPropFactory.prototype = {\n      getMult: function getMult(ind) {\n        if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\n          this.getValue();\n        }\n\n        var x1 = 0;\n        var y1 = 0;\n        var x2 = 1;\n        var y2 = 1;\n\n        if (this.ne.v > 0) {\n          x1 = this.ne.v / 100.0;\n        } else {\n          y1 = -this.ne.v / 100.0;\n        }\n\n        if (this.xe.v > 0) {\n          x2 = 1.0 - this.xe.v / 100.0;\n        } else {\n          y2 = 1.0 + this.xe.v / 100.0;\n        }\n\n        var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\n        var mult = 0;\n        var s = this.finalS;\n        var e = this.finalE;\n        var type = this.data.sh;\n\n        if (type === 2) {\n          if (e === s) {\n            mult = ind >= e ? 1 : 0;\n          } else {\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n          }\n\n          mult = easer(mult);\n        } else if (type === 3) {\n          if (e === s) {\n            mult = ind >= e ? 0 : 1;\n          } else {\n            mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n          }\n\n          mult = easer(mult);\n        } else if (type === 4) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n\n            if (mult < 0.5) {\n              mult *= 2;\n            } else {\n              mult = 1 - 2 * (mult - 0.5);\n            }\n          }\n\n          mult = easer(mult);\n        } else if (type === 5) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            var tot = e - s;\n            /* ind += 0.5;\r\n                      mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */\n\n            ind = min(max(0, ind + 0.5 - s), e - s);\n            var x = -tot / 2 + ind;\n            var a = tot / 2;\n            mult = Math.sqrt(1 - x * x / (a * a));\n          }\n\n          mult = easer(mult);\n        } else if (type === 6) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            ind = min(max(0, ind + 0.5 - s), e - s);\n            mult = (1 + Math.cos(Math.PI + Math.PI * 2 * ind / (e - s))) / 2; // eslint-disable-line\n          }\n\n          mult = easer(mult);\n        } else {\n          if (ind >= floor(s)) {\n            if (ind - s < 0) {\n              mult = max(0, min(min(e, 1) - (s - ind), 1));\n            } else {\n              mult = max(0, min(e - ind, 1));\n            }\n          }\n\n          mult = easer(mult);\n        } // Smoothness implementation.\n        // The smoothness represents a reduced range of the original [0; 1] range.\n        // if smoothness is 25%, the new range will be [0.375; 0.625]\n        // Steps are:\n        // - find the lower value of the new range (threshold)\n        // - if multiplier is smaller than that value, floor it to 0\n        // - if it is larger,\n        //     - subtract the threshold\n        //     - divide it by the smoothness (this will return the range to [0; 1])\n        // Note: If it doesn't work on some scenarios, consider applying it before the easer.\n\n\n        if (this.sm.v !== 100) {\n          var smoothness = this.sm.v * 0.01;\n\n          if (smoothness === 0) {\n            smoothness = 0.00000001;\n          }\n\n          var threshold = 0.5 - smoothness * 0.5;\n\n          if (mult < threshold) {\n            mult = 0;\n          } else {\n            mult = (mult - threshold) / smoothness;\n\n            if (mult > 1) {\n              mult = 1;\n            }\n          }\n        }\n\n        return mult * this.a.v;\n      },\n      getValue: function getValue(newCharsFlag) {\n        this.iterateDynamicProperties();\n        this._mdf = newCharsFlag || this._mdf;\n        this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\n\n        if (newCharsFlag && this.data.r === 2) {\n          this.e.v = this._currentTextLength;\n        }\n\n        var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\n        var o = this.o.v / divisor;\n        var s = this.s.v / divisor + o;\n        var e = this.e.v / divisor + o;\n\n        if (s > e) {\n          var _s = s;\n          s = e;\n          e = _s;\n        }\n\n        this.finalS = s;\n        this.finalE = e;\n      }\n    };\n    extendPrototype([DynamicPropertyContainer], TextSelectorPropFactory);\n\n    function getTextSelectorProp(elem, data, arr) {\n      return new TextSelectorPropFactory(elem, data, arr);\n    }\n\n    return {\n      getTextSelectorProp: getTextSelectorProp\n    };\n  }();\n\n  function TextAnimatorDataProperty(elem, animatorProps, container) {\n    var defaultData = {\n      propType: false\n    };\n    var getProp = PropertyFactory.getProp;\n    var textAnimatorAnimatables = animatorProps.a;\n    this.a = {\n      r: textAnimatorAnimatables.r ? getProp(elem, textAnimatorAnimatables.r, 0, degToRads, container) : defaultData,\n      rx: textAnimatorAnimatables.rx ? getProp(elem, textAnimatorAnimatables.rx, 0, degToRads, container) : defaultData,\n      ry: textAnimatorAnimatables.ry ? getProp(elem, textAnimatorAnimatables.ry, 0, degToRads, container) : defaultData,\n      sk: textAnimatorAnimatables.sk ? getProp(elem, textAnimatorAnimatables.sk, 0, degToRads, container) : defaultData,\n      sa: textAnimatorAnimatables.sa ? getProp(elem, textAnimatorAnimatables.sa, 0, degToRads, container) : defaultData,\n      s: textAnimatorAnimatables.s ? getProp(elem, textAnimatorAnimatables.s, 1, 0.01, container) : defaultData,\n      a: textAnimatorAnimatables.a ? getProp(elem, textAnimatorAnimatables.a, 1, 0, container) : defaultData,\n      o: textAnimatorAnimatables.o ? getProp(elem, textAnimatorAnimatables.o, 0, 0.01, container) : defaultData,\n      p: textAnimatorAnimatables.p ? getProp(elem, textAnimatorAnimatables.p, 1, 0, container) : defaultData,\n      sw: textAnimatorAnimatables.sw ? getProp(elem, textAnimatorAnimatables.sw, 0, 0, container) : defaultData,\n      sc: textAnimatorAnimatables.sc ? getProp(elem, textAnimatorAnimatables.sc, 1, 0, container) : defaultData,\n      fc: textAnimatorAnimatables.fc ? getProp(elem, textAnimatorAnimatables.fc, 1, 0, container) : defaultData,\n      fh: textAnimatorAnimatables.fh ? getProp(elem, textAnimatorAnimatables.fh, 0, 0, container) : defaultData,\n      fs: textAnimatorAnimatables.fs ? getProp(elem, textAnimatorAnimatables.fs, 0, 0.01, container) : defaultData,\n      fb: textAnimatorAnimatables.fb ? getProp(elem, textAnimatorAnimatables.fb, 0, 0.01, container) : defaultData,\n      t: textAnimatorAnimatables.t ? getProp(elem, textAnimatorAnimatables.t, 0, 0, container) : defaultData\n    };\n    this.s = TextSelectorProp.getTextSelectorProp(elem, animatorProps.s, container);\n    this.s.t = animatorProps.s.t;\n  }\n\n  function TextAnimatorProperty(textData, renderType, elem) {\n    this._isFirstFrame = true;\n    this._hasMaskedPath = false;\n    this._frameId = -1;\n    this._textData = textData;\n    this._renderType = renderType;\n    this._elem = elem;\n    this._animatorsData = createSizedArray(this._textData.a.length);\n    this._pathData = {};\n    this._moreOptions = {\n      alignment: {}\n    };\n    this.renderedLetters = [];\n    this.lettersChangedFlag = false;\n    this.initDynamicPropertyContainer(elem);\n  }\n\n  TextAnimatorProperty.prototype.searchProperties = function () {\n    var i;\n    var len = this._textData.a.length;\n    var animatorProps;\n    var getProp = PropertyFactory.getProp;\n\n    for (i = 0; i < len; i += 1) {\n      animatorProps = this._textData.a[i];\n      this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\n    }\n\n    if (this._textData.p && 'm' in this._textData.p) {\n      this._pathData = {\n        a: getProp(this._elem, this._textData.p.a, 0, 0, this),\n        f: getProp(this._elem, this._textData.p.f, 0, 0, this),\n        l: getProp(this._elem, this._textData.p.l, 0, 0, this),\n        r: getProp(this._elem, this._textData.p.r, 0, 0, this),\n        p: getProp(this._elem, this._textData.p.p, 0, 0, this),\n        m: this._elem.maskManager.getMaskProperty(this._textData.p.m)\n      };\n      this._hasMaskedPath = true;\n    } else {\n      this._hasMaskedPath = false;\n    }\n\n    this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);\n  };\n\n  TextAnimatorProperty.prototype.getMeasures = function (documentData, lettersChangedFlag) {\n    this.lettersChangedFlag = lettersChangedFlag;\n\n    if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\n      return;\n    }\n\n    this._isFirstFrame = false;\n    var alignment = this._moreOptions.alignment.v;\n    var animators = this._animatorsData;\n    var textData = this._textData;\n    var matrixHelper = this.mHelper;\n    var renderType = this._renderType;\n    var renderedLettersCount = this.renderedLetters.length;\n    var xPos;\n    var yPos;\n    var i;\n    var len;\n    var letters = documentData.l;\n    var pathInfo;\n    var currentLength;\n    var currentPoint;\n    var segmentLength;\n    var flag;\n    var pointInd;\n    var segmentInd;\n    var prevPoint;\n    var points;\n    var segments;\n    var partialLength;\n    var totalLength;\n    var perc;\n    var tanAngle;\n    var mask;\n\n    if (this._hasMaskedPath) {\n      mask = this._pathData.m;\n\n      if (!this._pathData.n || this._pathData._mdf) {\n        var paths = mask.v;\n\n        if (this._pathData.r.v) {\n          paths = paths.reverse();\n        } // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\n\n\n        pathInfo = {\n          tLength: 0,\n          segments: []\n        };\n        len = paths._length - 1;\n        var bezierData;\n        totalLength = 0;\n\n        for (i = 0; i < len; i += 1) {\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[i + 1], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\n          pathInfo.tLength += bezierData.segmentLength;\n          pathInfo.segments.push(bezierData);\n          totalLength += bezierData.segmentLength;\n        }\n\n        i = len;\n\n        if (mask.v.c) {\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[0], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\n          pathInfo.tLength += bezierData.segmentLength;\n          pathInfo.segments.push(bezierData);\n          totalLength += bezierData.segmentLength;\n        }\n\n        this._pathData.pi = pathInfo;\n      }\n\n      pathInfo = this._pathData.pi;\n      currentLength = this._pathData.f.v;\n      segmentInd = 0;\n      pointInd = 1;\n      segmentLength = 0;\n      flag = true;\n      segments = pathInfo.segments;\n\n      if (currentLength < 0 && mask.v.c) {\n        if (pathInfo.tLength < Math.abs(currentLength)) {\n          currentLength = -Math.abs(currentLength) % pathInfo.tLength;\n        }\n\n        segmentInd = segments.length - 1;\n        points = segments[segmentInd].points;\n        pointInd = points.length - 1;\n\n        while (currentLength < 0) {\n          currentLength += points[pointInd].partialLength;\n          pointInd -= 1;\n\n          if (pointInd < 0) {\n            segmentInd -= 1;\n            points = segments[segmentInd].points;\n            pointInd = points.length - 1;\n          }\n        }\n      }\n\n      points = segments[segmentInd].points;\n      prevPoint = points[pointInd - 1];\n      currentPoint = points[pointInd];\n      partialLength = currentPoint.partialLength;\n    }\n\n    len = letters.length;\n    xPos = 0;\n    yPos = 0;\n    var yOff = documentData.finalSize * 1.2 * 0.714;\n    var firstLine = true;\n    var animatorProps;\n    var animatorSelector;\n    var j;\n    var jLen;\n    var letterValue;\n    jLen = animators.length;\n    var mult;\n    var ind = -1;\n    var offf;\n    var xPathPos;\n    var yPathPos;\n    var initPathPos = currentLength;\n    var initSegmentInd = segmentInd;\n    var initPointInd = pointInd;\n    var currentLine = -1;\n    var elemOpacity;\n    var sc;\n    var sw;\n    var fc;\n    var k;\n    var letterSw;\n    var letterSc;\n    var letterFc;\n    var letterM = '';\n    var letterP = this.defaultPropsArray;\n    var letterO; //\n\n    if (documentData.j === 2 || documentData.j === 1) {\n      var animatorJustifyOffset = 0;\n      var animatorFirstCharOffset = 0;\n      var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\n      var lastIndex = 0;\n      var isNewLine = true;\n\n      for (i = 0; i < len; i += 1) {\n        if (letters[i].n) {\n          if (animatorJustifyOffset) {\n            animatorJustifyOffset += animatorFirstCharOffset;\n          }\n\n          while (lastIndex < i) {\n            letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n            lastIndex += 1;\n          }\n\n          animatorJustifyOffset = 0;\n          isNewLine = true;\n        } else {\n          for (j = 0; j < jLen; j += 1) {\n            animatorProps = animators[j].a;\n\n            if (animatorProps.t.propType) {\n              if (isNewLine && documentData.j === 2) {\n                animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\n              }\n\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;\n              } else {\n                animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;\n              }\n            }\n          }\n\n          isNewLine = false;\n        }\n      }\n\n      if (animatorJustifyOffset) {\n        animatorJustifyOffset += animatorFirstCharOffset;\n      }\n\n      while (lastIndex < i) {\n        letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n        lastIndex += 1;\n      }\n    } //\n\n\n    for (i = 0; i < len; i += 1) {\n      matrixHelper.reset();\n      elemOpacity = 1;\n\n      if (letters[i].n) {\n        xPos = 0;\n        yPos += documentData.yOffset;\n        yPos += firstLine ? 1 : 0;\n        currentLength = initPathPos;\n        firstLine = false;\n\n        if (this._hasMaskedPath) {\n          segmentInd = initSegmentInd;\n          pointInd = initPointInd;\n          points = segments[segmentInd].points;\n          prevPoint = points[pointInd - 1];\n          currentPoint = points[pointInd];\n          partialLength = currentPoint.partialLength;\n          segmentLength = 0;\n        }\n\n        letterM = '';\n        letterFc = '';\n        letterSw = '';\n        letterO = '';\n        letterP = this.defaultPropsArray;\n      } else {\n        if (this._hasMaskedPath) {\n          if (currentLine !== letters[i].line) {\n            switch (documentData.j) {\n              case 1:\n                currentLength += totalLength - documentData.lineWidths[letters[i].line];\n                break;\n\n              case 2:\n                currentLength += (totalLength - documentData.lineWidths[letters[i].line]) / 2;\n                break;\n\n              default:\n                break;\n            }\n\n            currentLine = letters[i].line;\n          }\n\n          if (ind !== letters[i].ind) {\n            if (letters[ind]) {\n              currentLength += letters[ind].extra;\n            }\n\n            currentLength += letters[i].an / 2;\n            ind = letters[i].ind;\n          }\n\n          currentLength += alignment[0] * letters[i].an * 0.005;\n          var animatorOffset = 0;\n\n          for (j = 0; j < jLen; j += 1) {\n            animatorProps = animators[j].a;\n\n            if (animatorProps.p.propType) {\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorOffset += animatorProps.p.v[0] * mult[0];\n              } else {\n                animatorOffset += animatorProps.p.v[0] * mult;\n              }\n            }\n\n            if (animatorProps.a.propType) {\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorOffset += animatorProps.a.v[0] * mult[0];\n              } else {\n                animatorOffset += animatorProps.a.v[0] * mult;\n              }\n            }\n          }\n\n          flag = true; // Force alignment only works with a single line for now\n\n          if (this._pathData.a.v) {\n            currentLength = letters[0].an * 0.5 + (totalLength - this._pathData.f.v - letters[0].an * 0.5 - letters[letters.length - 1].an * 0.5) * ind / (len - 1);\n            currentLength += this._pathData.f.v;\n          }\n\n          while (flag) {\n            if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\n              perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\n              xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\n              yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\n              matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -(alignment[1] * yOff) * 0.01);\n              flag = false;\n            } else if (points) {\n              segmentLength += currentPoint.partialLength;\n              pointInd += 1;\n\n              if (pointInd >= points.length) {\n                pointInd = 0;\n                segmentInd += 1;\n\n                if (!segments[segmentInd]) {\n                  if (mask.v.c) {\n                    pointInd = 0;\n                    segmentInd = 0;\n                    points = segments[segmentInd].points;\n                  } else {\n                    segmentLength -= currentPoint.partialLength;\n                    points = null;\n                  }\n                } else {\n                  points = segments[segmentInd].points;\n                }\n              }\n\n              if (points) {\n                prevPoint = currentPoint;\n                currentPoint = points[pointInd];\n                partialLength = currentPoint.partialLength;\n              }\n            }\n          }\n\n          offf = letters[i].an / 2 - letters[i].add;\n          matrixHelper.translate(-offf, 0, 0);\n        } else {\n          offf = letters[i].an / 2 - letters[i].add;\n          matrixHelper.translate(-offf, 0, 0); // Grouping alignment\n\n          matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -alignment[1] * yOff * 0.01, 0);\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.t.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars); // This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\n\n            if (xPos !== 0 || documentData.j !== 0) {\n              if (this._hasMaskedPath) {\n                if (mult.length) {\n                  currentLength += animatorProps.t.v * mult[0];\n                } else {\n                  currentLength += animatorProps.t.v * mult;\n                }\n              } else if (mult.length) {\n                xPos += animatorProps.t.v * mult[0];\n              } else {\n                xPos += animatorProps.t.v * mult;\n              }\n            }\n          }\n        }\n\n        if (documentData.strokeWidthAnim) {\n          sw = documentData.sw || 0;\n        }\n\n        if (documentData.strokeColorAnim) {\n          if (documentData.sc) {\n            sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\n          } else {\n            sc = [0, 0, 0];\n          }\n        }\n\n        if (documentData.fillColorAnim && documentData.fc) {\n          fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.a.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (mult.length) {\n              matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);\n            } else {\n              matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.s.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (mult.length) {\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult[0], 1 + (animatorProps.s.v[1] - 1) * mult[1], 1);\n            } else {\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult, 1 + (animatorProps.s.v[1] - 1) * mult, 1);\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n          animatorSelector = animators[j].s;\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n          if (animatorProps.sk.propType) {\n            if (mult.length) {\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\n            } else {\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\n            }\n          }\n\n          if (animatorProps.r.propType) {\n            if (mult.length) {\n              matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\n            } else {\n              matrixHelper.rotateZ(-animatorProps.r.v * mult);\n            }\n          }\n\n          if (animatorProps.ry.propType) {\n            if (mult.length) {\n              matrixHelper.rotateY(animatorProps.ry.v * mult[1]);\n            } else {\n              matrixHelper.rotateY(animatorProps.ry.v * mult);\n            }\n          }\n\n          if (animatorProps.rx.propType) {\n            if (mult.length) {\n              matrixHelper.rotateX(animatorProps.rx.v * mult[0]);\n            } else {\n              matrixHelper.rotateX(animatorProps.rx.v * mult);\n            }\n          }\n\n          if (animatorProps.o.propType) {\n            if (mult.length) {\n              elemOpacity += (animatorProps.o.v * mult[0] - elemOpacity) * mult[0];\n            } else {\n              elemOpacity += (animatorProps.o.v * mult - elemOpacity) * mult;\n            }\n          }\n\n          if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\n            if (mult.length) {\n              sw += animatorProps.sw.v * mult[0];\n            } else {\n              sw += animatorProps.sw.v * mult;\n            }\n          }\n\n          if (documentData.strokeColorAnim && animatorProps.sc.propType) {\n            for (k = 0; k < 3; k += 1) {\n              if (mult.length) {\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult[0];\n              } else {\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult;\n              }\n            }\n          }\n\n          if (documentData.fillColorAnim && documentData.fc) {\n            if (animatorProps.fc.propType) {\n              for (k = 0; k < 3; k += 1) {\n                if (mult.length) {\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult[0];\n                } else {\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult;\n                }\n              }\n            }\n\n            if (animatorProps.fh.propType) {\n              if (mult.length) {\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);\n              } else {\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult);\n              }\n            }\n\n            if (animatorProps.fs.propType) {\n              if (mult.length) {\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);\n              } else {\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);\n              }\n            }\n\n            if (animatorProps.fb.propType) {\n              if (mult.length) {\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);\n              } else {\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);\n              }\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.p.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (this._hasMaskedPath) {\n              if (mult.length) {\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\n              } else {\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n              }\n            } else if (mult.length) {\n              matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\n            } else {\n              matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n            }\n          }\n        }\n\n        if (documentData.strokeWidthAnim) {\n          letterSw = sw < 0 ? 0 : sw;\n        }\n\n        if (documentData.strokeColorAnim) {\n          letterSc = 'rgb(' + Math.round(sc[0] * 255) + ',' + Math.round(sc[1] * 255) + ',' + Math.round(sc[2] * 255) + ')';\n        }\n\n        if (documentData.fillColorAnim && documentData.fc) {\n          letterFc = 'rgb(' + Math.round(fc[0] * 255) + ',' + Math.round(fc[1] * 255) + ',' + Math.round(fc[2] * 255) + ')';\n        }\n\n        if (this._hasMaskedPath) {\n          matrixHelper.translate(0, -documentData.ls);\n          matrixHelper.translate(0, alignment[1] * yOff * 0.01 + yPos, 0);\n\n          if (this._pathData.p.v) {\n            tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\n            var rot = Math.atan(tanAngle) * 180 / Math.PI;\n\n            if (currentPoint.point[0] < prevPoint.point[0]) {\n              rot += 180;\n            }\n\n            matrixHelper.rotate(-rot * Math.PI / 180);\n          }\n\n          matrixHelper.translate(xPathPos, yPathPos, 0);\n          currentLength -= alignment[0] * letters[i].an * 0.005;\n\n          if (letters[i + 1] && ind !== letters[i + 1].ind) {\n            currentLength += letters[i].an / 2;\n            currentLength += documentData.tr * 0.001 * documentData.finalSize;\n          }\n        } else {\n          matrixHelper.translate(xPos, yPos, 0);\n\n          if (documentData.ps) {\n            // matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\n            matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n          }\n\n          switch (documentData.j) {\n            case 1:\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]), 0, 0);\n              break;\n\n            case 2:\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]) / 2, 0, 0);\n              break;\n\n            default:\n              break;\n          }\n\n          matrixHelper.translate(0, -documentData.ls);\n          matrixHelper.translate(offf, 0, 0);\n          matrixHelper.translate(alignment[0] * letters[i].an * 0.005, alignment[1] * yOff * 0.01, 0);\n          xPos += letters[i].l + documentData.tr * 0.001 * documentData.finalSize;\n        }\n\n        if (renderType === 'html') {\n          letterM = matrixHelper.toCSS();\n        } else if (renderType === 'svg') {\n          letterM = matrixHelper.to2dCSS();\n        } else {\n          letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];\n        }\n\n        letterO = elemOpacity;\n      }\n\n      if (renderedLettersCount <= i) {\n        letterValue = new LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);\n        this.renderedLetters.push(letterValue);\n        renderedLettersCount += 1;\n        this.lettersChangedFlag = true;\n      } else {\n        letterValue = this.renderedLetters[i];\n        this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\n      }\n    }\n  };\n\n  TextAnimatorProperty.prototype.getValue = function () {\n    if (this._elem.globalData.frameId === this._frameId) {\n      return;\n    }\n\n    this._frameId = this._elem.globalData.frameId;\n    this.iterateDynamicProperties();\n  };\n\n  TextAnimatorProperty.prototype.mHelper = new Matrix();\n  TextAnimatorProperty.prototype.defaultPropsArray = [];\n  extendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\n\n  function ITextElement() {}\n\n  ITextElement.prototype.initElement = function (data, globalData, comp) {\n    this.lettersChangedFlag = true;\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\n    this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\n    this.initTransform(data, globalData, comp);\n    this.initHierarchy();\n    this.initRenderable();\n    this.initRendererElement();\n    this.createContainerElements();\n    this.createRenderableComponents();\n    this.createContent();\n    this.hide();\n    this.textAnimator.searchProperties(this.dynamicProperties);\n  };\n\n  ITextElement.prototype.prepareFrame = function (num) {\n    this._mdf = false;\n    this.prepareRenderableFrame(num);\n    this.prepareProperties(num, this.isInRange);\n\n    if (this.textProperty._mdf || this.textProperty._isFirstFrame) {\n      this.buildNewText();\n      this.textProperty._isFirstFrame = false;\n      this.textProperty._mdf = false;\n    }\n  };\n\n  ITextElement.prototype.createPathShape = function (matrixHelper, shapes) {\n    var j;\n    var jLen = shapes.length;\n    var pathNodes;\n    var shapeStr = '';\n\n    for (j = 0; j < jLen; j += 1) {\n      if (shapes[j].ty === 'sh') {\n        pathNodes = shapes[j].ks.k;\n        shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\n      }\n    }\n\n    return shapeStr;\n  };\n\n  ITextElement.prototype.updateDocumentData = function (newData, index) {\n    this.textProperty.updateDocumentData(newData, index);\n  };\n\n  ITextElement.prototype.canResizeFont = function (_canResize) {\n    this.textProperty.canResizeFont(_canResize);\n  };\n\n  ITextElement.prototype.setMinimumFontSize = function (_fontSize) {\n    this.textProperty.setMinimumFontSize(_fontSize);\n  };\n\n  ITextElement.prototype.applyTextPropertiesToMatrix = function (documentData, matrixHelper, lineNumber, xPos, yPos) {\n    if (documentData.ps) {\n      matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n    }\n\n    matrixHelper.translate(0, -documentData.ls, 0);\n\n    switch (documentData.j) {\n      case 1:\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);\n        break;\n\n      case 2:\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);\n        break;\n\n      default:\n        break;\n    }\n\n    matrixHelper.translate(xPos, yPos, 0);\n  };\n\n  ITextElement.prototype.buildColor = function (colorData) {\n    return 'rgb(' + Math.round(colorData[0] * 255) + ',' + Math.round(colorData[1] * 255) + ',' + Math.round(colorData[2] * 255) + ')';\n  };\n\n  ITextElement.prototype.emptyProp = new LetterProps();\n\n  ITextElement.prototype.destroy = function () {};\n\n  var emptyShapeData = {\n    shapes: []\n  };\n\n  function SVGTextLottieElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.renderType = 'svg';\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextLottieElement);\n\n  SVGTextLottieElement.prototype.createContent = function () {\n    if (this.data.singleShape && !this.globalData.fontManager.chars) {\n      this.textContainer = createNS('text');\n    }\n  };\n\n  SVGTextLottieElement.prototype.buildTextContents = function (textArray) {\n    var i = 0;\n    var len = textArray.length;\n    var textContents = [];\n    var currentTextContent = '';\n\n    while (i < len) {\n      if (textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\n        textContents.push(currentTextContent);\n        currentTextContent = '';\n      } else {\n        currentTextContent += textArray[i];\n      }\n\n      i += 1;\n    }\n\n    textContents.push(currentTextContent);\n    return textContents;\n  };\n\n  SVGTextLottieElement.prototype.buildShapeData = function (data, scale) {\n    // data should probably be cloned to apply scale separately to each instance of a text on different layers\n    // but since text internal content gets only rendered once and then it's never rerendered,\n    // it's probably safe not to clone data and reuse always the same instance even if the object is mutated.\n    // Avoiding cloning is preferred since cloning each character shape data is expensive\n    if (data.shapes && data.shapes.length) {\n      var shape = data.shapes[0];\n\n      if (shape.it) {\n        var shapeItem = shape.it[shape.it.length - 1];\n\n        if (shapeItem.s) {\n          shapeItem.s.k[0] = scale;\n          shapeItem.s.k[1] = scale;\n        }\n      }\n    }\n\n    return data;\n  };\n\n  SVGTextLottieElement.prototype.buildNewText = function () {\n    this.addDynamicProperty(this);\n    var i;\n    var len;\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\n\n    if (documentData.fc) {\n      this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\n    } else {\n      this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\n    }\n\n    if (documentData.sc) {\n      this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\n      this.layerElement.setAttribute('stroke-width', documentData.sw);\n    }\n\n    this.layerElement.setAttribute('font-size', documentData.finalSize);\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n\n    if (fontData.fClass) {\n      this.layerElement.setAttribute('class', fontData.fClass);\n    } else {\n      this.layerElement.setAttribute('font-family', fontData.fFamily);\n      var fWeight = documentData.fWeight;\n      var fStyle = documentData.fStyle;\n      this.layerElement.setAttribute('font-style', fStyle);\n      this.layerElement.setAttribute('font-weight', fWeight);\n    }\n\n    this.layerElement.setAttribute('aria-label', documentData.t);\n    var letters = documentData.l || [];\n    var usesGlyphs = !!this.globalData.fontManager.chars;\n    len = letters.length;\n    var tSpan;\n    var matrixHelper = this.mHelper;\n    var shapeStr = '';\n    var singleShape = this.data.singleShape;\n    var xPos = 0;\n    var yPos = 0;\n    var firstLine = true;\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\n\n    if (singleShape && !usesGlyphs && !documentData.sz) {\n      var tElement = this.textContainer;\n      var justify = 'start';\n\n      switch (documentData.j) {\n        case 1:\n          justify = 'end';\n          break;\n\n        case 2:\n          justify = 'middle';\n          break;\n\n        default:\n          justify = 'start';\n          break;\n      }\n\n      tElement.setAttribute('text-anchor', justify);\n      tElement.setAttribute('letter-spacing', trackingOffset);\n      var textContent = this.buildTextContents(documentData.finalText);\n      len = textContent.length;\n      yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\n\n      for (i = 0; i < len; i += 1) {\n        tSpan = this.textSpans[i].span || createNS('tspan');\n        tSpan.textContent = textContent[i];\n        tSpan.setAttribute('x', 0);\n        tSpan.setAttribute('y', yPos);\n        tSpan.style.display = 'inherit';\n        tElement.appendChild(tSpan);\n\n        if (!this.textSpans[i]) {\n          this.textSpans[i] = {\n            span: null,\n            glyph: null\n          };\n        }\n\n        this.textSpans[i].span = tSpan;\n        yPos += documentData.finalLineHeight;\n      }\n\n      this.layerElement.appendChild(tElement);\n    } else {\n      var cachedSpansLength = this.textSpans.length;\n      var charData;\n\n      for (i = 0; i < len; i += 1) {\n        if (!this.textSpans[i]) {\n          this.textSpans[i] = {\n            span: null,\n            childSpan: null,\n            glyph: null\n          };\n        }\n\n        if (!usesGlyphs || !singleShape || i === 0) {\n          tSpan = cachedSpansLength > i ? this.textSpans[i].span : createNS(usesGlyphs ? 'g' : 'text');\n\n          if (cachedSpansLength <= i) {\n            tSpan.setAttribute('stroke-linecap', 'butt');\n            tSpan.setAttribute('stroke-linejoin', 'round');\n            tSpan.setAttribute('stroke-miterlimit', '4');\n            this.textSpans[i].span = tSpan;\n\n            if (usesGlyphs) {\n              var childSpan = createNS('g');\n              tSpan.appendChild(childSpan);\n              this.textSpans[i].childSpan = childSpan;\n            }\n\n            this.textSpans[i].span = tSpan;\n            this.layerElement.appendChild(tSpan);\n          }\n\n          tSpan.style.display = 'inherit';\n        }\n\n        matrixHelper.reset();\n\n        if (singleShape) {\n          if (letters[i].n) {\n            xPos = -trackingOffset;\n            yPos += documentData.yOffset;\n            yPos += firstLine ? 1 : 0;\n            firstLine = false;\n          }\n\n          this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n          xPos += letters[i].l || 0; // xPos += letters[i].val === ' ' ? 0 : trackingOffset;\n\n          xPos += trackingOffset;\n        }\n\n        if (usesGlyphs) {\n          charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n          var glyphElement; // t === 1 means the character has been replaced with an animated shaped\n\n          if (charData.t === 1) {\n            glyphElement = new SVGCompElement(charData.data, this.globalData, this);\n          } else {\n            var data = emptyShapeData;\n\n            if (charData.data && charData.data.shapes) {\n              data = this.buildShapeData(charData.data, documentData.finalSize);\n            }\n\n            glyphElement = new SVGShapeElement(data, this.globalData, this);\n          }\n\n          if (this.textSpans[i].glyph) {\n            var glyph = this.textSpans[i].glyph;\n            this.textSpans[i].childSpan.removeChild(glyph.layerElement);\n            glyph.destroy();\n          }\n\n          this.textSpans[i].glyph = glyphElement;\n          glyphElement._debug = true;\n          glyphElement.prepareFrame(0);\n          glyphElement.renderFrame();\n          this.textSpans[i].childSpan.appendChild(glyphElement.layerElement); // when using animated shapes, the layer will be scaled instead of replacing the internal scale\n          // this might have issues with strokes and might need a different solution\n\n          if (charData.t === 1) {\n            this.textSpans[i].childSpan.setAttribute('transform', 'scale(' + documentData.finalSize / 100 + ',' + documentData.finalSize / 100 + ')');\n          }\n        } else {\n          if (singleShape) {\n            tSpan.setAttribute('transform', 'translate(' + matrixHelper.props[12] + ',' + matrixHelper.props[13] + ')');\n          }\n\n          tSpan.textContent = letters[i].val;\n          tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n        } //\n\n      }\n\n      if (singleShape && tSpan) {\n        tSpan.setAttribute('d', shapeStr);\n      }\n    }\n\n    while (i < this.textSpans.length) {\n      this.textSpans[i].span.style.display = 'none';\n      i += 1;\n    }\n\n    this._sizeChanged = true;\n  };\n\n  SVGTextLottieElement.prototype.sourceRectAtTime = function () {\n    this.prepareFrame(this.comp.renderedFrame - this.data.st);\n    this.renderInnerContent();\n\n    if (this._sizeChanged) {\n      this._sizeChanged = false;\n      var textBox = this.layerElement.getBBox();\n      this.bbox = {\n        top: textBox.y,\n        left: textBox.x,\n        width: textBox.width,\n        height: textBox.height\n      };\n    }\n\n    return this.bbox;\n  };\n\n  SVGTextLottieElement.prototype.getValue = function () {\n    var i;\n    var len = this.textSpans.length;\n    var glyphElement;\n    this.renderedFrame = this.comp.renderedFrame;\n\n    for (i = 0; i < len; i += 1) {\n      glyphElement = this.textSpans[i].glyph;\n\n      if (glyphElement) {\n        glyphElement.prepareFrame(this.comp.renderedFrame - this.data.st);\n\n        if (glyphElement._mdf) {\n          this._mdf = true;\n        }\n      }\n    }\n  };\n\n  SVGTextLottieElement.prototype.renderInnerContent = function () {\n    if (!this.data.singleShape || this._mdf) {\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n\n      if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {\n        this._sizeChanged = true;\n        var i;\n        var len;\n        var renderedLetters = this.textAnimator.renderedLetters;\n        var letters = this.textProperty.currentData.l;\n        len = letters.length;\n        var renderedLetter;\n        var textSpan;\n        var glyphElement;\n\n        for (i = 0; i < len; i += 1) {\n          if (!letters[i].n) {\n            renderedLetter = renderedLetters[i];\n            textSpan = this.textSpans[i].span;\n            glyphElement = this.textSpans[i].glyph;\n\n            if (glyphElement) {\n              glyphElement.renderFrame();\n            }\n\n            if (renderedLetter._mdf.m) {\n              textSpan.setAttribute('transform', renderedLetter.m);\n            }\n\n            if (renderedLetter._mdf.o) {\n              textSpan.setAttribute('opacity', renderedLetter.o);\n            }\n\n            if (renderedLetter._mdf.sw) {\n              textSpan.setAttribute('stroke-width', renderedLetter.sw);\n            }\n\n            if (renderedLetter._mdf.sc) {\n              textSpan.setAttribute('stroke', renderedLetter.sc);\n            }\n\n            if (renderedLetter._mdf.fc) {\n              textSpan.setAttribute('fill', renderedLetter.fc);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  function ISolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([IImageElement], ISolidElement);\n\n  ISolidElement.prototype.createContent = function () {\n    var rect = createNS('rect'); /// /rect.style.width = this.data.sw;\n    /// /rect.style.height = this.data.sh;\n    /// /rect.style.fill = this.data.sc;\n\n    rect.setAttribute('width', this.data.sw);\n    rect.setAttribute('height', this.data.sh);\n    rect.setAttribute('fill', this.data.sc);\n    this.layerElement.appendChild(rect);\n  };\n\n  function NullElement(data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initFrame();\n    this.initTransform(data, globalData, comp);\n    this.initHierarchy();\n  }\n\n  NullElement.prototype.prepareFrame = function (num) {\n    this.prepareProperties(num, true);\n  };\n\n  NullElement.prototype.renderFrame = function () {};\n\n  NullElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  NullElement.prototype.destroy = function () {};\n\n  NullElement.prototype.sourceRectAtTime = function () {};\n\n  NullElement.prototype.hide = function () {};\n\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement);\n\n  function SVGRendererBase() {}\n\n  extendPrototype([BaseRenderer], SVGRendererBase);\n\n  SVGRendererBase.prototype.createNull = function (data) {\n    return new NullElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createShape = function (data) {\n    return new SVGShapeElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createText = function (data) {\n    return new SVGTextLottieElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createImage = function (data) {\n    return new IImageElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createSolid = function (data) {\n    return new ISolidElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.configAnimation = function (animData) {\n    this.svgElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n\n    if (this.renderConfig.viewBoxSize) {\n      this.svgElement.setAttribute('viewBox', this.renderConfig.viewBoxSize);\n    } else {\n      this.svgElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\n    }\n\n    if (!this.renderConfig.viewBoxOnly) {\n      this.svgElement.setAttribute('width', animData.w);\n      this.svgElement.setAttribute('height', animData.h);\n      this.svgElement.style.width = '100%';\n      this.svgElement.style.height = '100%';\n      this.svgElement.style.transform = 'translate3d(0,0,0)';\n      this.svgElement.style.contentVisibility = this.renderConfig.contentVisibility;\n    }\n\n    if (this.renderConfig.width) {\n      this.svgElement.setAttribute('width', this.renderConfig.width);\n    }\n\n    if (this.renderConfig.height) {\n      this.svgElement.setAttribute('height', this.renderConfig.height);\n    }\n\n    if (this.renderConfig.className) {\n      this.svgElement.setAttribute('class', this.renderConfig.className);\n    }\n\n    if (this.renderConfig.id) {\n      this.svgElement.setAttribute('id', this.renderConfig.id);\n    }\n\n    if (this.renderConfig.focusable !== undefined) {\n      this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\n    }\n\n    this.svgElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio); // this.layerElement.style.transform = 'translate3d(0,0,0)';\n    // this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\n\n    this.animationItem.wrapper.appendChild(this.svgElement); // Mask animation\n\n    var defs = this.globalData.defs;\n    this.setupGlobalData(animData, defs);\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.data = animData;\n    var maskElement = createNS('clipPath');\n    var rect = createNS('rect');\n    rect.setAttribute('width', animData.w);\n    rect.setAttribute('height', animData.h);\n    rect.setAttribute('x', 0);\n    rect.setAttribute('y', 0);\n    var maskId = createElementID();\n    maskElement.setAttribute('id', maskId);\n    maskElement.appendChild(rect);\n    this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + maskId + ')');\n    defs.appendChild(maskElement);\n    this.layers = animData.layers;\n    this.elements = createSizedArray(animData.layers.length);\n  };\n\n  SVGRendererBase.prototype.destroy = function () {\n    if (this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    this.layerElement = null;\n    this.globalData.defs = null;\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n  };\n\n  SVGRendererBase.prototype.updateContainerSize = function () {};\n\n  SVGRendererBase.prototype.buildItem = function (pos) {\n    var elements = this.elements;\n\n    if (elements[pos] || this.layers[pos].ty === 99) {\n      return;\n    }\n\n    elements[pos] = true;\n    var element = this.createItem(this.layers[pos]);\n    elements[pos] = element;\n\n    if (getExpressionsPlugin()) {\n      if (this.layers[pos].ty === 0) {\n        this.globalData.projectInterface.registerComposition(element);\n      }\n\n      element.initExpressions();\n    }\n\n    this.appendElementInPos(element, pos);\n\n    if (this.layers[pos].tt) {\n      if (!this.elements[pos - 1] || this.elements[pos - 1] === true) {\n        this.buildItem(pos - 1);\n        this.addPendingElement(element);\n      } else {\n        element.setMatte(elements[pos - 1].layerId);\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n\n      if (element.data.tt) {\n        var i = 0;\n        var len = this.elements.length;\n\n        while (i < len) {\n          if (this.elements[i] === element) {\n            element.setMatte(this.elements[i - 1].layerId);\n            break;\n          }\n\n          i += 1;\n        }\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.renderFrame = function (num) {\n    if (this.renderedFrame === num || this.destroyed) {\n      return;\n    }\n\n    if (num === null) {\n      num = this.renderedFrame;\n    } else {\n      this.renderedFrame = num;\n    } // console.log('-------');\n    // console.log('FRAME ',num);\n\n\n    this.globalData.frameNum = num;\n    this.globalData.frameId += 1;\n    this.globalData.projectInterface.currentFrame = num;\n    this.globalData._mdf = false;\n    var i;\n    var len = this.layers.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(num);\n    }\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(num - this.layers[i].st);\n      }\n    }\n\n    if (this.globalData._mdf) {\n      for (i = 0; i < len; i += 1) {\n        if (this.completeLayers || this.elements[i]) {\n          this.elements[i].renderFrame();\n        }\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.appendElementInPos = function (element, pos) {\n    var newElement = element.getBaseElement();\n\n    if (!newElement) {\n      return;\n    }\n\n    var i = 0;\n    var nextElement;\n\n    while (i < pos) {\n      if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement()) {\n        nextElement = this.elements[i].getBaseElement();\n      }\n\n      i += 1;\n    }\n\n    if (nextElement) {\n      this.layerElement.insertBefore(newElement, nextElement);\n    } else {\n      this.layerElement.appendChild(newElement);\n    }\n  };\n\n  SVGRendererBase.prototype.hide = function () {\n    this.layerElement.style.display = 'none';\n  };\n\n  SVGRendererBase.prototype.show = function () {\n    this.layerElement.style.display = 'block';\n  };\n\n  function ICompElement() {}\n\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\n\n  ICompElement.prototype.initElement = function (data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initTransform(data, globalData, comp);\n    this.initRenderable();\n    this.initHierarchy();\n    this.initRendererElement();\n    this.createContainerElements();\n    this.createRenderableComponents();\n\n    if (this.data.xt || !globalData.progressiveLoad) {\n      this.buildAllItems();\n    }\n\n    this.hide();\n  };\n  /* ICompElement.prototype.hide = function(){\r\n      if(!this.hidden){\r\n          this.hideElement();\r\n          var i,len = this.elements.length;\r\n          for( i = 0; i < len; i+=1 ){\r\n              if(this.elements[i]){\r\n                  this.elements[i].hide();\r\n              }\r\n          }\r\n      }\r\n  }; */\n\n\n  ICompElement.prototype.prepareFrame = function (num) {\n    this._mdf = false;\n    this.prepareRenderableFrame(num);\n    this.prepareProperties(num, this.isInRange);\n\n    if (!this.isInRange && !this.data.xt) {\n      return;\n    }\n\n    if (!this.tm._placeholder) {\n      var timeRemapped = this.tm.v;\n\n      if (timeRemapped === this.data.op) {\n        timeRemapped = this.data.op - 1;\n      }\n\n      this.renderedFrame = timeRemapped;\n    } else {\n      this.renderedFrame = num / this.data.sr;\n    }\n\n    var i;\n    var len = this.elements.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(this.renderedFrame);\n    } // This iteration needs to be backwards because of how expressions connect between each other\n\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\n\n        if (this.elements[i]._mdf) {\n          this._mdf = true;\n        }\n      }\n    }\n  };\n\n  ICompElement.prototype.renderInnerContent = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n  };\n\n  ICompElement.prototype.setElements = function (elems) {\n    this.elements = elems;\n  };\n\n  ICompElement.prototype.getElements = function () {\n    return this.elements;\n  };\n\n  ICompElement.prototype.destroyElements = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n  };\n\n  ICompElement.prototype.destroy = function () {\n    this.destroyElements();\n    this.destroyBaseElement();\n  };\n\n  function SVGCompElement(data, globalData, comp) {\n    this.layers = data.layers;\n    this.supports3d = true;\n    this.completeLayers = false;\n    this.pendingElements = [];\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([SVGRendererBase, ICompElement, SVGBaseElement], SVGCompElement);\n\n  SVGCompElement.prototype.createComp = function (data) {\n    return new SVGCompElement(data, this.globalData, this);\n  };\n\n  function SVGRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.svgElement = createNS('svg');\n    var ariaLabel = '';\n\n    if (config && config.title) {\n      var titleElement = createNS('title');\n      var titleId = createElementID();\n      titleElement.setAttribute('id', titleId);\n      titleElement.textContent = config.title;\n      this.svgElement.appendChild(titleElement);\n      ariaLabel += titleId;\n    }\n\n    if (config && config.description) {\n      var descElement = createNS('desc');\n      var descId = createElementID();\n      descElement.setAttribute('id', descId);\n      descElement.textContent = config.description;\n      this.svgElement.appendChild(descElement);\n      ariaLabel += ' ' + descId;\n    }\n\n    if (ariaLabel) {\n      this.svgElement.setAttribute('aria-labelledby', ariaLabel);\n    }\n\n    var defs = createNS('defs');\n    this.svgElement.appendChild(defs);\n    var maskElement = createNS('g');\n    this.svgElement.appendChild(maskElement);\n    this.layerElement = maskElement;\n    this.renderConfig = {\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      progressiveLoad: config && config.progressiveLoad || false,\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      viewBoxOnly: config && config.viewBoxOnly || false,\n      viewBoxSize: config && config.viewBoxSize || false,\n      className: config && config.className || '',\n      id: config && config.id || '',\n      focusable: config && config.focusable,\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '100%',\n        height: config && config.filterSize && config.filterSize.height || '100%',\n        x: config && config.filterSize && config.filterSize.x || '0%',\n        y: config && config.filterSize && config.filterSize.y || '0%'\n      },\n      width: config && config.width,\n      height: config && config.height\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      defs: defs,\n      renderConfig: this.renderConfig\n    };\n    this.elements = [];\n    this.pendingElements = [];\n    this.destroyed = false;\n    this.rendererType = 'svg';\n  }\n\n  extendPrototype([SVGRendererBase], SVGRenderer);\n\n  SVGRenderer.prototype.createComp = function (data) {\n    return new SVGCompElement(data, this.globalData, this);\n  };\n\n  function CVContextData() {\n    this.saved = [];\n    this.cArrPos = 0;\n    this.cTr = new Matrix();\n    this.cO = 1;\n    var i;\n    var len = 15;\n    this.savedOp = createTypedArray('float32', len);\n\n    for (i = 0; i < len; i += 1) {\n      this.saved[i] = createTypedArray('float32', 16);\n    }\n\n    this._length = len;\n  }\n\n  CVContextData.prototype.duplicate = function () {\n    var newLength = this._length * 2;\n    var currentSavedOp = this.savedOp;\n    this.savedOp = createTypedArray('float32', newLength);\n    this.savedOp.set(currentSavedOp);\n    var i = 0;\n\n    for (i = this._length; i < newLength; i += 1) {\n      this.saved[i] = createTypedArray('float32', 16);\n    }\n\n    this._length = newLength;\n  };\n\n  CVContextData.prototype.reset = function () {\n    this.cArrPos = 0;\n    this.cTr.reset();\n    this.cO = 1;\n  };\n\n  function ShapeTransformManager() {\n    this.sequences = {};\n    this.sequenceList = [];\n    this.transform_key_count = 0;\n  }\n\n  ShapeTransformManager.prototype = {\n    addTransformSequence: function addTransformSequence(transforms) {\n      var i;\n      var len = transforms.length;\n      var key = '_';\n\n      for (i = 0; i < len; i += 1) {\n        key += transforms[i].transform.key + '_';\n      }\n\n      var sequence = this.sequences[key];\n\n      if (!sequence) {\n        sequence = {\n          transforms: [].concat(transforms),\n          finalTransform: new Matrix(),\n          _mdf: false\n        };\n        this.sequences[key] = sequence;\n        this.sequenceList.push(sequence);\n      }\n\n      return sequence;\n    },\n    processSequence: function processSequence(sequence, isFirstFrame) {\n      var i = 0;\n      var len = sequence.transforms.length;\n      var _mdf = isFirstFrame;\n\n      while (i < len && !isFirstFrame) {\n        if (sequence.transforms[i].transform.mProps._mdf) {\n          _mdf = true;\n          break;\n        }\n\n        i += 1;\n      }\n\n      if (_mdf) {\n        var props;\n        sequence.finalTransform.reset();\n\n        for (i = len - 1; i >= 0; i -= 1) {\n          props = sequence.transforms[i].transform.mProps.v.props;\n          sequence.finalTransform.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\n        }\n      }\n\n      sequence._mdf = _mdf;\n    },\n    processSequences: function processSequences(isFirstFrame) {\n      var i;\n      var len = this.sequenceList.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.processSequence(this.sequenceList[i], isFirstFrame);\n      }\n    },\n    getNewKey: function getNewKey() {\n      this.transform_key_count += 1;\n      return '_' + this.transform_key_count;\n    }\n  };\n\n  function CVEffects() {}\n\n  CVEffects.prototype.renderFrame = function () {};\n\n  function CVMaskElement(data, element) {\n    this.data = data;\n    this.element = element;\n    this.masksProperties = this.data.masksProperties || [];\n    this.viewData = createSizedArray(this.masksProperties.length);\n    var i;\n    var len = this.masksProperties.length;\n    var hasMasks = false;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.masksProperties[i].mode !== 'n') {\n        hasMasks = true;\n      }\n\n      this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i], 3);\n    }\n\n    this.hasMasks = hasMasks;\n\n    if (hasMasks) {\n      this.element.addRenderableComponent(this);\n    }\n  }\n\n  CVMaskElement.prototype.renderFrame = function () {\n    if (!this.hasMasks) {\n      return;\n    }\n\n    var transform = this.element.finalTransform.mat;\n    var ctx = this.element.canvasContext;\n    var i;\n    var len = this.masksProperties.length;\n    var pt;\n    var pts;\n    var data;\n    ctx.beginPath();\n\n    for (i = 0; i < len; i += 1) {\n      if (this.masksProperties[i].mode !== 'n') {\n        if (this.masksProperties[i].inv) {\n          ctx.moveTo(0, 0);\n          ctx.lineTo(this.element.globalData.compSize.w, 0);\n          ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\n          ctx.lineTo(0, this.element.globalData.compSize.h);\n          ctx.lineTo(0, 0);\n        }\n\n        data = this.viewData[i].v;\n        pt = transform.applyToPointArray(data.v[0][0], data.v[0][1], 0);\n        ctx.moveTo(pt[0], pt[1]);\n        var j;\n        var jLen = data._length;\n\n        for (j = 1; j < jLen; j += 1) {\n          pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\n          ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n        }\n\n        pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\n        ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n      }\n    }\n\n    this.element.globalData.renderer.save(true);\n    ctx.clip();\n  };\n\n  CVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\n\n  CVMaskElement.prototype.destroy = function () {\n    this.element = null;\n  };\n\n  function CVBaseElement() {}\n\n  CVBaseElement.prototype = {\n    createElements: function createElements() {},\n    initRendererElement: function initRendererElement() {},\n    createContainerElements: function createContainerElements() {\n      this.canvasContext = this.globalData.canvasContext;\n      this.renderableEffectsManager = new CVEffects(this);\n    },\n    createContent: function createContent() {},\n    setBlendMode: function setBlendMode() {\n      var globalData = this.globalData;\n\n      if (globalData.blendMode !== this.data.bm) {\n        globalData.blendMode = this.data.bm;\n        var blendModeValue = getBlendMode(this.data.bm);\n        globalData.canvasContext.globalCompositeOperation = blendModeValue;\n      }\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new CVMaskElement(this.data, this);\n    },\n    hideElement: function hideElement() {\n      if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n        this.hidden = true;\n      }\n    },\n    showElement: function showElement() {\n      if (this.isInRange && !this.isTransparent) {\n        this.hidden = false;\n        this._isFirstFrame = true;\n        this.maskManager._isFirstFrame = true;\n      }\n    },\n    renderFrame: function renderFrame() {\n      if (this.hidden || this.data.hd) {\n        return;\n      }\n\n      this.renderTransform();\n      this.renderRenderable();\n      this.setBlendMode();\n      var forceRealStack = this.data.ty === 0;\n      this.globalData.renderer.save(forceRealStack);\n      this.globalData.renderer.ctxTransform(this.finalTransform.mat.props);\n      this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v);\n      this.renderInnerContent();\n      this.globalData.renderer.restore(forceRealStack);\n\n      if (this.maskManager.hasMasks) {\n        this.globalData.renderer.restore(true);\n      }\n\n      if (this._isFirstFrame) {\n        this._isFirstFrame = false;\n      }\n    },\n    destroy: function destroy() {\n      this.canvasContext = null;\n      this.data = null;\n      this.globalData = null;\n      this.maskManager.destroy();\n    },\n    mHelper: new Matrix()\n  };\n  CVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\n  CVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\n\n  function CVShapeData(element, data, styles, transformsManager) {\n    this.styledShapes = [];\n    this.tr = [0, 0, 0, 0, 0, 0];\n    var ty = 4;\n\n    if (data.ty === 'rc') {\n      ty = 5;\n    } else if (data.ty === 'el') {\n      ty = 6;\n    } else if (data.ty === 'sr') {\n      ty = 7;\n    }\n\n    this.sh = ShapePropertyFactory.getShapeProp(element, data, ty, element);\n    var i;\n    var len = styles.length;\n    var styledShape;\n\n    for (i = 0; i < len; i += 1) {\n      if (!styles[i].closed) {\n        styledShape = {\n          transforms: transformsManager.addTransformSequence(styles[i].transforms),\n          trNodes: []\n        };\n        this.styledShapes.push(styledShape);\n        styles[i].elements.push(styledShape);\n      }\n    }\n  }\n\n  CVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\n\n  function CVShapeElement(data, globalData, comp) {\n    this.shapes = [];\n    this.shapesData = data.shapes;\n    this.stylesList = [];\n    this.itemsData = [];\n    this.prevViewData = [];\n    this.shapeModifiers = [];\n    this.processedElements = [];\n    this.transformsManager = new ShapeTransformManager();\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement);\n  CVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\n  CVShapeElement.prototype.transformHelper = {\n    opacity: 1,\n    _opMdf: false\n  };\n  CVShapeElement.prototype.dashResetter = [];\n\n  CVShapeElement.prototype.createContent = function () {\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n  };\n\n  CVShapeElement.prototype.createStyleElement = function (data, transforms) {\n    var styleElem = {\n      data: data,\n      type: data.ty,\n      preTransforms: this.transformsManager.addTransformSequence(transforms),\n      transforms: [],\n      elements: [],\n      closed: data.hd === true\n    };\n    var elementData = {};\n\n    if (data.ty === 'fl' || data.ty === 'st') {\n      elementData.c = PropertyFactory.getProp(this, data.c, 1, 255, this);\n\n      if (!elementData.c.k) {\n        styleElem.co = 'rgb(' + bmFloor(elementData.c.v[0]) + ',' + bmFloor(elementData.c.v[1]) + ',' + bmFloor(elementData.c.v[2]) + ')';\n      }\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      elementData.s = PropertyFactory.getProp(this, data.s, 1, null, this);\n      elementData.e = PropertyFactory.getProp(this, data.e, 1, null, this);\n      elementData.h = PropertyFactory.getProp(this, data.h || {\n        k: 0\n      }, 0, 0.01, this);\n      elementData.a = PropertyFactory.getProp(this, data.a || {\n        k: 0\n      }, 0, degToRads, this);\n      elementData.g = new GradientProperty(this, data.g, this);\n    }\n\n    elementData.o = PropertyFactory.getProp(this, data.o, 0, 0.01, this);\n\n    if (data.ty === 'st' || data.ty === 'gs') {\n      styleElem.lc = lineCapEnum[data.lc || 2];\n      styleElem.lj = lineJoinEnum[data.lj || 2];\n\n      if (data.lj == 1) {\n        // eslint-disable-line eqeqeq\n        styleElem.ml = data.ml;\n      }\n\n      elementData.w = PropertyFactory.getProp(this, data.w, 0, null, this);\n\n      if (!elementData.w.k) {\n        styleElem.wi = elementData.w.v;\n      }\n\n      if (data.d) {\n        var d = new DashProperty(this, data.d, 'canvas', this);\n        elementData.d = d;\n\n        if (!elementData.d.k) {\n          styleElem.da = elementData.d.dashArray;\n          styleElem[\"do\"] = elementData.d.dashoffset[0];\n        }\n      }\n    } else {\n      styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\n    }\n\n    this.stylesList.push(styleElem);\n    elementData.style = styleElem;\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createGroupElement = function () {\n    var elementData = {\n      it: [],\n      prevViewData: []\n    };\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createTransformElement = function (data) {\n    var elementData = {\n      transform: {\n        opacity: 1,\n        _opMdf: false,\n        key: this.transformsManager.getNewKey(),\n        op: PropertyFactory.getProp(this, data.o, 0, 0.01, this),\n        mProps: TransformPropertyFactory.getTransformProperty(this, data, this)\n      }\n    };\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createShapeElement = function (data) {\n    var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    return elementData;\n  };\n\n  CVShapeElement.prototype.reloadShapes = function () {\n    this._isFirstFrame = true;\n    var i;\n    var len = this.itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n    len = this.dynamicProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n\n    this.renderModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n  };\n\n  CVShapeElement.prototype.addTransformToStyleList = function (transform) {\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.push(transform);\n      }\n    }\n  };\n\n  CVShapeElement.prototype.removeTransformFromStyleList = function () {\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.pop();\n      }\n    }\n  };\n\n  CVShapeElement.prototype.closeStyles = function (styles) {\n    var i;\n    var len = styles.length;\n\n    for (i = 0; i < len; i += 1) {\n      styles[i].closed = true;\n    }\n  };\n\n  CVShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, shouldRender, transforms) {\n    var i;\n    var len = arr.length - 1;\n    var j;\n    var jLen;\n    var ownStyles = [];\n    var ownModifiers = [];\n    var processedPos;\n    var modifier;\n    var currentTransform;\n    var ownTransforms = [].concat(transforms);\n\n    for (i = len; i >= 0; i -= 1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n\n      if (!processedPos) {\n        arr[i]._shouldRender = shouldRender;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\n        } else {\n          itemsData[i].style.closed = false;\n        }\n\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty === 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, shouldRender, ownTransforms);\n      } else if (arr[i].ty === 'tr') {\n        if (!processedPos) {\n          currentTransform = this.createTransformElement(arr[i]);\n          itemsData[i] = currentTransform;\n        }\n\n        ownTransforms.push(itemsData[i]);\n        this.addTransformToStyleList(itemsData[i]);\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i]);\n        }\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'pb') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty === 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          shouldRender = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n\n        ownModifiers.push(modifier);\n      }\n\n      this.addProcessedElement(arr[i], i + 1);\n    }\n\n    this.removeTransformFromStyleList();\n    this.closeStyles(ownStyles);\n    len = ownModifiers.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownModifiers[i].closed = true;\n    }\n  };\n\n  CVShapeElement.prototype.renderInnerContent = function () {\n    this.transformHelper.opacity = 1;\n    this.transformHelper._opMdf = false;\n    this.renderModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n    this.renderShape(this.transformHelper, this.shapesData, this.itemsData, true);\n  };\n\n  CVShapeElement.prototype.renderShapeTransform = function (parentTransform, groupTransform) {\n    if (parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\n      groupTransform.opacity = parentTransform.opacity;\n      groupTransform.opacity *= groupTransform.op.v;\n      groupTransform._opMdf = true;\n    }\n  };\n\n  CVShapeElement.prototype.drawLayer = function () {\n    var i;\n    var len = this.stylesList.length;\n    var j;\n    var jLen;\n    var k;\n    var kLen;\n    var elems;\n    var nodes;\n    var renderer = this.globalData.renderer;\n    var ctx = this.globalData.canvasContext;\n    var type;\n    var currentStyle;\n\n    for (i = 0; i < len; i += 1) {\n      currentStyle = this.stylesList[i];\n      type = currentStyle.type; // Skipping style when\n      // Stroke width equals 0\n      // style should not be rendered (extra unused repeaters)\n      // current opacity equals 0\n      // global opacity equals 0\n\n      if (!((type === 'st' || type === 'gs') && currentStyle.wi === 0 || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0)) {\n        renderer.save();\n        elems = currentStyle.elements;\n\n        if (type === 'st' || type === 'gs') {\n          ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\n          ctx.lineWidth = currentStyle.wi;\n          ctx.lineCap = currentStyle.lc;\n          ctx.lineJoin = currentStyle.lj;\n          ctx.miterLimit = currentStyle.ml || 0;\n        } else {\n          ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\n        }\n\n        renderer.ctxOpacity(currentStyle.coOp);\n\n        if (type !== 'st' && type !== 'gs') {\n          ctx.beginPath();\n        }\n\n        renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\n        jLen = elems.length;\n\n        for (j = 0; j < jLen; j += 1) {\n          if (type === 'st' || type === 'gs') {\n            ctx.beginPath();\n\n            if (currentStyle.da) {\n              ctx.setLineDash(currentStyle.da);\n              ctx.lineDashOffset = currentStyle[\"do\"];\n            }\n          }\n\n          nodes = elems[j].trNodes;\n          kLen = nodes.length;\n\n          for (k = 0; k < kLen; k += 1) {\n            if (nodes[k].t === 'm') {\n              ctx.moveTo(nodes[k].p[0], nodes[k].p[1]);\n            } else if (nodes[k].t === 'c') {\n              ctx.bezierCurveTo(nodes[k].pts[0], nodes[k].pts[1], nodes[k].pts[2], nodes[k].pts[3], nodes[k].pts[4], nodes[k].pts[5]);\n            } else {\n              ctx.closePath();\n            }\n          }\n\n          if (type === 'st' || type === 'gs') {\n            ctx.stroke();\n\n            if (currentStyle.da) {\n              ctx.setLineDash(this.dashResetter);\n            }\n          }\n        }\n\n        if (type !== 'st' && type !== 'gs') {\n          ctx.fill(currentStyle.r);\n        }\n\n        renderer.restore();\n      }\n    }\n  };\n\n  CVShapeElement.prototype.renderShape = function (parentTransform, items, data, isMain) {\n    var i;\n    var len = items.length - 1;\n    var groupTransform;\n    groupTransform = parentTransform;\n\n    for (i = len; i >= 0; i -= 1) {\n      if (items[i].ty === 'tr') {\n        groupTransform = data[i].transform;\n        this.renderShapeTransform(parentTransform, groupTransform);\n      } else if (items[i].ty === 'sh' || items[i].ty === 'el' || items[i].ty === 'rc' || items[i].ty === 'sr') {\n        this.renderPath(items[i], data[i]);\n      } else if (items[i].ty === 'fl') {\n        this.renderFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'st') {\n        this.renderStroke(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'gf' || items[i].ty === 'gs') {\n        this.renderGradientFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'gr') {\n        this.renderShape(groupTransform, items[i].it, data[i].it);\n      } else if (items[i].ty === 'tm') {//\n      }\n    }\n\n    if (isMain) {\n      this.drawLayer();\n    }\n  };\n\n  CVShapeElement.prototype.renderStyledShape = function (styledShape, shape) {\n    if (this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\n      var shapeNodes = styledShape.trNodes;\n      var paths = shape.paths;\n      var i;\n      var len;\n      var j;\n      var jLen = paths._length;\n      shapeNodes.length = 0;\n      var groupTransformMat = styledShape.transforms.finalTransform;\n\n      for (j = 0; j < jLen; j += 1) {\n        var pathNodes = paths.shapes[j];\n\n        if (pathNodes && pathNodes.v) {\n          len = pathNodes._length;\n\n          for (i = 1; i < len; i += 1) {\n            if (i === 1) {\n              shapeNodes.push({\n                t: 'm',\n                p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\n              });\n            }\n\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i])\n            });\n          }\n\n          if (len === 1) {\n            shapeNodes.push({\n              t: 'm',\n              p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\n            });\n          }\n\n          if (pathNodes.c && len) {\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0])\n            });\n            shapeNodes.push({\n              t: 'z'\n            });\n          }\n        }\n      }\n\n      styledShape.trNodes = shapeNodes;\n    }\n  };\n\n  CVShapeElement.prototype.renderPath = function (pathData, itemData) {\n    if (pathData.hd !== true && pathData._shouldRender) {\n      var i;\n      var len = itemData.styledShapes.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\n      }\n    }\n  };\n\n  CVShapeElement.prototype.renderFill = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\n    }\n\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n  };\n\n  CVShapeElement.prototype.renderGradientFill = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n    var grd;\n\n    if (!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf)) {\n      var ctx = this.globalData.canvasContext;\n      var pt1 = itemData.s.v;\n      var pt2 = itemData.e.v;\n\n      if (styleData.t === 1) {\n        grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\n      } else {\n        var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n        var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n        var percent = itemData.h.v;\n\n        if (percent >= 1) {\n          percent = 0.99;\n        } else if (percent <= -1) {\n          percent = -0.99;\n        }\n\n        var dist = rad * percent;\n        var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n        var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n        grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\n      }\n\n      var i;\n      var len = styleData.g.p;\n      var cValues = itemData.g.c;\n      var opacity = 1;\n\n      for (i = 0; i < len; i += 1) {\n        if (itemData.g._hasOpacity && itemData.g._collapsable) {\n          opacity = itemData.g.o[i * 2 + 1];\n        }\n\n        grd.addColorStop(cValues[i * 4] / 100, 'rgba(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ',' + opacity + ')');\n      }\n\n      styleElem.grd = grd;\n    }\n\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\n  };\n\n  CVShapeElement.prototype.renderStroke = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n    var d = itemData.d;\n\n    if (d && (d._mdf || this._isFirstFrame)) {\n      styleElem.da = d.dashArray;\n      styleElem[\"do\"] = d.dashoffset[0];\n    }\n\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\n    }\n\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n\n    if (itemData.w._mdf || this._isFirstFrame) {\n      styleElem.wi = itemData.w.v;\n    }\n  };\n\n  CVShapeElement.prototype.destroy = function () {\n    this.shapesData = null;\n    this.globalData = null;\n    this.canvasContext = null;\n    this.stylesList.length = 0;\n    this.itemsData.length = 0;\n  };\n\n  function CVTextElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.yOffset = 0;\n    this.fillColorAnim = false;\n    this.strokeColorAnim = false;\n    this.strokeWidthAnim = false;\n    this.stroke = false;\n    this.fill = false;\n    this.justifyOffset = 0;\n    this.currentRender = null;\n    this.renderType = 'canvas';\n    this.values = {\n      fill: 'rgba(0,0,0,0)',\n      stroke: 'rgba(0,0,0,0)',\n      sWidth: 0,\n      fValue: ''\n    };\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement);\n  CVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\n\n  CVTextElement.prototype.buildNewText = function () {\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\n    var hasFill = false;\n\n    if (documentData.fc) {\n      hasFill = true;\n      this.values.fill = this.buildColor(documentData.fc);\n    } else {\n      this.values.fill = 'rgba(0,0,0,0)';\n    }\n\n    this.fill = hasFill;\n    var hasStroke = false;\n\n    if (documentData.sc) {\n      hasStroke = true;\n      this.values.stroke = this.buildColor(documentData.sc);\n      this.values.sWidth = documentData.sw;\n    }\n\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n    var i;\n    var len;\n    var letters = documentData.l;\n    var matrixHelper = this.mHelper;\n    this.stroke = hasStroke;\n    this.values.fValue = documentData.finalSize + 'px ' + this.globalData.fontManager.getFontByName(documentData.f).fFamily;\n    len = documentData.finalText.length; // this.tHelper.font = this.values.fValue;\n\n    var charData;\n    var shapeData;\n    var k;\n    var kLen;\n    var shapes;\n    var j;\n    var jLen;\n    var pathNodes;\n    var commands;\n    var pathArr;\n    var singleShape = this.data.singleShape;\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\n    var xPos = 0;\n    var yPos = 0;\n    var firstLine = true;\n    var cnt = 0;\n\n    for (i = 0; i < len; i += 1) {\n      charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n      shapeData = charData && charData.data || {};\n      matrixHelper.reset();\n\n      if (singleShape && letters[i].n) {\n        xPos = -trackingOffset;\n        yPos += documentData.yOffset;\n        yPos += firstLine ? 1 : 0;\n        firstLine = false;\n      }\n\n      shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\n      jLen = shapes.length;\n      matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n\n      if (singleShape) {\n        this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n      }\n\n      commands = createSizedArray(jLen - 1);\n      var commandsCounter = 0;\n\n      for (j = 0; j < jLen; j += 1) {\n        if (shapes[j].ty === 'sh') {\n          kLen = shapes[j].ks.k.i.length;\n          pathNodes = shapes[j].ks.k;\n          pathArr = [];\n\n          for (k = 1; k < kLen; k += 1) {\n            if (k === 1) {\n              pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n            }\n\n            pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToY(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToX(pathNodes.v[k][0], pathNodes.v[k][1], 0), matrixHelper.applyToY(pathNodes.v[k][0], pathNodes.v[k][1], 0));\n          }\n\n          pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToY(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n          commands[commandsCounter] = pathArr;\n          commandsCounter += 1;\n        }\n      }\n\n      if (singleShape) {\n        xPos += letters[i].l;\n        xPos += trackingOffset;\n      }\n\n      if (this.textSpans[cnt]) {\n        this.textSpans[cnt].elem = commands;\n      } else {\n        this.textSpans[cnt] = {\n          elem: commands\n        };\n      }\n\n      cnt += 1;\n    }\n  };\n\n  CVTextElement.prototype.renderInnerContent = function () {\n    var ctx = this.canvasContext;\n    ctx.font = this.values.fValue;\n    ctx.lineCap = 'butt';\n    ctx.lineJoin = 'miter';\n    ctx.miterLimit = 4;\n\n    if (!this.data.singleShape) {\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n    }\n\n    var i;\n    var len;\n    var j;\n    var jLen;\n    var k;\n    var kLen;\n    var renderedLetters = this.textAnimator.renderedLetters;\n    var letters = this.textProperty.currentData.l;\n    len = letters.length;\n    var renderedLetter;\n    var lastFill = null;\n    var lastStroke = null;\n    var lastStrokeW = null;\n    var commands;\n    var pathArr;\n\n    for (i = 0; i < len; i += 1) {\n      if (!letters[i].n) {\n        renderedLetter = renderedLetters[i];\n\n        if (renderedLetter) {\n          this.globalData.renderer.save();\n          this.globalData.renderer.ctxTransform(renderedLetter.p);\n          this.globalData.renderer.ctxOpacity(renderedLetter.o);\n        }\n\n        if (this.fill) {\n          if (renderedLetter && renderedLetter.fc) {\n            if (lastFill !== renderedLetter.fc) {\n              lastFill = renderedLetter.fc;\n              ctx.fillStyle = renderedLetter.fc;\n            }\n          } else if (lastFill !== this.values.fill) {\n            lastFill = this.values.fill;\n            ctx.fillStyle = this.values.fill;\n          }\n\n          commands = this.textSpans[i].elem;\n          jLen = commands.length;\n          this.globalData.canvasContext.beginPath();\n\n          for (j = 0; j < jLen; j += 1) {\n            pathArr = commands[j];\n            kLen = pathArr.length;\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n\n            for (k = 2; k < kLen; k += 6) {\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n            }\n          }\n\n          this.globalData.canvasContext.closePath();\n          this.globalData.canvasContext.fill(); /// ctx.fillText(this.textSpans[i].val,0,0);\n        }\n\n        if (this.stroke) {\n          if (renderedLetter && renderedLetter.sw) {\n            if (lastStrokeW !== renderedLetter.sw) {\n              lastStrokeW = renderedLetter.sw;\n              ctx.lineWidth = renderedLetter.sw;\n            }\n          } else if (lastStrokeW !== this.values.sWidth) {\n            lastStrokeW = this.values.sWidth;\n            ctx.lineWidth = this.values.sWidth;\n          }\n\n          if (renderedLetter && renderedLetter.sc) {\n            if (lastStroke !== renderedLetter.sc) {\n              lastStroke = renderedLetter.sc;\n              ctx.strokeStyle = renderedLetter.sc;\n            }\n          } else if (lastStroke !== this.values.stroke) {\n            lastStroke = this.values.stroke;\n            ctx.strokeStyle = this.values.stroke;\n          }\n\n          commands = this.textSpans[i].elem;\n          jLen = commands.length;\n          this.globalData.canvasContext.beginPath();\n\n          for (j = 0; j < jLen; j += 1) {\n            pathArr = commands[j];\n            kLen = pathArr.length;\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n\n            for (k = 2; k < kLen; k += 6) {\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n            }\n          }\n\n          this.globalData.canvasContext.closePath();\n          this.globalData.canvasContext.stroke(); /// ctx.strokeText(letters[i].val,0,0);\n        }\n\n        if (renderedLetter) {\n          this.globalData.renderer.restore();\n        }\n      }\n    }\n  };\n\n  function CVImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.img = globalData.imageLoader.getAsset(this.assetData);\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\n  CVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\n  CVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n\n  CVImageElement.prototype.createContent = function () {\n    if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\n      var canvas = createTag('canvas');\n      canvas.width = this.assetData.w;\n      canvas.height = this.assetData.h;\n      var ctx = canvas.getContext('2d');\n      var imgW = this.img.width;\n      var imgH = this.img.height;\n      var imgRel = imgW / imgH;\n      var canvasRel = this.assetData.w / this.assetData.h;\n      var widthCrop;\n      var heightCrop;\n      var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\n\n      if (imgRel > canvasRel && par === 'xMidYMid slice' || imgRel < canvasRel && par !== 'xMidYMid slice') {\n        heightCrop = imgH;\n        widthCrop = heightCrop * canvasRel;\n      } else {\n        widthCrop = imgW;\n        heightCrop = widthCrop / canvasRel;\n      }\n\n      ctx.drawImage(this.img, (imgW - widthCrop) / 2, (imgH - heightCrop) / 2, widthCrop, heightCrop, 0, 0, this.assetData.w, this.assetData.h);\n      this.img = canvas;\n    }\n  };\n\n  CVImageElement.prototype.renderInnerContent = function () {\n    this.canvasContext.drawImage(this.img, 0, 0);\n  };\n\n  CVImageElement.prototype.destroy = function () {\n    this.img = null;\n  };\n\n  function CVSolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\n  CVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\n  CVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n\n  CVSolidElement.prototype.renderInnerContent = function () {\n    var ctx = this.canvasContext;\n    ctx.fillStyle = this.data.sc;\n    ctx.fillRect(0, 0, this.data.sw, this.data.sh); //\n  };\n\n  function CanvasRendererBase(animationItem, config) {\n    this.animationItem = animationItem;\n    this.renderConfig = {\n      clearCanvas: config && config.clearCanvas !== undefined ? config.clearCanvas : true,\n      context: config && config.context || null,\n      progressiveLoad: config && config.progressiveLoad || false,\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      className: config && config.className || '',\n      id: config && config.id || ''\n    };\n    this.renderConfig.dpr = config && config.dpr || 1;\n\n    if (this.animationItem.wrapper) {\n      this.renderConfig.dpr = config && config.dpr || window.devicePixelRatio || 1;\n    }\n\n    this.renderedFrame = -1;\n    this.globalData = {\n      frameNum: -1,\n      _mdf: false,\n      renderConfig: this.renderConfig,\n      currentGlobalAlpha: -1\n    };\n    this.contextData = new CVContextData();\n    this.elements = [];\n    this.pendingElements = [];\n    this.transformMat = new Matrix();\n    this.completeLayers = false;\n    this.rendererType = 'canvas';\n  }\n\n  extendPrototype([BaseRenderer], CanvasRendererBase);\n\n  CanvasRendererBase.prototype.createShape = function (data) {\n    return new CVShapeElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createText = function (data) {\n    return new CVTextElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createImage = function (data) {\n    return new CVImageElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createSolid = function (data) {\n    return new CVSolidElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\n\n  CanvasRendererBase.prototype.ctxTransform = function (props) {\n    if (props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0) {\n      return;\n    }\n\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.transform(props[0], props[1], props[4], props[5], props[12], props[13]);\n      return;\n    }\n\n    this.transformMat.cloneFromProps(props);\n    var cProps = this.contextData.cTr.props;\n    this.transformMat.transform(cProps[0], cProps[1], cProps[2], cProps[3], cProps[4], cProps[5], cProps[6], cProps[7], cProps[8], cProps[9], cProps[10], cProps[11], cProps[12], cProps[13], cProps[14], cProps[15]); // this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\n\n    this.contextData.cTr.cloneFromProps(this.transformMat.props);\n    var trProps = this.contextData.cTr.props;\n    this.canvasContext.setTransform(trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]);\n  };\n\n  CanvasRendererBase.prototype.ctxOpacity = function (op) {\n    /* if(op === 1){\r\n          return;\r\n      } */\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\n      this.globalData.currentGlobalAlpha = this.contextData.cO;\n      return;\n    }\n\n    this.contextData.cO *= op < 0 ? 0 : op;\n\n    if (this.globalData.currentGlobalAlpha !== this.contextData.cO) {\n      this.canvasContext.globalAlpha = this.contextData.cO;\n      this.globalData.currentGlobalAlpha = this.contextData.cO;\n    }\n  };\n\n  CanvasRendererBase.prototype.reset = function () {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.restore();\n      return;\n    }\n\n    this.contextData.reset();\n  };\n\n  CanvasRendererBase.prototype.save = function (actionFlag) {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.save();\n      return;\n    }\n\n    if (actionFlag) {\n      this.canvasContext.save();\n    }\n\n    var props = this.contextData.cTr.props;\n\n    if (this.contextData._length <= this.contextData.cArrPos) {\n      this.contextData.duplicate();\n    }\n\n    var i;\n    var arr = this.contextData.saved[this.contextData.cArrPos];\n\n    for (i = 0; i < 16; i += 1) {\n      arr[i] = props[i];\n    }\n\n    this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO;\n    this.contextData.cArrPos += 1;\n  };\n\n  CanvasRendererBase.prototype.restore = function (actionFlag) {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.restore();\n      return;\n    }\n\n    if (actionFlag) {\n      this.canvasContext.restore();\n      this.globalData.blendMode = 'source-over';\n    }\n\n    this.contextData.cArrPos -= 1;\n    var popped = this.contextData.saved[this.contextData.cArrPos];\n    var i;\n    var arr = this.contextData.cTr.props;\n\n    for (i = 0; i < 16; i += 1) {\n      arr[i] = popped[i];\n    }\n\n    this.canvasContext.setTransform(popped[0], popped[1], popped[4], popped[5], popped[12], popped[13]);\n    popped = this.contextData.savedOp[this.contextData.cArrPos];\n    this.contextData.cO = popped;\n\n    if (this.globalData.currentGlobalAlpha !== popped) {\n      this.canvasContext.globalAlpha = popped;\n      this.globalData.currentGlobalAlpha = popped;\n    }\n  };\n\n  CanvasRendererBase.prototype.configAnimation = function (animData) {\n    if (this.animationItem.wrapper) {\n      this.animationItem.container = createTag('canvas');\n      var containerStyle = this.animationItem.container.style;\n      containerStyle.width = '100%';\n      containerStyle.height = '100%';\n      var origin = '0px 0px 0px';\n      containerStyle.transformOrigin = origin;\n      containerStyle.mozTransformOrigin = origin;\n      containerStyle.webkitTransformOrigin = origin;\n      containerStyle['-webkit-transform'] = origin;\n      containerStyle.contentVisibility = this.renderConfig.contentVisibility;\n      this.animationItem.wrapper.appendChild(this.animationItem.container);\n      this.canvasContext = this.animationItem.container.getContext('2d');\n\n      if (this.renderConfig.className) {\n        this.animationItem.container.setAttribute('class', this.renderConfig.className);\n      }\n\n      if (this.renderConfig.id) {\n        this.animationItem.container.setAttribute('id', this.renderConfig.id);\n      }\n    } else {\n      this.canvasContext = this.renderConfig.context;\n    }\n\n    this.data = animData;\n    this.layers = animData.layers;\n    this.transformCanvas = {\n      w: animData.w,\n      h: animData.h,\n      sx: 0,\n      sy: 0,\n      tx: 0,\n      ty: 0\n    };\n    this.setupGlobalData(animData, document.body);\n    this.globalData.canvasContext = this.canvasContext;\n    this.globalData.renderer = this;\n    this.globalData.isDashed = false;\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.globalData.transformCanvas = this.transformCanvas;\n    this.elements = createSizedArray(animData.layers.length);\n    this.updateContainerSize();\n  };\n\n  CanvasRendererBase.prototype.updateContainerSize = function () {\n    this.reset();\n    var elementWidth;\n    var elementHeight;\n\n    if (this.animationItem.wrapper && this.animationItem.container) {\n      elementWidth = this.animationItem.wrapper.offsetWidth;\n      elementHeight = this.animationItem.wrapper.offsetHeight;\n      this.animationItem.container.setAttribute('width', elementWidth * this.renderConfig.dpr);\n      this.animationItem.container.setAttribute('height', elementHeight * this.renderConfig.dpr);\n    } else {\n      elementWidth = this.canvasContext.canvas.width * this.renderConfig.dpr;\n      elementHeight = this.canvasContext.canvas.height * this.renderConfig.dpr;\n    }\n\n    var elementRel;\n    var animationRel;\n\n    if (this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1) {\n      var par = this.renderConfig.preserveAspectRatio.split(' ');\n      var fillType = par[1] || 'meet';\n      var pos = par[0] || 'xMidYMid';\n      var xPos = pos.substr(0, 4);\n      var yPos = pos.substr(4);\n      elementRel = elementWidth / elementHeight;\n      animationRel = this.transformCanvas.w / this.transformCanvas.h;\n\n      if (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice') {\n        this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n        this.transformCanvas.sy = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n      } else {\n        this.transformCanvas.sx = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n        this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n      }\n\n      if (xPos === 'xMid' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) / 2 * this.renderConfig.dpr;\n      } else if (xPos === 'xMax' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) * this.renderConfig.dpr;\n      } else {\n        this.transformCanvas.tx = 0;\n      }\n\n      if (yPos === 'YMid' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) / 2 * this.renderConfig.dpr;\n      } else if (yPos === 'YMax' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) * this.renderConfig.dpr;\n      } else {\n        this.transformCanvas.ty = 0;\n      }\n    } else if (this.renderConfig.preserveAspectRatio === 'none') {\n      this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n      this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n      this.transformCanvas.tx = 0;\n      this.transformCanvas.ty = 0;\n    } else {\n      this.transformCanvas.sx = this.renderConfig.dpr;\n      this.transformCanvas.sy = this.renderConfig.dpr;\n      this.transformCanvas.tx = 0;\n      this.transformCanvas.ty = 0;\n    }\n\n    this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1];\n    /* var i, len = this.elements.length;\r\n      for(i=0;i<len;i+=1){\r\n          if(this.elements[i] && this.elements[i].data.ty === 0){\r\n              this.elements[i].resize(this.globalData.transformCanvas);\r\n          }\r\n      } */\n\n    this.ctxTransform(this.transformCanvas.props);\n    this.canvasContext.beginPath();\n    this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n    this.canvasContext.closePath();\n    this.canvasContext.clip();\n    this.renderFrame(this.renderedFrame, true);\n  };\n\n  CanvasRendererBase.prototype.destroy = function () {\n    if (this.renderConfig.clearCanvas && this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.globalData.canvasContext = null;\n    this.animationItem.container = null;\n    this.destroyed = true;\n  };\n\n  CanvasRendererBase.prototype.renderFrame = function (num, forceRender) {\n    if (this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender || this.destroyed || num === -1) {\n      return;\n    }\n\n    this.renderedFrame = num;\n    this.globalData.frameNum = num - this.animationItem._isFirstFrame;\n    this.globalData.frameId += 1;\n    this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\n    this.globalData.projectInterface.currentFrame = num; // console.log('--------');\n    // console.log('NEW: ',num);\n\n    var i;\n    var len = this.layers.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(num);\n    }\n\n    for (i = 0; i < len; i += 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(num - this.layers[i].st);\n      }\n    }\n\n    if (this.globalData._mdf) {\n      if (this.renderConfig.clearCanvas === true) {\n        this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n      } else {\n        this.save();\n      }\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        if (this.completeLayers || this.elements[i]) {\n          this.elements[i].renderFrame();\n        }\n      }\n\n      if (this.renderConfig.clearCanvas !== true) {\n        this.restore();\n      }\n    }\n  };\n\n  CanvasRendererBase.prototype.buildItem = function (pos) {\n    var elements = this.elements;\n\n    if (elements[pos] || this.layers[pos].ty === 99) {\n      return;\n    }\n\n    var element = this.createItem(this.layers[pos], this, this.globalData);\n    elements[pos] = element;\n    element.initExpressions();\n    /* if(this.layers[pos].ty === 0){\r\n          element.resize(this.globalData.transformCanvas);\r\n      } */\n  };\n\n  CanvasRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n    }\n  };\n\n  CanvasRendererBase.prototype.hide = function () {\n    this.animationItem.container.style.display = 'none';\n  };\n\n  CanvasRendererBase.prototype.show = function () {\n    this.animationItem.container.style.display = 'block';\n  };\n\n  function CVCompElement(data, globalData, comp) {\n    this.completeLayers = false;\n    this.layers = data.layers;\n    this.pendingElements = [];\n    this.elements = createSizedArray(this.layers.length);\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([CanvasRendererBase, ICompElement, CVBaseElement], CVCompElement);\n\n  CVCompElement.prototype.renderInnerContent = function () {\n    var ctx = this.canvasContext;\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    ctx.lineTo(this.data.w, 0);\n    ctx.lineTo(this.data.w, this.data.h);\n    ctx.lineTo(0, this.data.h);\n    ctx.lineTo(0, 0);\n    ctx.clip();\n    var i;\n    var len = this.layers.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n  };\n\n  CVCompElement.prototype.destroy = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.layers = null;\n    this.elements = null;\n  };\n\n  CVCompElement.prototype.createComp = function (data) {\n    return new CVCompElement(data, this.globalData, this);\n  };\n\n  function CanvasRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.renderConfig = {\n      clearCanvas: config && config.clearCanvas !== undefined ? config.clearCanvas : true,\n      context: config && config.context || null,\n      progressiveLoad: config && config.progressiveLoad || false,\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      className: config && config.className || '',\n      id: config && config.id || ''\n    };\n    this.renderConfig.dpr = config && config.dpr || 1;\n\n    if (this.animationItem.wrapper) {\n      this.renderConfig.dpr = config && config.dpr || window.devicePixelRatio || 1;\n    }\n\n    this.renderedFrame = -1;\n    this.globalData = {\n      frameNum: -1,\n      _mdf: false,\n      renderConfig: this.renderConfig,\n      currentGlobalAlpha: -1\n    };\n    this.contextData = new CVContextData();\n    this.elements = [];\n    this.pendingElements = [];\n    this.transformMat = new Matrix();\n    this.completeLayers = false;\n    this.rendererType = 'canvas';\n  }\n\n  extendPrototype([CanvasRendererBase], CanvasRenderer);\n\n  CanvasRenderer.prototype.createComp = function (data) {\n    return new CVCompElement(data, this.globalData, this);\n  };\n\n  function HBaseElement() {}\n\n  HBaseElement.prototype = {\n    checkBlendMode: function checkBlendMode() {},\n    initRendererElement: function initRendererElement() {\n      this.baseElement = createTag(this.data.tg || 'div');\n\n      if (this.data.hasMask) {\n        this.svgElement = createNS('svg');\n        this.layerElement = createNS('g');\n        this.maskedElement = this.layerElement;\n        this.svgElement.appendChild(this.layerElement);\n        this.baseElement.appendChild(this.svgElement);\n      } else {\n        this.layerElement = this.baseElement;\n      }\n\n      styleDiv(this.baseElement);\n    },\n    createContainerElements: function createContainerElements() {\n      this.renderableEffectsManager = new CVEffects(this);\n      this.transformedElement = this.baseElement;\n      this.maskedElement = this.layerElement;\n\n      if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n      }\n\n      if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n      }\n\n      if (this.data.bm !== 0) {\n        this.setBlendMode();\n      }\n    },\n    renderElement: function renderElement() {\n      var transformedElementStyle = this.transformedElement ? this.transformedElement.style : {};\n\n      if (this.finalTransform._matMdf) {\n        var matrixValue = this.finalTransform.mat.toCSS();\n        transformedElementStyle.transform = matrixValue;\n        transformedElementStyle.webkitTransform = matrixValue;\n      }\n\n      if (this.finalTransform._opMdf) {\n        transformedElementStyle.opacity = this.finalTransform.mProp.o.v;\n      }\n    },\n    renderFrame: function renderFrame() {\n      // If it is exported as hidden (data.hd === true) no need to render\n      // If it is not visible no need to render\n      if (this.data.hd || this.hidden) {\n        return;\n      }\n\n      this.renderTransform();\n      this.renderRenderable();\n      this.renderElement();\n      this.renderInnerContent();\n\n      if (this._isFirstFrame) {\n        this._isFirstFrame = false;\n      }\n    },\n    destroy: function destroy() {\n      this.layerElement = null;\n      this.transformedElement = null;\n\n      if (this.matteElement) {\n        this.matteElement = null;\n      }\n\n      if (this.maskManager) {\n        this.maskManager.destroy();\n        this.maskManager = null;\n      }\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\n    },\n    addEffects: function addEffects() {},\n    setMatte: function setMatte() {}\n  };\n  HBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;\n  HBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;\n  HBaseElement.prototype.buildElementParenting = BaseRenderer.prototype.buildElementParenting;\n\n  function HSolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement);\n\n  HSolidElement.prototype.createContent = function () {\n    var rect;\n\n    if (this.data.hasMask) {\n      rect = createNS('rect');\n      rect.setAttribute('width', this.data.sw);\n      rect.setAttribute('height', this.data.sh);\n      rect.setAttribute('fill', this.data.sc);\n      this.svgElement.setAttribute('width', this.data.sw);\n      this.svgElement.setAttribute('height', this.data.sh);\n    } else {\n      rect = createTag('div');\n      rect.style.width = this.data.sw + 'px';\n      rect.style.height = this.data.sh + 'px';\n      rect.style.backgroundColor = this.data.sc;\n    }\n\n    this.layerElement.appendChild(rect);\n  };\n\n  function HShapeElement(data, globalData, comp) {\n    // List of drawable elements\n    this.shapes = []; // Full shape data\n\n    this.shapesData = data.shapes; // List of styles that will be applied to shapes\n\n    this.stylesList = []; // List of modifiers that will be applied to shapes\n\n    this.shapeModifiers = []; // List of items in shape tree\n\n    this.itemsData = []; // List of items in previous shape tree\n\n    this.processedElements = []; // List of animated components\n\n    this.animatedContents = [];\n    this.shapesContainer = createNS('g');\n    this.initElement(data, globalData, comp); // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n    // List of elements that have been created\n\n    this.prevViewData = [];\n    this.currentBBox = {\n      x: 999999,\n      y: -999999,\n      h: 0,\n      w: 0\n    };\n  }\n\n  extendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement);\n  HShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;\n\n  HShapeElement.prototype.createContent = function () {\n    var cont;\n    this.baseElement.style.fontSize = 0;\n\n    if (this.data.hasMask) {\n      this.layerElement.appendChild(this.shapesContainer);\n      cont = this.svgElement;\n    } else {\n      cont = createNS('svg');\n      var size = this.comp.data ? this.comp.data : this.globalData.compSize;\n      cont.setAttribute('width', size.w);\n      cont.setAttribute('height', size.h);\n      cont.appendChild(this.shapesContainer);\n      this.layerElement.appendChild(cont);\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], true);\n    this.filterUniqueShapes();\n    this.shapeCont = cont;\n  };\n\n  HShapeElement.prototype.getTransformedPoint = function (transformers, point) {\n    var i;\n    var len = transformers.length;\n\n    for (i = 0; i < len; i += 1) {\n      point = transformers[i].mProps.v.applyToPointArray(point[0], point[1], 0);\n    }\n\n    return point;\n  };\n\n  HShapeElement.prototype.calculateShapeBoundingBox = function (item, boundingBox) {\n    var shape = item.sh.v;\n    var transformers = item.transformers;\n    var i;\n    var len = shape._length;\n    var vPoint;\n    var oPoint;\n    var nextIPoint;\n    var nextVPoint;\n\n    if (len <= 1) {\n      return;\n    }\n\n    for (i = 0; i < len - 1; i += 1) {\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[i + 1]);\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[i + 1]);\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\n    }\n\n    if (shape.c) {\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[0]);\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[0]);\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\n    }\n  };\n\n  HShapeElement.prototype.checkBounds = function (vPoint, oPoint, nextIPoint, nextVPoint, boundingBox) {\n    this.getBoundsOfCurve(vPoint, oPoint, nextIPoint, nextVPoint);\n    var bounds = this.shapeBoundingBox;\n    boundingBox.x = bmMin(bounds.left, boundingBox.x);\n    boundingBox.xMax = bmMax(bounds.right, boundingBox.xMax);\n    boundingBox.y = bmMin(bounds.top, boundingBox.y);\n    boundingBox.yMax = bmMax(bounds.bottom, boundingBox.yMax);\n  };\n\n  HShapeElement.prototype.shapeBoundingBox = {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  };\n  HShapeElement.prototype.tempBoundingBox = {\n    x: 0,\n    xMax: 0,\n    y: 0,\n    yMax: 0,\n    width: 0,\n    height: 0\n  };\n\n  HShapeElement.prototype.getBoundsOfCurve = function (p0, p1, p2, p3) {\n    var bounds = [[p0[0], p3[0]], [p0[1], p3[1]]];\n\n    for (var a, b, c, t, b2ac, t1, t2, i = 0; i < 2; ++i) {\n      // eslint-disable-line no-plusplus\n      b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\n      a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\n      c = 3 * p1[i] - 3 * p0[i];\n      b |= 0; // eslint-disable-line no-bitwise\n\n      a |= 0; // eslint-disable-line no-bitwise\n\n      c |= 0; // eslint-disable-line no-bitwise\n\n      if (a === 0 && b === 0) {//\n      } else if (a === 0) {\n        t = -c / b;\n\n        if (t > 0 && t < 1) {\n          bounds[i].push(this.calculateF(t, p0, p1, p2, p3, i));\n        }\n      } else {\n        b2ac = b * b - 4 * c * a;\n\n        if (b2ac >= 0) {\n          t1 = (-b + bmSqrt(b2ac)) / (2 * a);\n          if (t1 > 0 && t1 < 1) bounds[i].push(this.calculateF(t1, p0, p1, p2, p3, i));\n          t2 = (-b - bmSqrt(b2ac)) / (2 * a);\n          if (t2 > 0 && t2 < 1) bounds[i].push(this.calculateF(t2, p0, p1, p2, p3, i));\n        }\n      }\n    }\n\n    this.shapeBoundingBox.left = bmMin.apply(null, bounds[0]);\n    this.shapeBoundingBox.top = bmMin.apply(null, bounds[1]);\n    this.shapeBoundingBox.right = bmMax.apply(null, bounds[0]);\n    this.shapeBoundingBox.bottom = bmMax.apply(null, bounds[1]);\n  };\n\n  HShapeElement.prototype.calculateF = function (t, p0, p1, p2, p3, i) {\n    return bmPow(1 - t, 3) * p0[i] + 3 * bmPow(1 - t, 2) * t * p1[i] + 3 * (1 - t) * bmPow(t, 2) * p2[i] + bmPow(t, 3) * p3[i];\n  };\n\n  HShapeElement.prototype.calculateBoundingBox = function (itemsData, boundingBox) {\n    var i;\n    var len = itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (itemsData[i] && itemsData[i].sh) {\n        this.calculateShapeBoundingBox(itemsData[i], boundingBox);\n      } else if (itemsData[i] && itemsData[i].it) {\n        this.calculateBoundingBox(itemsData[i].it, boundingBox);\n      }\n    }\n  };\n\n  HShapeElement.prototype.currentBoxContains = function (box) {\n    return this.currentBBox.x <= box.x && this.currentBBox.y <= box.y && this.currentBBox.width + this.currentBBox.x >= box.x + box.width && this.currentBBox.height + this.currentBBox.y >= box.y + box.height;\n  };\n\n  HShapeElement.prototype.renderInnerContent = function () {\n    this._renderShapeFrame();\n\n    if (!this.hidden && (this._isFirstFrame || this._mdf)) {\n      var tempBoundingBox = this.tempBoundingBox;\n      var max = 999999;\n      tempBoundingBox.x = max;\n      tempBoundingBox.xMax = -max;\n      tempBoundingBox.y = max;\n      tempBoundingBox.yMax = -max;\n      this.calculateBoundingBox(this.itemsData, tempBoundingBox);\n      tempBoundingBox.width = tempBoundingBox.xMax < tempBoundingBox.x ? 0 : tempBoundingBox.xMax - tempBoundingBox.x;\n      tempBoundingBox.height = tempBoundingBox.yMax < tempBoundingBox.y ? 0 : tempBoundingBox.yMax - tempBoundingBox.y; // var tempBoundingBox = this.shapeCont.getBBox();\n\n      if (this.currentBoxContains(tempBoundingBox)) {\n        return;\n      }\n\n      var changed = false;\n\n      if (this.currentBBox.w !== tempBoundingBox.width) {\n        this.currentBBox.w = tempBoundingBox.width;\n        this.shapeCont.setAttribute('width', tempBoundingBox.width);\n        changed = true;\n      }\n\n      if (this.currentBBox.h !== tempBoundingBox.height) {\n        this.currentBBox.h = tempBoundingBox.height;\n        this.shapeCont.setAttribute('height', tempBoundingBox.height);\n        changed = true;\n      }\n\n      if (changed || this.currentBBox.x !== tempBoundingBox.x || this.currentBBox.y !== tempBoundingBox.y) {\n        this.currentBBox.w = tempBoundingBox.width;\n        this.currentBBox.h = tempBoundingBox.height;\n        this.currentBBox.x = tempBoundingBox.x;\n        this.currentBBox.y = tempBoundingBox.y;\n        this.shapeCont.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\n        var shapeStyle = this.shapeCont.style;\n        var shapeTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\n        shapeStyle.transform = shapeTransform;\n        shapeStyle.webkitTransform = shapeTransform;\n      }\n    }\n  };\n\n  function HTextElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.textPaths = [];\n    this.currentBBox = {\n      x: 999999,\n      y: -999999,\n      h: 0,\n      w: 0\n    };\n    this.renderType = 'svg';\n    this.isMasked = false;\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement);\n\n  HTextElement.prototype.createContent = function () {\n    this.isMasked = this.checkMasks();\n\n    if (this.isMasked) {\n      this.renderType = 'svg';\n      this.compW = this.comp.data.w;\n      this.compH = this.comp.data.h;\n      this.svgElement.setAttribute('width', this.compW);\n      this.svgElement.setAttribute('height', this.compH);\n      var g = createNS('g');\n      this.maskedElement.appendChild(g);\n      this.innerElem = g;\n    } else {\n      this.renderType = 'html';\n      this.innerElem = this.layerElement;\n    }\n\n    this.checkParenting();\n  };\n\n  HTextElement.prototype.buildNewText = function () {\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\n    var innerElemStyle = this.innerElem.style;\n    var textColor = documentData.fc ? this.buildColor(documentData.fc) : 'rgba(0,0,0,0)';\n    innerElemStyle.fill = textColor;\n    innerElemStyle.color = textColor;\n\n    if (documentData.sc) {\n      innerElemStyle.stroke = this.buildColor(documentData.sc);\n      innerElemStyle.strokeWidth = documentData.sw + 'px';\n    }\n\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n\n    if (!this.globalData.fontManager.chars) {\n      innerElemStyle.fontSize = documentData.finalSize + 'px';\n      innerElemStyle.lineHeight = documentData.finalSize + 'px';\n\n      if (fontData.fClass) {\n        this.innerElem.className = fontData.fClass;\n      } else {\n        innerElemStyle.fontFamily = fontData.fFamily;\n        var fWeight = documentData.fWeight;\n        var fStyle = documentData.fStyle;\n        innerElemStyle.fontStyle = fStyle;\n        innerElemStyle.fontWeight = fWeight;\n      }\n    }\n\n    var i;\n    var len;\n    var letters = documentData.l;\n    len = letters.length;\n    var tSpan;\n    var tParent;\n    var tCont;\n    var matrixHelper = this.mHelper;\n    var shapes;\n    var shapeStr = '';\n    var cnt = 0;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.globalData.fontManager.chars) {\n        if (!this.textPaths[cnt]) {\n          tSpan = createNS('path');\n          tSpan.setAttribute('stroke-linecap', lineCapEnum[1]);\n          tSpan.setAttribute('stroke-linejoin', lineJoinEnum[2]);\n          tSpan.setAttribute('stroke-miterlimit', '4');\n        } else {\n          tSpan = this.textPaths[cnt];\n        }\n\n        if (!this.isMasked) {\n          if (this.textSpans[cnt]) {\n            tParent = this.textSpans[cnt];\n            tCont = tParent.children[0];\n          } else {\n            tParent = createTag('div');\n            tParent.style.lineHeight = 0;\n            tCont = createNS('svg');\n            tCont.appendChild(tSpan);\n            styleDiv(tParent);\n          }\n        }\n      } else if (!this.isMasked) {\n        if (this.textSpans[cnt]) {\n          tParent = this.textSpans[cnt];\n          tSpan = this.textPaths[cnt];\n        } else {\n          tParent = createTag('span');\n          styleDiv(tParent);\n          tSpan = createTag('span');\n          styleDiv(tSpan);\n          tParent.appendChild(tSpan);\n        }\n      } else {\n        tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS('text');\n      } // tSpan.setAttribute('visibility', 'hidden');\n\n\n      if (this.globalData.fontManager.chars) {\n        var charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n        var shapeData;\n\n        if (charData) {\n          shapeData = charData.data;\n        } else {\n          shapeData = null;\n        }\n\n        matrixHelper.reset();\n\n        if (shapeData && shapeData.shapes && shapeData.shapes.length) {\n          shapes = shapeData.shapes[0].it;\n          matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n          shapeStr = this.createPathShape(matrixHelper, shapes);\n          tSpan.setAttribute('d', shapeStr);\n        }\n\n        if (!this.isMasked) {\n          this.innerElem.appendChild(tParent);\n\n          if (shapeData && shapeData.shapes) {\n            // document.body.appendChild is needed to get exact measure of shape\n            document.body.appendChild(tCont);\n            var boundingBox = tCont.getBBox();\n            tCont.setAttribute('width', boundingBox.width + 2);\n            tCont.setAttribute('height', boundingBox.height + 2);\n            tCont.setAttribute('viewBox', boundingBox.x - 1 + ' ' + (boundingBox.y - 1) + ' ' + (boundingBox.width + 2) + ' ' + (boundingBox.height + 2));\n            var tContStyle = tCont.style;\n            var tContTranslation = 'translate(' + (boundingBox.x - 1) + 'px,' + (boundingBox.y - 1) + 'px)';\n            tContStyle.transform = tContTranslation;\n            tContStyle.webkitTransform = tContTranslation;\n            letters[i].yOffset = boundingBox.y - 1;\n          } else {\n            tCont.setAttribute('width', 1);\n            tCont.setAttribute('height', 1);\n          }\n\n          tParent.appendChild(tCont);\n        } else {\n          this.innerElem.appendChild(tSpan);\n        }\n      } else {\n        tSpan.textContent = letters[i].val;\n        tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n\n        if (!this.isMasked) {\n          this.innerElem.appendChild(tParent); //\n\n          var tStyle = tSpan.style;\n          var tSpanTranslation = 'translate3d(0,' + -documentData.finalSize / 1.2 + 'px,0)';\n          tStyle.transform = tSpanTranslation;\n          tStyle.webkitTransform = tSpanTranslation;\n        } else {\n          this.innerElem.appendChild(tSpan);\n        }\n      } //\n\n\n      if (!this.isMasked) {\n        this.textSpans[cnt] = tParent;\n      } else {\n        this.textSpans[cnt] = tSpan;\n      }\n\n      this.textSpans[cnt].style.display = 'block';\n      this.textPaths[cnt] = tSpan;\n      cnt += 1;\n    }\n\n    while (cnt < this.textSpans.length) {\n      this.textSpans[cnt].style.display = 'none';\n      cnt += 1;\n    }\n  };\n\n  HTextElement.prototype.renderInnerContent = function () {\n    var svgStyle;\n\n    if (this.data.singleShape) {\n      if (!this._isFirstFrame && !this.lettersChangedFlag) {\n        return;\n      }\n\n      if (this.isMasked && this.finalTransform._matMdf) {\n        // Todo Benchmark if using this is better than getBBox\n        this.svgElement.setAttribute('viewBox', -this.finalTransform.mProp.p.v[0] + ' ' + -this.finalTransform.mProp.p.v[1] + ' ' + this.compW + ' ' + this.compH);\n        svgStyle = this.svgElement.style;\n        var translation = 'translate(' + -this.finalTransform.mProp.p.v[0] + 'px,' + -this.finalTransform.mProp.p.v[1] + 'px)';\n        svgStyle.transform = translation;\n        svgStyle.webkitTransform = translation;\n      }\n    }\n\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n\n    if (!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag) {\n      return;\n    }\n\n    var i;\n    var len;\n    var count = 0;\n    var renderedLetters = this.textAnimator.renderedLetters;\n    var letters = this.textProperty.currentData.l;\n    len = letters.length;\n    var renderedLetter;\n    var textSpan;\n    var textPath;\n\n    for (i = 0; i < len; i += 1) {\n      if (letters[i].n) {\n        count += 1;\n      } else {\n        textSpan = this.textSpans[i];\n        textPath = this.textPaths[i];\n        renderedLetter = renderedLetters[count];\n        count += 1;\n\n        if (renderedLetter._mdf.m) {\n          if (!this.isMasked) {\n            textSpan.style.webkitTransform = renderedLetter.m;\n            textSpan.style.transform = renderedLetter.m;\n          } else {\n            textSpan.setAttribute('transform', renderedLetter.m);\n          }\n        } /// /textSpan.setAttribute('opacity',renderedLetter.o);\n\n\n        textSpan.style.opacity = renderedLetter.o;\n\n        if (renderedLetter.sw && renderedLetter._mdf.sw) {\n          textPath.setAttribute('stroke-width', renderedLetter.sw);\n        }\n\n        if (renderedLetter.sc && renderedLetter._mdf.sc) {\n          textPath.setAttribute('stroke', renderedLetter.sc);\n        }\n\n        if (renderedLetter.fc && renderedLetter._mdf.fc) {\n          textPath.setAttribute('fill', renderedLetter.fc);\n          textPath.style.color = renderedLetter.fc;\n        }\n      }\n    }\n\n    if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {\n      var boundingBox = this.innerElem.getBBox();\n\n      if (this.currentBBox.w !== boundingBox.width) {\n        this.currentBBox.w = boundingBox.width;\n        this.svgElement.setAttribute('width', boundingBox.width);\n      }\n\n      if (this.currentBBox.h !== boundingBox.height) {\n        this.currentBBox.h = boundingBox.height;\n        this.svgElement.setAttribute('height', boundingBox.height);\n      }\n\n      var margin = 1;\n\n      if (this.currentBBox.w !== boundingBox.width + margin * 2 || this.currentBBox.h !== boundingBox.height + margin * 2 || this.currentBBox.x !== boundingBox.x - margin || this.currentBBox.y !== boundingBox.y - margin) {\n        this.currentBBox.w = boundingBox.width + margin * 2;\n        this.currentBBox.h = boundingBox.height + margin * 2;\n        this.currentBBox.x = boundingBox.x - margin;\n        this.currentBBox.y = boundingBox.y - margin;\n        this.svgElement.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\n        svgStyle = this.svgElement.style;\n        var svgTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\n        svgStyle.transform = svgTransform;\n        svgStyle.webkitTransform = svgTransform;\n      }\n    }\n  };\n\n  function HCameraElement(data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initHierarchy();\n    var getProp = PropertyFactory.getProp;\n    this.pe = getProp(this, data.pe, 0, 0, this);\n\n    if (data.ks.p.s) {\n      this.px = getProp(this, data.ks.p.x, 1, 0, this);\n      this.py = getProp(this, data.ks.p.y, 1, 0, this);\n      this.pz = getProp(this, data.ks.p.z, 1, 0, this);\n    } else {\n      this.p = getProp(this, data.ks.p, 1, 0, this);\n    }\n\n    if (data.ks.a) {\n      this.a = getProp(this, data.ks.a, 1, 0, this);\n    }\n\n    if (data.ks.or.k.length && data.ks.or.k[0].to) {\n      var i;\n      var len = data.ks.or.k.length;\n\n      for (i = 0; i < len; i += 1) {\n        data.ks.or.k[i].to = null;\n        data.ks.or.k[i].ti = null;\n      }\n    }\n\n    this.or = getProp(this, data.ks.or, 1, degToRads, this);\n    this.or.sh = true;\n    this.rx = getProp(this, data.ks.rx, 0, degToRads, this);\n    this.ry = getProp(this, data.ks.ry, 0, degToRads, this);\n    this.rz = getProp(this, data.ks.rz, 0, degToRads, this);\n    this.mat = new Matrix();\n    this._prevMat = new Matrix();\n    this._isFirstFrame = true; // TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\n\n    this.finalTransform = {\n      mProp: this\n    };\n  }\n\n  extendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement);\n\n  HCameraElement.prototype.setup = function () {\n    var i;\n    var len = this.comp.threeDElements.length;\n    var comp;\n    var perspectiveStyle;\n    var containerStyle;\n\n    for (i = 0; i < len; i += 1) {\n      // [perspectiveElem,container]\n      comp = this.comp.threeDElements[i];\n\n      if (comp.type === '3d') {\n        perspectiveStyle = comp.perspectiveElem.style;\n        containerStyle = comp.container.style;\n        var perspective = this.pe.v + 'px';\n        var origin = '0px 0px 0px';\n        var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n        perspectiveStyle.perspective = perspective;\n        perspectiveStyle.webkitPerspective = perspective;\n        containerStyle.transformOrigin = origin;\n        containerStyle.mozTransformOrigin = origin;\n        containerStyle.webkitTransformOrigin = origin;\n        perspectiveStyle.transform = matrix;\n        perspectiveStyle.webkitTransform = matrix;\n      }\n    }\n  };\n\n  HCameraElement.prototype.createElements = function () {};\n\n  HCameraElement.prototype.hide = function () {};\n\n  HCameraElement.prototype.renderFrame = function () {\n    var _mdf = this._isFirstFrame;\n    var i;\n    var len;\n\n    if (this.hierarchy) {\n      len = this.hierarchy.length;\n\n      for (i = 0; i < len; i += 1) {\n        _mdf = this.hierarchy[i].finalTransform.mProp._mdf || _mdf;\n      }\n    }\n\n    if (_mdf || this.pe._mdf || this.p && this.p._mdf || this.px && (this.px._mdf || this.py._mdf || this.pz._mdf) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || this.a && this.a._mdf) {\n      this.mat.reset();\n\n      if (this.hierarchy) {\n        len = this.hierarchy.length - 1;\n\n        for (i = len; i >= 0; i -= 1) {\n          var mTransf = this.hierarchy[i].finalTransform.mProp;\n          this.mat.translate(-mTransf.p.v[0], -mTransf.p.v[1], mTransf.p.v[2]);\n          this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);\n          this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);\n          this.mat.scale(1 / mTransf.s.v[0], 1 / mTransf.s.v[1], 1 / mTransf.s.v[2]);\n          this.mat.translate(mTransf.a.v[0], mTransf.a.v[1], mTransf.a.v[2]);\n        }\n      }\n\n      if (this.p) {\n        this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]);\n      } else {\n        this.mat.translate(-this.px.v, -this.py.v, this.pz.v);\n      }\n\n      if (this.a) {\n        var diffVector;\n\n        if (this.p) {\n          diffVector = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]];\n        } else {\n          diffVector = [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]];\n        }\n\n        var mag = Math.sqrt(Math.pow(diffVector[0], 2) + Math.pow(diffVector[1], 2) + Math.pow(diffVector[2], 2)); // var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\n\n        var lookDir = [diffVector[0] / mag, diffVector[1] / mag, diffVector[2] / mag];\n        var lookLengthOnXZ = Math.sqrt(lookDir[2] * lookDir[2] + lookDir[0] * lookDir[0]);\n        var mRotationX = Math.atan2(lookDir[1], lookLengthOnXZ);\n        var mRotationY = Math.atan2(lookDir[0], -lookDir[2]);\n        this.mat.rotateY(mRotationY).rotateX(-mRotationX);\n      }\n\n      this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\n      this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);\n      this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0);\n      this.mat.translate(0, 0, this.pe.v);\n      var hasMatrixChanged = !this._prevMat.equals(this.mat);\n\n      if ((hasMatrixChanged || this.pe._mdf) && this.comp.threeDElements) {\n        len = this.comp.threeDElements.length;\n        var comp;\n        var perspectiveStyle;\n        var containerStyle;\n\n        for (i = 0; i < len; i += 1) {\n          comp = this.comp.threeDElements[i];\n\n          if (comp.type === '3d') {\n            if (hasMatrixChanged) {\n              var matValue = this.mat.toCSS();\n              containerStyle = comp.container.style;\n              containerStyle.transform = matValue;\n              containerStyle.webkitTransform = matValue;\n            }\n\n            if (this.pe._mdf) {\n              perspectiveStyle = comp.perspectiveElem.style;\n              perspectiveStyle.perspective = this.pe.v + 'px';\n              perspectiveStyle.webkitPerspective = this.pe.v + 'px';\n            }\n          }\n        }\n\n        this.mat.clone(this._prevMat);\n      }\n    }\n\n    this._isFirstFrame = false;\n  };\n\n  HCameraElement.prototype.prepareFrame = function (num) {\n    this.prepareProperties(num, true);\n  };\n\n  HCameraElement.prototype.destroy = function () {};\n\n  HCameraElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  function HImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement);\n\n  HImageElement.prototype.createContent = function () {\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    var img = new Image();\n\n    if (this.data.hasMask) {\n      this.imageElem = createNS('image');\n      this.imageElem.setAttribute('width', this.assetData.w + 'px');\n      this.imageElem.setAttribute('height', this.assetData.h + 'px');\n      this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n      this.layerElement.appendChild(this.imageElem);\n      this.baseElement.setAttribute('width', this.assetData.w);\n      this.baseElement.setAttribute('height', this.assetData.h);\n    } else {\n      this.layerElement.appendChild(img);\n    }\n\n    img.crossOrigin = 'anonymous';\n    img.src = assetPath;\n\n    if (this.data.ln) {\n      this.baseElement.setAttribute('id', this.data.ln);\n    }\n  };\n\n  function HybridRendererBase(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.renderConfig = {\n      className: config && config.className || '',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '400%',\n        height: config && config.filterSize && config.filterSize.height || '400%',\n        x: config && config.filterSize && config.filterSize.x || '-100%',\n        y: config && config.filterSize && config.filterSize.y || '-100%'\n      }\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      renderConfig: this.renderConfig\n    };\n    this.pendingElements = [];\n    this.elements = [];\n    this.threeDElements = [];\n    this.destroyed = false;\n    this.camera = null;\n    this.supports3d = true;\n    this.rendererType = 'html';\n  }\n\n  extendPrototype([BaseRenderer], HybridRendererBase);\n  HybridRendererBase.prototype.buildItem = SVGRenderer.prototype.buildItem;\n\n  HybridRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n    }\n  };\n\n  HybridRendererBase.prototype.appendElementInPos = function (element, pos) {\n    var newDOMElement = element.getBaseElement();\n\n    if (!newDOMElement) {\n      return;\n    }\n\n    var layer = this.layers[pos];\n\n    if (!layer.ddd || !this.supports3d) {\n      if (this.threeDElements) {\n        this.addTo3dContainer(newDOMElement, pos);\n      } else {\n        var i = 0;\n        var nextDOMElement;\n        var nextLayer;\n        var tmpDOMElement;\n\n        while (i < pos) {\n          if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement) {\n            nextLayer = this.elements[i];\n            tmpDOMElement = this.layers[i].ddd ? this.getThreeDContainerByPos(i) : nextLayer.getBaseElement();\n            nextDOMElement = tmpDOMElement || nextDOMElement;\n          }\n\n          i += 1;\n        }\n\n        if (nextDOMElement) {\n          if (!layer.ddd || !this.supports3d) {\n            this.layerElement.insertBefore(newDOMElement, nextDOMElement);\n          }\n        } else if (!layer.ddd || !this.supports3d) {\n          this.layerElement.appendChild(newDOMElement);\n        }\n      }\n    } else {\n      this.addTo3dContainer(newDOMElement, pos);\n    }\n  };\n\n  HybridRendererBase.prototype.createShape = function (data) {\n    if (!this.supports3d) {\n      return new SVGShapeElement(data, this.globalData, this);\n    }\n\n    return new HShapeElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createText = function (data) {\n    if (!this.supports3d) {\n      return new SVGTextLottieElement(data, this.globalData, this);\n    }\n\n    return new HTextElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createCamera = function (data) {\n    this.camera = new HCameraElement(data, this.globalData, this);\n    return this.camera;\n  };\n\n  HybridRendererBase.prototype.createImage = function (data) {\n    if (!this.supports3d) {\n      return new IImageElement(data, this.globalData, this);\n    }\n\n    return new HImageElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createSolid = function (data) {\n    if (!this.supports3d) {\n      return new ISolidElement(data, this.globalData, this);\n    }\n\n    return new HSolidElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\n\n  HybridRendererBase.prototype.getThreeDContainerByPos = function (pos) {\n    var i = 0;\n    var len = this.threeDElements.length;\n\n    while (i < len) {\n      if (this.threeDElements[i].startPos <= pos && this.threeDElements[i].endPos >= pos) {\n        return this.threeDElements[i].perspectiveElem;\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  HybridRendererBase.prototype.createThreeDContainer = function (pos, type) {\n    var perspectiveElem = createTag('div');\n    var style;\n    var containerStyle;\n    styleDiv(perspectiveElem);\n    var container = createTag('div');\n    styleDiv(container);\n\n    if (type === '3d') {\n      style = perspectiveElem.style;\n      style.width = this.globalData.compSize.w + 'px';\n      style.height = this.globalData.compSize.h + 'px';\n      var center = '50% 50%';\n      style.webkitTransformOrigin = center;\n      style.mozTransformOrigin = center;\n      style.transformOrigin = center;\n      containerStyle = container.style;\n      var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n      containerStyle.transform = matrix;\n      containerStyle.webkitTransform = matrix;\n    }\n\n    perspectiveElem.appendChild(container); // this.resizerElem.appendChild(perspectiveElem);\n\n    var threeDContainerData = {\n      container: container,\n      perspectiveElem: perspectiveElem,\n      startPos: pos,\n      endPos: pos,\n      type: type\n    };\n    this.threeDElements.push(threeDContainerData);\n    return threeDContainerData;\n  };\n\n  HybridRendererBase.prototype.build3dContainers = function () {\n    var i;\n    var len = this.layers.length;\n    var lastThreeDContainerData;\n    var currentContainer = '';\n\n    for (i = 0; i < len; i += 1) {\n      if (this.layers[i].ddd && this.layers[i].ty !== 3) {\n        if (currentContainer !== '3d') {\n          currentContainer = '3d';\n          lastThreeDContainerData = this.createThreeDContainer(i, '3d');\n        }\n\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\n      } else {\n        if (currentContainer !== '2d') {\n          currentContainer = '2d';\n          lastThreeDContainerData = this.createThreeDContainer(i, '2d');\n        }\n\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\n      }\n    }\n\n    len = this.threeDElements.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);\n    }\n  };\n\n  HybridRendererBase.prototype.addTo3dContainer = function (elem, pos) {\n    var i = 0;\n    var len = this.threeDElements.length;\n\n    while (i < len) {\n      if (pos <= this.threeDElements[i].endPos) {\n        var j = this.threeDElements[i].startPos;\n        var nextElement;\n\n        while (j < pos) {\n          if (this.elements[j] && this.elements[j].getBaseElement) {\n            nextElement = this.elements[j].getBaseElement();\n          }\n\n          j += 1;\n        }\n\n        if (nextElement) {\n          this.threeDElements[i].container.insertBefore(elem, nextElement);\n        } else {\n          this.threeDElements[i].container.appendChild(elem);\n        }\n\n        break;\n      }\n\n      i += 1;\n    }\n  };\n\n  HybridRendererBase.prototype.configAnimation = function (animData) {\n    var resizerElem = createTag('div');\n    var wrapper = this.animationItem.wrapper;\n    var style = resizerElem.style;\n    style.width = animData.w + 'px';\n    style.height = animData.h + 'px';\n    this.resizerElem = resizerElem;\n    styleDiv(resizerElem);\n    style.transformStyle = 'flat';\n    style.mozTransformStyle = 'flat';\n    style.webkitTransformStyle = 'flat';\n\n    if (this.renderConfig.className) {\n      resizerElem.setAttribute('class', this.renderConfig.className);\n    }\n\n    wrapper.appendChild(resizerElem);\n    style.overflow = 'hidden';\n    var svg = createNS('svg');\n    svg.setAttribute('width', '1');\n    svg.setAttribute('height', '1');\n    styleDiv(svg);\n    this.resizerElem.appendChild(svg);\n    var defs = createNS('defs');\n    svg.appendChild(defs);\n    this.data = animData; // Mask animation\n\n    this.setupGlobalData(animData, svg);\n    this.globalData.defs = defs;\n    this.layers = animData.layers;\n    this.layerElement = this.resizerElem;\n    this.build3dContainers();\n    this.updateContainerSize();\n  };\n\n  HybridRendererBase.prototype.destroy = function () {\n    if (this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    this.animationItem.container = null;\n    this.globalData.defs = null;\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = 0; i < len; i += 1) {\n      this.elements[i].destroy();\n    }\n\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n  };\n\n  HybridRendererBase.prototype.updateContainerSize = function () {\n    var elementWidth = this.animationItem.wrapper.offsetWidth;\n    var elementHeight = this.animationItem.wrapper.offsetHeight;\n    var elementRel = elementWidth / elementHeight;\n    var animationRel = this.globalData.compSize.w / this.globalData.compSize.h;\n    var sx;\n    var sy;\n    var tx;\n    var ty;\n\n    if (animationRel > elementRel) {\n      sx = elementWidth / this.globalData.compSize.w;\n      sy = elementWidth / this.globalData.compSize.w;\n      tx = 0;\n      ty = (elementHeight - this.globalData.compSize.h * (elementWidth / this.globalData.compSize.w)) / 2;\n    } else {\n      sx = elementHeight / this.globalData.compSize.h;\n      sy = elementHeight / this.globalData.compSize.h;\n      tx = (elementWidth - this.globalData.compSize.w * (elementHeight / this.globalData.compSize.h)) / 2;\n      ty = 0;\n    }\n\n    var style = this.resizerElem.style;\n    style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,' + sy + ',0,0,0,0,1,0,' + tx + ',' + ty + ',0,1)';\n    style.transform = style.webkitTransform;\n  };\n\n  HybridRendererBase.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\n\n  HybridRendererBase.prototype.hide = function () {\n    this.resizerElem.style.display = 'none';\n  };\n\n  HybridRendererBase.prototype.show = function () {\n    this.resizerElem.style.display = 'block';\n  };\n\n  HybridRendererBase.prototype.initItems = function () {\n    this.buildAllItems();\n\n    if (this.camera) {\n      this.camera.setup();\n    } else {\n      var cWidth = this.globalData.compSize.w;\n      var cHeight = this.globalData.compSize.h;\n      var i;\n      var len = this.threeDElements.length;\n\n      for (i = 0; i < len; i += 1) {\n        var style = this.threeDElements[i].perspectiveElem.style;\n        style.webkitPerspective = Math.sqrt(Math.pow(cWidth, 2) + Math.pow(cHeight, 2)) + 'px';\n        style.perspective = style.webkitPerspective;\n      }\n    }\n  };\n\n  HybridRendererBase.prototype.searchExtraCompositions = function (assets) {\n    var i;\n    var len = assets.length;\n    var floatingContainer = createTag('div');\n\n    for (i = 0; i < len; i += 1) {\n      if (assets[i].xt) {\n        var comp = this.createComp(assets[i], floatingContainer, this.globalData.comp, null);\n        comp.initExpressions();\n        this.globalData.projectInterface.registerComposition(comp);\n      }\n    }\n  };\n\n  function HCompElement(data, globalData, comp) {\n    this.layers = data.layers;\n    this.supports3d = !data.hasMask;\n    this.completeLayers = false;\n    this.pendingElements = [];\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([HybridRendererBase, ICompElement, HBaseElement], HCompElement);\n  HCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;\n\n  HCompElement.prototype.createContainerElements = function () {\n    this._createBaseContainerElements(); // divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\n\n\n    if (this.data.hasMask) {\n      this.svgElement.setAttribute('width', this.data.w);\n      this.svgElement.setAttribute('height', this.data.h);\n      this.transformedElement = this.baseElement;\n    } else {\n      this.transformedElement = this.layerElement;\n    }\n  };\n\n  HCompElement.prototype.addTo3dContainer = function (elem, pos) {\n    var j = 0;\n    var nextElement;\n\n    while (j < pos) {\n      if (this.elements[j] && this.elements[j].getBaseElement) {\n        nextElement = this.elements[j].getBaseElement();\n      }\n\n      j += 1;\n    }\n\n    if (nextElement) {\n      this.layerElement.insertBefore(elem, nextElement);\n    } else {\n      this.layerElement.appendChild(elem);\n    }\n  };\n\n  HCompElement.prototype.createComp = function (data) {\n    if (!this.supports3d) {\n      return new SVGCompElement(data, this.globalData, this);\n    }\n\n    return new HCompElement(data, this.globalData, this);\n  };\n\n  function HybridRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.renderConfig = {\n      className: config && config.className || '',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '400%',\n        height: config && config.filterSize && config.filterSize.height || '400%',\n        x: config && config.filterSize && config.filterSize.x || '-100%',\n        y: config && config.filterSize && config.filterSize.y || '-100%'\n      }\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      renderConfig: this.renderConfig\n    };\n    this.pendingElements = [];\n    this.elements = [];\n    this.threeDElements = [];\n    this.destroyed = false;\n    this.camera = null;\n    this.supports3d = true;\n    this.rendererType = 'html';\n  }\n\n  extendPrototype([HybridRendererBase], HybridRenderer);\n\n  HybridRenderer.prototype.createComp = function (data) {\n    if (!this.supports3d) {\n      return new SVGCompElement(data, this.globalData, this);\n    }\n\n    return new HCompElement(data, this.globalData, this);\n  };\n\n  var Expressions = function () {\n    var ob = {};\n    ob.initExpressions = initExpressions;\n\n    function initExpressions(animation) {\n      var stackCount = 0;\n      var registers = [];\n\n      function pushExpression() {\n        stackCount += 1;\n      }\n\n      function popExpression() {\n        stackCount -= 1;\n\n        if (stackCount === 0) {\n          releaseInstances();\n        }\n      }\n\n      function registerExpressionProperty(expression) {\n        if (registers.indexOf(expression) === -1) {\n          registers.push(expression);\n        }\n      }\n\n      function releaseInstances() {\n        var i;\n        var len = registers.length;\n\n        for (i = 0; i < len; i += 1) {\n          registers[i].release();\n        }\n\n        registers.length = 0;\n      }\n\n      animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\n      animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\n      animation.renderer.globalData.pushExpression = pushExpression;\n      animation.renderer.globalData.popExpression = popExpression;\n      animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\n    }\n\n    return ob;\n  }();\n\n  function _typeof$1(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$1 = function _typeof(obj) { return typeof obj; }; } else { _typeof$1 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$1(obj); }\n\n  /* eslint-disable */\n\n  /*\r\n   Copyright 2014 David Bau.\r\n\r\n   Permission is hereby granted, free of charge, to any person obtaining\r\n   a copy of this software and associated documentation files (the\r\n   \"Software\"), to deal in the Software without restriction, including\r\n   without limitation the rights to use, copy, modify, merge, publish,\r\n   distribute, sublicense, and/or sell copies of the Software, and to\r\n   permit persons to whom the Software is furnished to do so, subject to\r\n   the following conditions:\r\n\r\n   The above copyright notice and this permission notice shall be\r\n   included in all copies or substantial portions of the Software.\r\n\r\n   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n   IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n   CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n   TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n   SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n   */\n  function seedRandom(pool, math) {\n    //\n    // The following constants are related to IEEE 754 limits.\n    //\n    var global = this,\n        width = 256,\n        // each RC4 output is 0 <= x < 256\n    chunks = 6,\n        // at least six RC4 outputs for each double\n    digits = 52,\n        // there are 52 significant digits in a double\n    rngname = 'random',\n        // rngname: name for Math.random and Math.seedrandom\n    startdenom = math.pow(width, chunks),\n        significance = math.pow(2, digits),\n        overflow = significance * 2,\n        mask = width - 1,\n        nodecrypto; // node.js crypto module, initialized at the bottom.\n    //\n    // seedrandom()\n    // This is the seedrandom function described above.\n    //\n\n    function seedrandom(seed, options, callback) {\n      var key = [];\n      options = options === true ? {\n        entropy: true\n      } : options || {}; // Flatten the seed string or build one from local entropy if needed.\n\n      var shortseed = mixkey(flatten(options.entropy ? [seed, tostring(pool)] : seed === null ? autoseed() : seed, 3), key); // Use the seed to initialize an ARC4 generator.\n\n      var arc4 = new ARC4(key); // This function returns a random double in [0, 1) that contains\n      // randomness in every bit of the mantissa of the IEEE 754 value.\n\n      var prng = function prng() {\n        var n = arc4.g(chunks),\n            // Start with a numerator n < 2 ^ 48\n        d = startdenom,\n            //   and denominator d = 2 ^ 48.\n        x = 0; //   and no 'extra last byte'.\n\n        while (n < significance) {\n          // Fill up all significant digits by\n          n = (n + x) * width; //   shifting numerator and\n\n          d *= width; //   denominator and generating a\n\n          x = arc4.g(1); //   new least-significant-byte.\n        }\n\n        while (n >= overflow) {\n          // To avoid rounding up, before adding\n          n /= 2; //   last byte, shift everything\n\n          d /= 2; //   right using integer math until\n\n          x >>>= 1; //   we have exactly the desired bits.\n        }\n\n        return (n + x) / d; // Form the number within [0, 1).\n      };\n\n      prng.int32 = function () {\n        return arc4.g(4) | 0;\n      };\n\n      prng.quick = function () {\n        return arc4.g(4) / 0x100000000;\n      };\n\n      prng[\"double\"] = prng; // Mix the randomness into accumulated entropy.\n\n      mixkey(tostring(arc4.S), pool); // Calling convention: what to return as a function of prng, seed, is_math.\n\n      return (options.pass || callback || function (prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) {\n            copy(state, arc4);\n          } // Only provide the .state method if requested via options.state.\n\n\n          prng.state = function () {\n            return copy(arc4, {});\n          };\n        } // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n\n\n        if (is_math_call) {\n          math[rngname] = prng;\n          return seed;\n        } // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(prng, shortseed, 'global' in options ? options.global : this == math, options.state);\n    }\n\n    math['seed' + rngname] = seedrandom; //\n    // ARC4\n    //\n    // An ARC4 implementation.  The constructor takes a key in the form of\n    // an array of at most (width) integers that should be 0 <= x < (width).\n    //\n    // The g(count) method returns a pseudorandom integer that concatenates\n    // the next (count) outputs from ARC4.  Its return value is a number x\n    // that is in the range 0 <= x < (width ^ count).\n    //\n\n    function ARC4(key) {\n      var t,\n          keylen = key.length,\n          me = this,\n          i = 0,\n          j = me.i = me.j = 0,\n          s = me.S = []; // The empty key [] is treated as [0].\n\n      if (!keylen) {\n        key = [keylen++];\n      } // Set up S using the standard key scheduling algorithm.\n\n\n      while (i < width) {\n        s[i] = i++;\n      }\n\n      for (i = 0; i < width; i++) {\n        s[i] = s[j = mask & j + key[i % keylen] + (t = s[i])];\n        s[j] = t;\n      } // The \"g\" method returns the next (count) outputs as one number.\n\n\n      me.g = function (count) {\n        // Using instance members instead of closure state nearly doubles speed.\n        var t,\n            r = 0,\n            i = me.i,\n            j = me.j,\n            s = me.S;\n\n        while (count--) {\n          t = s[i = mask & i + 1];\n          r = r * width + s[mask & (s[i] = s[j = mask & j + t]) + (s[j] = t)];\n        }\n\n        me.i = i;\n        me.j = j;\n        return r; // For robust unpredictability, the function call below automatically\n        // discards an initial batch of values.  This is called RC4-drop[256].\n        // See http://google.com/search?q=rsa+fluhrer+response&btnI\n      };\n    } //\n    // copy()\n    // Copies internal state of ARC4 to or from a plain object.\n    //\n\n\n    function copy(f, t) {\n      t.i = f.i;\n      t.j = f.j;\n      t.S = f.S.slice();\n      return t;\n    } //\n    // flatten()\n    // Converts an object tree to nested arrays of strings.\n    //\n\n\n    function flatten(obj, depth) {\n      var result = [],\n          typ = _typeof$1(obj),\n          prop;\n\n      if (depth && typ == 'object') {\n        for (prop in obj) {\n          try {\n            result.push(flatten(obj[prop], depth - 1));\n          } catch (e) {}\n        }\n      }\n\n      return result.length ? result : typ == 'string' ? obj : obj + '\\0';\n    } //\n    // mixkey()\n    // Mixes a string seed into a key that is an array of integers, and\n    // returns a shortened string seed that is equivalent to the result key.\n    //\n\n\n    function mixkey(seed, key) {\n      var stringseed = seed + '',\n          smear,\n          j = 0;\n\n      while (j < stringseed.length) {\n        key[mask & j] = mask & (smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++);\n      }\n\n      return tostring(key);\n    } //\n    // autoseed()\n    // Returns an object for autoseeding, using window.crypto and Node crypto\n    // module if available.\n    //\n\n\n    function autoseed() {\n      try {\n        if (nodecrypto) {\n          return tostring(nodecrypto.randomBytes(width));\n        }\n\n        var out = new Uint8Array(width);\n        (global.crypto || global.msCrypto).getRandomValues(out);\n        return tostring(out);\n      } catch (e) {\n        var browser = global.navigator,\n            plugins = browser && browser.plugins;\n        return [+new Date(), global, plugins, global.screen, tostring(pool)];\n      }\n    } //\n    // tostring()\n    // Converts an array of charcodes to a string\n    //\n\n\n    function tostring(a) {\n      return String.fromCharCode.apply(0, a);\n    } //\n    // When seedrandom.js is loaded, we immediately mix a few bits\n    // from the built-in RNG into the entropy pool.  Because we do\n    // not want to interfere with deterministic PRNG state later,\n    // seedrandom will not call math.random on its own again after\n    // initialization.\n    //\n\n\n    mixkey(math.random(), pool); //\n    // Nodejs and AMD support: export the implementation as a module using\n    // either convention.\n    //\n    // End anonymous scope, and pass initial values.\n  }\n\n  ;\n\n  function initialize$2(BMMath) {\n    seedRandom([], BMMath);\n  }\n\n  var propTypes = {\n    SHAPE: 'shape'\n  };\n\n  function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n  var ExpressionManager = function () {\n    'use strict';\n\n    var ob = {};\n    var Math = BMMath;\n    var window = null;\n    var document = null;\n    var XMLHttpRequest = null;\n    var fetch = null;\n    var frames = null;\n    initialize$2(BMMath);\n\n    function $bm_isInstanceOfArray(arr) {\n      return arr.constructor === Array || arr.constructor === Float32Array;\n    }\n\n    function isNumerable(tOfV, v) {\n      return tOfV === 'number' || tOfV === 'boolean' || tOfV === 'string' || v instanceof Number;\n    }\n\n    function $bm_neg(a) {\n      var tOfA = _typeof(a);\n\n      if (tOfA === 'number' || tOfA === 'boolean' || a instanceof Number) {\n        return -a;\n      }\n\n      if ($bm_isInstanceOfArray(a)) {\n        var i;\n        var lenA = a.length;\n        var retArr = [];\n\n        for (i = 0; i < lenA; i += 1) {\n          retArr[i] = -a[i];\n        }\n\n        return retArr;\n      }\n\n      if (a.propType) {\n        return a.v;\n      }\n\n      return -a;\n    }\n\n    var easeInBez = BezierFactory.getBezierEasing(0.333, 0, 0.833, 0.833, 'easeIn').get;\n    var easeOutBez = BezierFactory.getBezierEasing(0.167, 0.167, 0.667, 1, 'easeOut').get;\n    var easeInOutBez = BezierFactory.getBezierEasing(0.33, 0, 0.667, 1, 'easeInOut').get;\n\n    function sum(a, b) {\n      var tOfA = _typeof(a);\n\n      var tOfB = _typeof(b);\n\n      if (tOfA === 'string' || tOfB === 'string') {\n        return a + b;\n      }\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a + b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        a = a.slice(0);\n        a[0] += b;\n        return a;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        b = b.slice(0);\n        b[0] = a + b[0];\n        return b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n        var i = 0;\n        var lenA = a.length;\n        var lenB = b.length;\n        var retArr = [];\n\n        while (i < lenA || i < lenB) {\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n            retArr[i] = a[i] + b[i];\n          } else {\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n          }\n\n          i += 1;\n        }\n\n        return retArr;\n      }\n\n      return 0;\n    }\n\n    var add = sum;\n\n    function sub(a, b) {\n      var tOfA = _typeof(a);\n\n      var tOfB = _typeof(b);\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        if (tOfA === 'string') {\n          a = parseInt(a, 10);\n        }\n\n        if (tOfB === 'string') {\n          b = parseInt(b, 10);\n        }\n\n        return a - b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        a = a.slice(0);\n        a[0] -= b;\n        return a;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        b = b.slice(0);\n        b[0] = a - b[0];\n        return b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n        var i = 0;\n        var lenA = a.length;\n        var lenB = b.length;\n        var retArr = [];\n\n        while (i < lenA || i < lenB) {\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n            retArr[i] = a[i] - b[i];\n          } else {\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n          }\n\n          i += 1;\n        }\n\n        return retArr;\n      }\n\n      return 0;\n    }\n\n    function mul(a, b) {\n      var tOfA = _typeof(a);\n\n      var tOfB = _typeof(b);\n\n      var arr;\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a * b;\n      }\n\n      var i;\n      var len;\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        len = a.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a[i] * b;\n        }\n\n        return arr;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        len = b.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a * b[i];\n        }\n\n        return arr;\n      }\n\n      return 0;\n    }\n\n    function div(a, b) {\n      var tOfA = _typeof(a);\n\n      var tOfB = _typeof(b);\n\n      var arr;\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a / b;\n      }\n\n      var i;\n      var len;\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        len = a.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a[i] / b;\n        }\n\n        return arr;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        len = b.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a / b[i];\n        }\n\n        return arr;\n      }\n\n      return 0;\n    }\n\n    function mod(a, b) {\n      if (typeof a === 'string') {\n        a = parseInt(a, 10);\n      }\n\n      if (typeof b === 'string') {\n        b = parseInt(b, 10);\n      }\n\n      return a % b;\n    }\n\n    var $bm_sum = sum;\n    var $bm_sub = sub;\n    var $bm_mul = mul;\n    var $bm_div = div;\n    var $bm_mod = mod;\n\n    function clamp(num, min, max) {\n      if (min > max) {\n        var mm = max;\n        max = min;\n        min = mm;\n      }\n\n      return Math.min(Math.max(num, min), max);\n    }\n\n    function radiansToDegrees(val) {\n      return val / degToRads;\n    }\n\n    var radians_to_degrees = radiansToDegrees;\n\n    function degreesToRadians(val) {\n      return val * degToRads;\n    }\n\n    var degrees_to_radians = radiansToDegrees;\n    var helperLengthArray = [0, 0, 0, 0, 0, 0];\n\n    function length(arr1, arr2) {\n      if (typeof arr1 === 'number' || arr1 instanceof Number) {\n        arr2 = arr2 || 0;\n        return Math.abs(arr1 - arr2);\n      }\n\n      if (!arr2) {\n        arr2 = helperLengthArray;\n      }\n\n      var i;\n      var len = Math.min(arr1.length, arr2.length);\n      var addedLength = 0;\n\n      for (i = 0; i < len; i += 1) {\n        addedLength += Math.pow(arr2[i] - arr1[i], 2);\n      }\n\n      return Math.sqrt(addedLength);\n    }\n\n    function normalize(vec) {\n      return div(vec, length(vec));\n    }\n\n    function rgbToHsl(val) {\n      var r = val[0];\n      var g = val[1];\n      var b = val[2];\n      var max = Math.max(r, g, b);\n      var min = Math.min(r, g, b);\n      var h;\n      var s;\n      var l = (max + min) / 2;\n\n      if (max === min) {\n        h = 0; // achromatic\n\n        s = 0; // achromatic\n      } else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n        switch (max) {\n          case r:\n            h = (g - b) / d + (g < b ? 6 : 0);\n            break;\n\n          case g:\n            h = (b - r) / d + 2;\n            break;\n\n          case b:\n            h = (r - g) / d + 4;\n            break;\n\n          default:\n            break;\n        }\n\n        h /= 6;\n      }\n\n      return [h, s, l, val[3]];\n    }\n\n    function hue2rgb(p, q, t) {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1 / 6) return p + (q - p) * 6 * t;\n      if (t < 1 / 2) return q;\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n      return p;\n    }\n\n    function hslToRgb(val) {\n      var h = val[0];\n      var s = val[1];\n      var l = val[2];\n      var r;\n      var g;\n      var b;\n\n      if (s === 0) {\n        r = l; // achromatic\n\n        b = l; // achromatic\n\n        g = l; // achromatic\n      } else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n      }\n\n      return [r, g, b, val[3]];\n    }\n\n    function linear(t, tMin, tMax, value1, value2) {\n      if (value1 === undefined || value2 === undefined) {\n        value1 = tMin;\n        value2 = tMax;\n        tMin = 0;\n        tMax = 1;\n      }\n\n      if (tMax < tMin) {\n        var _tMin = tMax;\n        tMax = tMin;\n        tMin = _tMin;\n      }\n\n      if (t <= tMin) {\n        return value1;\n      }\n\n      if (t >= tMax) {\n        return value2;\n      }\n\n      var perc = tMax === tMin ? 0 : (t - tMin) / (tMax - tMin);\n\n      if (!value1.length) {\n        return value1 + (value2 - value1) * perc;\n      }\n\n      var i;\n      var len = value1.length;\n      var arr = createTypedArray('float32', len);\n\n      for (i = 0; i < len; i += 1) {\n        arr[i] = value1[i] + (value2[i] - value1[i]) * perc;\n      }\n\n      return arr;\n    }\n\n    function random(min, max) {\n      if (max === undefined) {\n        if (min === undefined) {\n          min = 0;\n          max = 1;\n        } else {\n          max = min;\n          min = undefined;\n        }\n      }\n\n      if (max.length) {\n        var i;\n        var len = max.length;\n\n        if (!min) {\n          min = createTypedArray('float32', len);\n        }\n\n        var arr = createTypedArray('float32', len);\n        var rnd = BMMath.random();\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = min[i] + rnd * (max[i] - min[i]);\n        }\n\n        return arr;\n      }\n\n      if (min === undefined) {\n        min = 0;\n      }\n\n      var rndm = BMMath.random();\n      return min + rndm * (max - min);\n    }\n\n    function createPath(points, inTangents, outTangents, closed) {\n      var i;\n      var len = points.length;\n      var path = shapePool.newElement();\n      path.setPathData(!!closed, len);\n      var arrPlaceholder = [0, 0];\n      var inVertexPoint;\n      var outVertexPoint;\n\n      for (i = 0; i < len; i += 1) {\n        inVertexPoint = inTangents && inTangents[i] ? inTangents[i] : arrPlaceholder;\n        outVertexPoint = outTangents && outTangents[i] ? outTangents[i] : arrPlaceholder;\n        path.setTripleAt(points[i][0], points[i][1], outVertexPoint[0] + points[i][0], outVertexPoint[1] + points[i][1], inVertexPoint[0] + points[i][0], inVertexPoint[1] + points[i][1], i, true);\n      }\n\n      return path;\n    }\n\n    function initiateExpression(elem, data, property) {\n      var val = data.x;\n      var needsVelocity = /velocity(?![\\w\\d])/.test(val);\n\n      var _needsRandom = val.indexOf('random') !== -1;\n\n      var elemType = elem.data.ty;\n      var transform;\n      var $bm_transform;\n      var content;\n      var effect;\n      var thisProperty = property;\n      thisProperty.valueAtTime = thisProperty.getValueAtTime;\n      Object.defineProperty(thisProperty, 'value', {\n        get: function get() {\n          return thisProperty.v;\n        }\n      });\n      elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate;\n      elem.comp.displayStartTime = 0;\n      var inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n      var outPoint = elem.data.op / elem.comp.globalData.frameRate;\n      var width = elem.data.sw ? elem.data.sw : 0;\n      var height = elem.data.sh ? elem.data.sh : 0;\n      var name = elem.data.nm;\n      var loopIn;\n      var loop_in;\n      var loopOut;\n      var loop_out;\n      var smooth;\n      var toWorld;\n      var fromWorld;\n      var fromComp;\n      var toComp;\n      var fromCompToSurface;\n      var position;\n      var rotation;\n      var anchorPoint;\n      var scale;\n      var thisLayer;\n      var thisComp;\n      var mask;\n      var valueAtTime;\n      var velocityAtTime;\n      var scoped_bm_rt; // val = val.replace(/(\\\\?\"|')((http)(s)?(:\\/))?\\/.*?(\\\\?\"|')/g, \"\\\"\\\"\"); // deter potential network calls\n\n      var expression_function = eval('[function _expression_function(){' + val + ';scoped_bm_rt=$bm_rt}]')[0]; // eslint-disable-line no-eval\n\n      var numKeys = property.kf ? data.k.length : 0;\n      var active = !this.data || this.data.hd !== true;\n\n      var wiggle = function wiggle(freq, amp) {\n        var iWiggle;\n        var j;\n        var lenWiggle = this.pv.length ? this.pv.length : 1;\n        var addedAmps = createTypedArray('float32', lenWiggle);\n        freq = 5;\n        var iterations = Math.floor(time * freq);\n        iWiggle = 0;\n        j = 0;\n\n        while (iWiggle < iterations) {\n          // var rnd = BMMath.random();\n          for (j = 0; j < lenWiggle; j += 1) {\n            addedAmps[j] += -amp + amp * 2 * BMMath.random(); // addedAmps[j] += -amp + amp*2*rnd;\n          }\n\n          iWiggle += 1;\n        } // var rnd2 = BMMath.random();\n\n\n        var periods = time * freq;\n        var perc = periods - Math.floor(periods);\n        var arr = createTypedArray('float32', lenWiggle);\n\n        if (lenWiggle > 1) {\n          for (j = 0; j < lenWiggle; j += 1) {\n            arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp * 2 * BMMath.random()) * perc; // arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\n            // arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\n          }\n\n          return arr;\n        }\n\n        return this.pv + addedAmps[0] + (-amp + amp * 2 * BMMath.random()) * perc;\n      }.bind(this);\n\n      if (thisProperty.loopIn) {\n        loopIn = thisProperty.loopIn.bind(thisProperty);\n        loop_in = loopIn;\n      }\n\n      if (thisProperty.loopOut) {\n        loopOut = thisProperty.loopOut.bind(thisProperty);\n        loop_out = loopOut;\n      }\n\n      if (thisProperty.smooth) {\n        smooth = thisProperty.smooth.bind(thisProperty);\n      }\n\n      function loopInDuration(type, duration) {\n        return loopIn(type, duration, true);\n      }\n\n      function loopOutDuration(type, duration) {\n        return loopOut(type, duration, true);\n      }\n\n      if (this.getValueAtTime) {\n        valueAtTime = this.getValueAtTime.bind(this);\n      }\n\n      if (this.getVelocityAtTime) {\n        velocityAtTime = this.getVelocityAtTime.bind(this);\n      }\n\n      var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\n\n      function lookAt(elem1, elem2) {\n        var fVec = [elem2[0] - elem1[0], elem2[1] - elem1[1], elem2[2] - elem1[2]];\n        var pitch = Math.atan2(fVec[0], Math.sqrt(fVec[1] * fVec[1] + fVec[2] * fVec[2])) / degToRads;\n        var yaw = -Math.atan2(fVec[1], fVec[2]) / degToRads;\n        return [yaw, pitch, 0];\n      }\n\n      function easeOut(t, tMin, tMax, val1, val2) {\n        return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\n      }\n\n      function easeIn(t, tMin, tMax, val1, val2) {\n        return applyEase(easeInBez, t, tMin, tMax, val1, val2);\n      }\n\n      function ease(t, tMin, tMax, val1, val2) {\n        return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\n      }\n\n      function applyEase(fn, t, tMin, tMax, val1, val2) {\n        if (val1 === undefined) {\n          val1 = tMin;\n          val2 = tMax;\n        } else {\n          t = (t - tMin) / (tMax - tMin);\n        }\n\n        if (t > 1) {\n          t = 1;\n        } else if (t < 0) {\n          t = 0;\n        }\n\n        var mult = fn(t);\n\n        if ($bm_isInstanceOfArray(val1)) {\n          var iKey;\n          var lenKey = val1.length;\n          var arr = createTypedArray('float32', lenKey);\n\n          for (iKey = 0; iKey < lenKey; iKey += 1) {\n            arr[iKey] = (val2[iKey] - val1[iKey]) * mult + val1[iKey];\n          }\n\n          return arr;\n        }\n\n        return (val2 - val1) * mult + val1;\n      }\n\n      function nearestKey(time) {\n        var iKey;\n        var lenKey = data.k.length;\n        var index;\n        var keyTime;\n\n        if (!data.k.length || typeof data.k[0] === 'number') {\n          index = 0;\n          keyTime = 0;\n        } else {\n          index = -1;\n          time *= elem.comp.globalData.frameRate;\n\n          if (time < data.k[0].t) {\n            index = 1;\n            keyTime = data.k[0].t;\n          } else {\n            for (iKey = 0; iKey < lenKey - 1; iKey += 1) {\n              if (time === data.k[iKey].t) {\n                index = iKey + 1;\n                keyTime = data.k[iKey].t;\n                break;\n              } else if (time > data.k[iKey].t && time < data.k[iKey + 1].t) {\n                if (time - data.k[iKey].t > data.k[iKey + 1].t - time) {\n                  index = iKey + 2;\n                  keyTime = data.k[iKey + 1].t;\n                } else {\n                  index = iKey + 1;\n                  keyTime = data.k[iKey].t;\n                }\n\n                break;\n              }\n            }\n\n            if (index === -1) {\n              index = iKey + 1;\n              keyTime = data.k[iKey].t;\n            }\n          }\n        }\n\n        var obKey = {};\n        obKey.index = index;\n        obKey.time = keyTime / elem.comp.globalData.frameRate;\n        return obKey;\n      }\n\n      function key(ind) {\n        var obKey;\n        var iKey;\n        var lenKey;\n\n        if (!data.k.length || typeof data.k[0] === 'number') {\n          throw new Error('The property has no keyframe at index ' + ind);\n        }\n\n        ind -= 1;\n        obKey = {\n          time: data.k[ind].t / elem.comp.globalData.frameRate,\n          value: []\n        };\n        var arr = Object.prototype.hasOwnProperty.call(data.k[ind], 's') ? data.k[ind].s : data.k[ind - 1].e;\n        lenKey = arr.length;\n\n        for (iKey = 0; iKey < lenKey; iKey += 1) {\n          obKey[iKey] = arr[iKey];\n          obKey.value[iKey] = arr[iKey];\n        }\n\n        return obKey;\n      }\n\n      function framesToTime(fr, fps) {\n        if (!fps) {\n          fps = elem.comp.globalData.frameRate;\n        }\n\n        return fr / fps;\n      }\n\n      function timeToFrames(t, fps) {\n        if (!t && t !== 0) {\n          t = time;\n        }\n\n        if (!fps) {\n          fps = elem.comp.globalData.frameRate;\n        }\n\n        return t * fps;\n      }\n\n      function seedRandom(seed) {\n        BMMath.seedrandom(randSeed + seed);\n      }\n\n      function sourceRectAtTime() {\n        return elem.sourceRectAtTime();\n      }\n\n      function substring(init, end) {\n        if (typeof value === 'string') {\n          if (end === undefined) {\n            return value.substring(init);\n          }\n\n          return value.substring(init, end);\n        }\n\n        return '';\n      }\n\n      function substr(init, end) {\n        if (typeof value === 'string') {\n          if (end === undefined) {\n            return value.substr(init);\n          }\n\n          return value.substr(init, end);\n        }\n\n        return '';\n      }\n\n      function posterizeTime(framesPerSecond) {\n        time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond;\n        value = valueAtTime(time);\n      }\n\n      var time;\n      var velocity;\n      var value;\n      var text;\n      var textIndex;\n      var textTotal;\n      var selectorValue;\n      var index = elem.data.ind;\n      var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n      var parent;\n      var randSeed = Math.floor(Math.random() * 1000000);\n      var globalData = elem.globalData;\n\n      function executeExpression(_value) {\n        // globalData.pushExpression();\n        value = _value;\n\n        if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\n          return value;\n        }\n\n        if (this.propType === 'textSelector') {\n          textIndex = this.textIndex;\n          textTotal = this.textTotal;\n          selectorValue = this.selectorValue;\n        }\n\n        if (!thisLayer) {\n          text = elem.layerInterface.text;\n          thisLayer = elem.layerInterface;\n          thisComp = elem.comp.compInterface;\n          toWorld = thisLayer.toWorld.bind(thisLayer);\n          fromWorld = thisLayer.fromWorld.bind(thisLayer);\n          fromComp = thisLayer.fromComp.bind(thisLayer);\n          toComp = thisLayer.toComp.bind(thisLayer);\n          mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\n          fromCompToSurface = fromComp;\n        }\n\n        if (!transform) {\n          transform = elem.layerInterface('ADBE Transform Group');\n          $bm_transform = transform;\n\n          if (transform) {\n            anchorPoint = transform.anchorPoint;\n            /* position = transform.position;\r\n                      rotation = transform.rotation;\r\n                      scale = transform.scale; */\n          }\n        }\n\n        if (elemType === 4 && !content) {\n          content = thisLayer('ADBE Root Vectors Group');\n        }\n\n        if (!effect) {\n          effect = thisLayer(4);\n        }\n\n        hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n\n        if (hasParent && !parent) {\n          parent = elem.hierarchy[0].layerInterface;\n        }\n\n        time = this.comp.renderedFrame / this.comp.globalData.frameRate;\n\n        if (_needsRandom) {\n          seedRandom(randSeed + time);\n        }\n\n        if (needsVelocity) {\n          velocity = velocityAtTime(time);\n        }\n\n        expression_function();\n        this.frameExpressionId = elem.globalData.frameId; // TODO: Check if it's possible to return on ShapeInterface the .v value\n        // Changed this to a ternary operation because Rollup failed compiling it correctly\n\n        scoped_bm_rt = scoped_bm_rt.propType === propTypes.SHAPE ? scoped_bm_rt.v : scoped_bm_rt;\n        return scoped_bm_rt;\n      } // Bundlers will see these as dead code and unless we reference them\n\n\n      executeExpression.__preventDeadCodeRemoval = [$bm_transform, anchorPoint, time, velocity, inPoint, outPoint, width, height, name, loop_in, loop_out, smooth, toComp, fromCompToSurface, toWorld, fromWorld, mask, position, rotation, scale, thisComp, numKeys, active, wiggle, loopInDuration, loopOutDuration, comp, lookAt, easeOut, easeIn, ease, nearestKey, key, text, textIndex, textTotal, selectorValue, framesToTime, timeToFrames, sourceRectAtTime, substring, substr, posterizeTime, index, globalData];\n      return executeExpression;\n    }\n\n    ob.initiateExpression = initiateExpression;\n    ob.__preventDeadCodeRemoval = [window, document, XMLHttpRequest, fetch, frames, $bm_neg, add, $bm_sum, $bm_sub, $bm_mul, $bm_div, $bm_mod, clamp, radians_to_degrees, degreesToRadians, degrees_to_radians, normalize, rgbToHsl, hslToRgb, linear, random, createPath];\n    return ob;\n  }();\n\n  var expressionHelpers = function () {\n    function searchExpressions(elem, data, prop) {\n      if (data.x) {\n        prop.k = true;\n        prop.x = true;\n        prop.initiateExpression = ExpressionManager.initiateExpression;\n        prop.effectsSequence.push(prop.initiateExpression(elem, data, prop).bind(prop));\n      }\n    }\n\n    function getValueAtTime(frameNum) {\n      frameNum *= this.elem.globalData.frameRate;\n      frameNum -= this.offsetTime;\n\n      if (frameNum !== this._cachingAtTime.lastFrame) {\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\n        this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\n        this._cachingAtTime.lastFrame = frameNum;\n      }\n\n      return this._cachingAtTime.value;\n    }\n\n    function getSpeedAtTime(frameNum) {\n      var delta = -0.01;\n      var v1 = this.getValueAtTime(frameNum);\n      var v2 = this.getValueAtTime(frameNum + delta);\n      var speed = 0;\n\n      if (v1.length) {\n        var i;\n\n        for (i = 0; i < v1.length; i += 1) {\n          speed += Math.pow(v2[i] - v1[i], 2);\n        }\n\n        speed = Math.sqrt(speed) * 100;\n      } else {\n        speed = 0;\n      }\n\n      return speed;\n    }\n\n    function getVelocityAtTime(frameNum) {\n      if (this.vel !== undefined) {\n        return this.vel;\n      }\n\n      var delta = -0.001; // frameNum += this.elem.data.st;\n\n      var v1 = this.getValueAtTime(frameNum);\n      var v2 = this.getValueAtTime(frameNum + delta);\n      var velocity;\n\n      if (v1.length) {\n        velocity = createTypedArray('float32', v1.length);\n        var i;\n\n        for (i = 0; i < v1.length; i += 1) {\n          // removing frameRate\n          // if needed, don't add it here\n          // velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\n          velocity[i] = (v2[i] - v1[i]) / delta;\n        }\n      } else {\n        velocity = (v2 - v1) / delta;\n      }\n\n      return velocity;\n    }\n\n    function getStaticValueAtTime() {\n      return this.pv;\n    }\n\n    function setGroupProperty(propertyGroup) {\n      this.propertyGroup = propertyGroup;\n    }\n\n    return {\n      searchExpressions: searchExpressions,\n      getSpeedAtTime: getSpeedAtTime,\n      getVelocityAtTime: getVelocityAtTime,\n      getValueAtTime: getValueAtTime,\n      getStaticValueAtTime: getStaticValueAtTime,\n      setGroupProperty: setGroupProperty\n    };\n  }();\n\n  function addPropertyDecorator() {\n    function loopOut(type, duration, durationFlag) {\n      if (!this.k || !this.keyframes) {\n        return this.pv;\n      }\n\n      type = type ? type.toLowerCase() : '';\n      var currentFrame = this.comp.renderedFrame;\n      var keyframes = this.keyframes;\n      var lastKeyFrame = keyframes[keyframes.length - 1].t;\n\n      if (currentFrame <= lastKeyFrame) {\n        return this.pv;\n      }\n\n      var cycleDuration;\n      var firstKeyFrame;\n\n      if (!durationFlag) {\n        if (!duration || duration > keyframes.length - 1) {\n          duration = keyframes.length - 1;\n        }\n\n        firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\n        cycleDuration = lastKeyFrame - firstKeyFrame;\n      } else {\n        if (!duration) {\n          cycleDuration = Math.max(0, lastKeyFrame - this.elem.data.ip);\n        } else {\n          cycleDuration = Math.abs(lastKeyFrame - this.elem.comp.globalData.frameRate * duration);\n        }\n\n        firstKeyFrame = lastKeyFrame - cycleDuration;\n      }\n\n      var i;\n      var len;\n      var ret;\n\n      if (type === 'pingpong') {\n        var iterations = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n\n        if (iterations % 2 !== 0) {\n          return this.getValueAtTime((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n        }\n      } else if (type === 'offset') {\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n\n        var repeats = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n\n        if (this.pv.length) {\n          ret = new Array(initV.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = (endV[i] - initV[i]) * repeats + current[i];\n          }\n\n          return ret;\n        }\n\n        return (endV - initV) * repeats + current;\n      } else if (type === 'continue') {\n        var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\n\n        if (this.pv.length) {\n          ret = new Array(lastValue.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = lastValue[i] + (lastValue[i] - nextLastValue[i]) * ((currentFrame - lastKeyFrame) / this.comp.globalData.frameRate) / 0.0005; // eslint-disable-line\n          }\n\n          return ret;\n        }\n\n        return lastValue + (lastValue - nextLastValue) * ((currentFrame - lastKeyFrame) / 0.001);\n      }\n\n      return this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n    }\n\n    function loopIn(type, duration, durationFlag) {\n      if (!this.k) {\n        return this.pv;\n      }\n\n      type = type ? type.toLowerCase() : '';\n      var currentFrame = this.comp.renderedFrame;\n      var keyframes = this.keyframes;\n      var firstKeyFrame = keyframes[0].t;\n\n      if (currentFrame >= firstKeyFrame) {\n        return this.pv;\n      }\n\n      var cycleDuration;\n      var lastKeyFrame;\n\n      if (!durationFlag) {\n        if (!duration || duration > keyframes.length - 1) {\n          duration = keyframes.length - 1;\n        }\n\n        lastKeyFrame = keyframes[duration].t;\n        cycleDuration = lastKeyFrame - firstKeyFrame;\n      } else {\n        if (!duration) {\n          cycleDuration = Math.max(0, this.elem.data.op - firstKeyFrame);\n        } else {\n          cycleDuration = Math.abs(this.elem.comp.globalData.frameRate * duration);\n        }\n\n        lastKeyFrame = firstKeyFrame + cycleDuration;\n      }\n\n      var i;\n      var len;\n      var ret;\n\n      if (type === 'pingpong') {\n        var iterations = Math.floor((firstKeyFrame - currentFrame) / cycleDuration);\n\n        if (iterations % 2 === 0) {\n          return this.getValueAtTime(((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n        }\n      } else if (type === 'offset') {\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var current = this.getValueAtTime((cycleDuration - (firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0);\n        var repeats = Math.floor((firstKeyFrame - currentFrame) / cycleDuration) + 1;\n\n        if (this.pv.length) {\n          ret = new Array(initV.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = current[i] - (endV[i] - initV[i]) * repeats;\n          }\n\n          return ret;\n        }\n\n        return current - (endV - initV) * repeats;\n      } else if (type === 'continue') {\n        var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\n\n        if (this.pv.length) {\n          ret = new Array(firstValue.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = firstValue[i] + (firstValue[i] - nextFirstValue[i]) * (firstKeyFrame - currentFrame) / 0.001;\n          }\n\n          return ret;\n        }\n\n        return firstValue + (firstValue - nextFirstValue) * (firstKeyFrame - currentFrame) / 0.001;\n      }\n\n      return this.getValueAtTime((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n    }\n\n    function smooth(width, samples) {\n      if (!this.k) {\n        return this.pv;\n      }\n\n      width = (width || 0.4) * 0.5;\n      samples = Math.floor(samples || 5);\n\n      if (samples <= 1) {\n        return this.pv;\n      }\n\n      var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\n      var initFrame = currentTime - width;\n      var endFrame = currentTime + width;\n      var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\n      var i = 0;\n      var j = 0;\n      var value;\n\n      if (this.pv.length) {\n        value = createTypedArray('float32', this.pv.length);\n      } else {\n        value = 0;\n      }\n\n      var sampleValue;\n\n      while (i < samples) {\n        sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\n\n        if (this.pv.length) {\n          for (j = 0; j < this.pv.length; j += 1) {\n            value[j] += sampleValue[j];\n          }\n        } else {\n          value += sampleValue;\n        }\n\n        i += 1;\n      }\n\n      if (this.pv.length) {\n        for (j = 0; j < this.pv.length; j += 1) {\n          value[j] /= samples;\n        }\n      } else {\n        value /= samples;\n      }\n\n      return value;\n    }\n\n    function getTransformValueAtTime(time) {\n      if (!this._transformCachingAtTime) {\n        this._transformCachingAtTime = {\n          v: new Matrix()\n        };\n      } /// /\n\n\n      var matrix = this._transformCachingAtTime.v;\n      matrix.cloneFromProps(this.pre.props);\n\n      if (this.appliedTransformations < 1) {\n        var anchor = this.a.getValueAtTime(time);\n        matrix.translate(-anchor[0] * this.a.mult, -anchor[1] * this.a.mult, anchor[2] * this.a.mult);\n      }\n\n      if (this.appliedTransformations < 2) {\n        var scale = this.s.getValueAtTime(time);\n        matrix.scale(scale[0] * this.s.mult, scale[1] * this.s.mult, scale[2] * this.s.mult);\n      }\n\n      if (this.sk && this.appliedTransformations < 3) {\n        var skew = this.sk.getValueAtTime(time);\n        var skewAxis = this.sa.getValueAtTime(time);\n        matrix.skewFromAxis(-skew * this.sk.mult, skewAxis * this.sa.mult);\n      }\n\n      if (this.r && this.appliedTransformations < 4) {\n        var rotation = this.r.getValueAtTime(time);\n        matrix.rotate(-rotation * this.r.mult);\n      } else if (!this.r && this.appliedTransformations < 4) {\n        var rotationZ = this.rz.getValueAtTime(time);\n        var rotationY = this.ry.getValueAtTime(time);\n        var rotationX = this.rx.getValueAtTime(time);\n        var orientation = this.or.getValueAtTime(time);\n        matrix.rotateZ(-rotationZ * this.rz.mult).rotateY(rotationY * this.ry.mult).rotateX(rotationX * this.rx.mult).rotateZ(-orientation[2] * this.or.mult).rotateY(orientation[1] * this.or.mult).rotateX(orientation[0] * this.or.mult);\n      }\n\n      if (this.data.p && this.data.p.s) {\n        var positionX = this.px.getValueAtTime(time);\n        var positionY = this.py.getValueAtTime(time);\n\n        if (this.data.p.z) {\n          var positionZ = this.pz.getValueAtTime(time);\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, -positionZ * this.pz.mult);\n        } else {\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, 0);\n        }\n      } else {\n        var position = this.p.getValueAtTime(time);\n        matrix.translate(position[0] * this.p.mult, position[1] * this.p.mult, -position[2] * this.p.mult);\n      }\n\n      return matrix; /// /\n    }\n\n    function getTransformStaticValueAtTime() {\n      return this.v.clone(new Matrix());\n    }\n\n    var getTransformProperty = TransformPropertyFactory.getTransformProperty;\n\n    TransformPropertyFactory.getTransformProperty = function (elem, data, container) {\n      var prop = getTransformProperty(elem, data, container);\n\n      if (prop.dynamicProperties.length) {\n        prop.getValueAtTime = getTransformValueAtTime.bind(prop);\n      } else {\n        prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\n      }\n\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\n      return prop;\n    };\n\n    var propertyGetProp = PropertyFactory.getProp;\n\n    PropertyFactory.getProp = function (elem, data, type, mult, container) {\n      var prop = propertyGetProp(elem, data, type, mult, container); // prop.getVelocityAtTime = getVelocityAtTime;\n      // prop.loopOut = loopOut;\n      // prop.loopIn = loopIn;\n\n      if (prop.kf) {\n        prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\n      } else {\n        prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\n      }\n\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\n      prop.loopOut = loopOut;\n      prop.loopIn = loopIn;\n      prop.smooth = smooth;\n      prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\n      prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\n      prop.numKeys = data.a === 1 ? data.k.length : 0;\n      prop.propertyIndex = data.ix;\n      var value = 0;\n\n      if (type !== 0) {\n        value = createTypedArray('float32', data.a === 1 ? data.k[0].s.length : data.k.length);\n      }\n\n      prop._cachingAtTime = {\n        lastFrame: initialDefaultFrame,\n        lastIndex: 0,\n        value: value\n      };\n      expressionHelpers.searchExpressions(elem, data, prop);\n\n      if (prop.k) {\n        container.addDynamicProperty(prop);\n      }\n\n      return prop;\n    };\n\n    function getShapeValueAtTime(frameNum) {\n      // For now this caching object is created only when needed instead of creating it when the shape is initialized.\n      if (!this._cachingAtTime) {\n        this._cachingAtTime = {\n          shapeValue: shapePool.clone(this.pv),\n          lastIndex: 0,\n          lastTime: initialDefaultFrame\n        };\n      }\n\n      frameNum *= this.elem.globalData.frameRate;\n      frameNum -= this.offsetTime;\n\n      if (frameNum !== this._cachingAtTime.lastTime) {\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\n        this._cachingAtTime.lastTime = frameNum;\n        this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\n      }\n\n      return this._cachingAtTime.shapeValue;\n    }\n\n    var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\n    var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\n\n    function ShapeExpressions() {}\n\n    ShapeExpressions.prototype = {\n      vertices: function vertices(prop, time) {\n        if (this.k) {\n          this.getValue();\n        }\n\n        var shapePath = this.v;\n\n        if (time !== undefined) {\n          shapePath = this.getValueAtTime(time, 0);\n        }\n\n        var i;\n        var len = shapePath._length;\n        var vertices = shapePath[prop];\n        var points = shapePath.v;\n        var arr = createSizedArray(len);\n\n        for (i = 0; i < len; i += 1) {\n          if (prop === 'i' || prop === 'o') {\n            arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\n          } else {\n            arr[i] = [vertices[i][0], vertices[i][1]];\n          }\n        }\n\n        return arr;\n      },\n      points: function points(time) {\n        return this.vertices('v', time);\n      },\n      inTangents: function inTangents(time) {\n        return this.vertices('i', time);\n      },\n      outTangents: function outTangents(time) {\n        return this.vertices('o', time);\n      },\n      isClosed: function isClosed() {\n        return this.v.c;\n      },\n      pointOnPath: function pointOnPath(perc, time) {\n        var shapePath = this.v;\n\n        if (time !== undefined) {\n          shapePath = this.getValueAtTime(time, 0);\n        }\n\n        if (!this._segmentsLength) {\n          this._segmentsLength = bez.getSegmentsLength(shapePath);\n        }\n\n        var segmentsLength = this._segmentsLength;\n        var lengths = segmentsLength.lengths;\n        var lengthPos = segmentsLength.totalLength * perc;\n        var i = 0;\n        var len = lengths.length;\n        var accumulatedLength = 0;\n        var pt;\n\n        while (i < len) {\n          if (accumulatedLength + lengths[i].addedLength > lengthPos) {\n            var initIndex = i;\n            var endIndex = shapePath.c && i === len - 1 ? 0 : i + 1;\n            var segmentPerc = (lengthPos - accumulatedLength) / lengths[i].addedLength;\n            pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\n            break;\n          } else {\n            accumulatedLength += lengths[i].addedLength;\n          }\n\n          i += 1;\n        }\n\n        if (!pt) {\n          pt = shapePath.c ? [shapePath.v[0][0], shapePath.v[0][1]] : [shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1]];\n        }\n\n        return pt;\n      },\n      vectorOnPath: function vectorOnPath(perc, time, vectorType) {\n        // perc doesn't use triple equality because it can be a Number object as well as a primitive.\n        if (perc == 1) {\n          // eslint-disable-line eqeqeq\n          perc = this.v.c;\n        } else if (perc == 0) {\n          // eslint-disable-line eqeqeq\n          perc = 0.999;\n        }\n\n        var pt1 = this.pointOnPath(perc, time);\n        var pt2 = this.pointOnPath(perc + 0.001, time);\n        var xLength = pt2[0] - pt1[0];\n        var yLength = pt2[1] - pt1[1];\n        var magnitude = Math.sqrt(Math.pow(xLength, 2) + Math.pow(yLength, 2));\n\n        if (magnitude === 0) {\n          return [0, 0];\n        }\n\n        var unitVector = vectorType === 'tangent' ? [xLength / magnitude, yLength / magnitude] : [-yLength / magnitude, xLength / magnitude];\n        return unitVector;\n      },\n      tangentOnPath: function tangentOnPath(perc, time) {\n        return this.vectorOnPath(perc, time, 'tangent');\n      },\n      normalOnPath: function normalOnPath(perc, time) {\n        return this.vectorOnPath(perc, time, 'normal');\n      },\n      setGroupProperty: expressionHelpers.setGroupProperty,\n      getValueAtTime: expressionHelpers.getStaticValueAtTime\n    };\n    extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\n    extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\n    KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\n    KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\n    var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\n\n    ShapePropertyFactory.getShapeProp = function (elem, data, type, arr, trims) {\n      var prop = propertyGetShapeProp(elem, data, type, arr, trims);\n      prop.propertyIndex = data.ix;\n      prop.lock = false;\n\n      if (type === 3) {\n        expressionHelpers.searchExpressions(elem, data.pt, prop);\n      } else if (type === 4) {\n        expressionHelpers.searchExpressions(elem, data.ks, prop);\n      }\n\n      if (prop.k) {\n        elem.addDynamicProperty(prop);\n      }\n\n      return prop;\n    };\n  }\n\n  function initialize$1() {\n    addPropertyDecorator();\n  }\n\n  function addDecorator() {\n    function searchExpressions() {\n      if (this.data.d.x) {\n        this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this);\n        this.addEffect(this.getExpressionValue.bind(this));\n        return true;\n      }\n\n      return null;\n    }\n\n    TextProperty.prototype.getExpressionValue = function (currentValue, text) {\n      var newValue = this.calculateExpression(text);\n\n      if (currentValue.t !== newValue) {\n        var newData = {};\n        this.copyData(newData, currentValue);\n        newData.t = newValue.toString();\n        newData.__complete = false;\n        return newData;\n      }\n\n      return currentValue;\n    };\n\n    TextProperty.prototype.searchProperty = function () {\n      var isKeyframed = this.searchKeyframes();\n      var hasExpressions = this.searchExpressions();\n      this.kf = isKeyframed || hasExpressions;\n      return this.kf;\n    };\n\n    TextProperty.prototype.searchExpressions = searchExpressions;\n  }\n\n  function initialize() {\n    addDecorator();\n  }\n\n  function SVGComposableEffect() {}\n\n  SVGComposableEffect.prototype = {\n    createMergeNode: function createMergeNode(resultId, ins) {\n      var feMerge = createNS('feMerge');\n      feMerge.setAttribute('result', resultId);\n      var feMergeNode;\n      var i;\n\n      for (i = 0; i < ins.length; i += 1) {\n        feMergeNode = createNS('feMergeNode');\n        feMergeNode.setAttribute('in', ins[i]);\n        feMerge.appendChild(feMergeNode);\n        feMerge.appendChild(feMergeNode);\n      }\n\n      return feMerge;\n    }\n  };\n\n  function SVGTintFilter(filter, filterManager, elem, id, source) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\n    feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', id + '_tint_1');\n    filter.appendChild(feColorMatrix);\n    feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', id + '_tint_2');\n    filter.appendChild(feColorMatrix);\n    this.matrixFilter = feColorMatrix;\n    var feMerge = this.createMergeNode(id, [source, id + '_tint_1', id + '_tint_2']);\n    filter.appendChild(feMerge);\n  }\n\n  extendPrototype([SVGComposableEffect], SVGTintFilter);\n\n  SVGTintFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var colorBlack = this.filterManager.effectElements[0].p.v;\n      var colorWhite = this.filterManager.effectElements[1].p.v;\n      var opacity = this.filterManager.effectElements[2].p.v / 100;\n      this.matrixFilter.setAttribute('values', colorWhite[0] - colorBlack[0] + ' 0 0 0 ' + colorBlack[0] + ' ' + (colorWhite[1] - colorBlack[1]) + ' 0 0 0 ' + colorBlack[1] + ' ' + (colorWhite[2] - colorBlack[2]) + ' 0 0 0 ' + colorBlack[2] + ' 0 0 0 ' + opacity + ' 0');\n    }\n  };\n\n  function SVGFillFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', id);\n    filter.appendChild(feColorMatrix);\n    this.matrixFilter = feColorMatrix;\n  }\n\n  SVGFillFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var color = this.filterManager.effectElements[2].p.v;\n      var opacity = this.filterManager.effectElements[6].p.v;\n      this.matrixFilter.setAttribute('values', '0 0 0 0 ' + color[0] + ' 0 0 0 0 ' + color[1] + ' 0 0 0 0 ' + color[2] + ' 0 0 0 ' + opacity + ' 0');\n    }\n  };\n\n  function SVGStrokeEffect(fil, filterManager, elem) {\n    this.initialized = false;\n    this.filterManager = filterManager;\n    this.elem = elem;\n    this.paths = [];\n  }\n\n  SVGStrokeEffect.prototype.initialize = function () {\n    var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\n    var path;\n    var groupPath;\n    var i;\n    var len;\n\n    if (this.filterManager.effectElements[1].p.v === 1) {\n      len = this.elem.maskManager.masksProperties.length;\n      i = 0;\n    } else {\n      i = this.filterManager.effectElements[0].p.v - 1;\n      len = i + 1;\n    }\n\n    groupPath = createNS('g');\n    groupPath.setAttribute('fill', 'none');\n    groupPath.setAttribute('stroke-linecap', 'round');\n    groupPath.setAttribute('stroke-dashoffset', 1);\n\n    for (i; i < len; i += 1) {\n      path = createNS('path');\n      groupPath.appendChild(path);\n      this.paths.push({\n        p: path,\n        m: i\n      });\n    }\n\n    if (this.filterManager.effectElements[10].p.v === 3) {\n      var mask = createNS('mask');\n      var id = createElementID();\n      mask.setAttribute('id', id);\n      mask.setAttribute('mask-type', 'alpha');\n      mask.appendChild(groupPath);\n      this.elem.globalData.defs.appendChild(mask);\n      var g = createNS('g');\n      g.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\n\n      while (elemChildren[0]) {\n        g.appendChild(elemChildren[0]);\n      }\n\n      this.elem.layerElement.appendChild(g);\n      this.masker = mask;\n      groupPath.setAttribute('stroke', '#fff');\n    } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\n      if (this.filterManager.effectElements[10].p.v === 2) {\n        elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\n\n        while (elemChildren.length) {\n          this.elem.layerElement.removeChild(elemChildren[0]);\n        }\n      }\n\n      this.elem.layerElement.appendChild(groupPath);\n      this.elem.layerElement.removeAttribute('mask');\n      groupPath.setAttribute('stroke', '#fff');\n    }\n\n    this.initialized = true;\n    this.pathMasker = groupPath;\n  };\n\n  SVGStrokeEffect.prototype.renderFrame = function (forceRender) {\n    if (!this.initialized) {\n      this.initialize();\n    }\n\n    var i;\n    var len = this.paths.length;\n    var mask;\n    var path;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.paths[i].m !== -1) {\n        mask = this.elem.maskManager.viewData[this.paths[i].m];\n        path = this.paths[i].p;\n\n        if (forceRender || this.filterManager._mdf || mask.prop._mdf) {\n          path.setAttribute('d', mask.lastPath);\n        }\n\n        if (forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf) {\n          var dasharrayValue;\n\n          if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) {\n            var s = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\n            var e = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\n            var l = path.getTotalLength();\n            dasharrayValue = '0 0 0 ' + l * s + ' ';\n            var lineLength = l * (e - s);\n            var segment = 1 + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\n            var units = Math.floor(lineLength / segment);\n            var j;\n\n            for (j = 0; j < units; j += 1) {\n              dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01 + ' ';\n            }\n\n            dasharrayValue += '0 ' + l * 10 + ' 0 0';\n          } else {\n            dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\n          }\n\n          path.setAttribute('stroke-dasharray', dasharrayValue);\n        }\n      }\n    }\n\n    if (forceRender || this.filterManager.effectElements[4].p._mdf) {\n      this.pathMasker.setAttribute('stroke-width', this.filterManager.effectElements[4].p.v * 2);\n    }\n\n    if (forceRender || this.filterManager.effectElements[6].p._mdf) {\n      this.pathMasker.setAttribute('opacity', this.filterManager.effectElements[6].p.v);\n    }\n\n    if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\n      if (forceRender || this.filterManager.effectElements[3].p._mdf) {\n        var color = this.filterManager.effectElements[3].p.v;\n        this.pathMasker.setAttribute('stroke', 'rgb(' + bmFloor(color[0] * 255) + ',' + bmFloor(color[1] * 255) + ',' + bmFloor(color[2] * 255) + ')');\n      }\n    }\n  };\n\n  function SVGTritoneFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\n    feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\n    filter.appendChild(feColorMatrix);\n    var feComponentTransfer = createNS('feComponentTransfer');\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n    feComponentTransfer.setAttribute('result', id);\n    this.matrixFilter = feComponentTransfer;\n    var feFuncR = createNS('feFuncR');\n    feFuncR.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncR);\n    this.feFuncR = feFuncR;\n    var feFuncG = createNS('feFuncG');\n    feFuncG.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncG);\n    this.feFuncG = feFuncG;\n    var feFuncB = createNS('feFuncB');\n    feFuncB.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncB);\n    this.feFuncB = feFuncB;\n    filter.appendChild(feComponentTransfer);\n  }\n\n  SVGTritoneFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var color1 = this.filterManager.effectElements[0].p.v;\n      var color2 = this.filterManager.effectElements[1].p.v;\n      var color3 = this.filterManager.effectElements[2].p.v;\n      var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\n      var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\n      var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\n      this.feFuncR.setAttribute('tableValues', tableR);\n      this.feFuncG.setAttribute('tableValues', tableG);\n      this.feFuncB.setAttribute('tableValues', tableB);\n    }\n  };\n\n  function SVGProLevelsFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var effectElements = this.filterManager.effectElements;\n    var feComponentTransfer = createNS('feComponentTransfer'); // Red\n\n    if (effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1) {\n      this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\n    } // Green\n\n\n    if (effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1) {\n      this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\n    } // Blue\n\n\n    if (effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1) {\n      this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\n    } // Alpha\n\n\n    if (effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1) {\n      this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\n    } // RGB\n\n\n    if (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) {\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n      filter.appendChild(feComponentTransfer);\n    }\n\n    if (effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1) {\n      feComponentTransfer = createNS('feComponentTransfer');\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n      feComponentTransfer.setAttribute('result', id);\n      filter.appendChild(feComponentTransfer);\n      this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\n      this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\n      this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\n    }\n  }\n\n  SVGProLevelsFilter.prototype.createFeFunc = function (type, feComponentTransfer) {\n    var feFunc = createNS(type);\n    feFunc.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFunc);\n    return feFunc;\n  };\n\n  SVGProLevelsFilter.prototype.getTableValue = function (inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\n    var cnt = 0;\n    var segments = 256;\n    var perc;\n    var min = Math.min(inputBlack, inputWhite);\n    var max = Math.max(inputBlack, inputWhite);\n    var table = Array.call(null, {\n      length: segments\n    });\n    var colorValue;\n    var pos = 0;\n    var outputDelta = outputWhite - outputBlack;\n    var inputDelta = inputWhite - inputBlack;\n\n    while (cnt <= 256) {\n      perc = cnt / 256;\n\n      if (perc <= min) {\n        colorValue = inputDelta < 0 ? outputWhite : outputBlack;\n      } else if (perc >= max) {\n        colorValue = inputDelta < 0 ? outputBlack : outputWhite;\n      } else {\n        colorValue = outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma);\n      }\n\n      table[pos] = colorValue;\n      pos += 1;\n      cnt += 256 / (segments - 1);\n    }\n\n    return table.join(' ');\n  };\n\n  SVGProLevelsFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var val;\n      var effectElements = this.filterManager.effectElements;\n\n      if (this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)) {\n        val = this.getTableValue(effectElements[3].p.v, effectElements[4].p.v, effectElements[5].p.v, effectElements[6].p.v, effectElements[7].p.v);\n        this.feFuncRComposed.setAttribute('tableValues', val);\n        this.feFuncGComposed.setAttribute('tableValues', val);\n        this.feFuncBComposed.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)) {\n        val = this.getTableValue(effectElements[10].p.v, effectElements[11].p.v, effectElements[12].p.v, effectElements[13].p.v, effectElements[14].p.v);\n        this.feFuncR.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)) {\n        val = this.getTableValue(effectElements[17].p.v, effectElements[18].p.v, effectElements[19].p.v, effectElements[20].p.v, effectElements[21].p.v);\n        this.feFuncG.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)) {\n        val = this.getTableValue(effectElements[24].p.v, effectElements[25].p.v, effectElements[26].p.v, effectElements[27].p.v, effectElements[28].p.v);\n        this.feFuncB.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)) {\n        val = this.getTableValue(effectElements[31].p.v, effectElements[32].p.v, effectElements[33].p.v, effectElements[34].p.v, effectElements[35].p.v);\n        this.feFuncA.setAttribute('tableValues', val);\n      }\n    }\n  };\n\n  function SVGDropShadowEffect(filter, filterManager, elem, id, source) {\n    var filterSize = filterManager.container.globalData.renderConfig.filterSize;\n    filter.setAttribute('x', filterSize.x);\n    filter.setAttribute('y', filterSize.y);\n    filter.setAttribute('width', filterSize.width);\n    filter.setAttribute('height', filterSize.height);\n    this.filterManager = filterManager;\n    var feGaussianBlur = createNS('feGaussianBlur');\n    feGaussianBlur.setAttribute('in', 'SourceAlpha');\n    feGaussianBlur.setAttribute('result', id + '_drop_shadow_1');\n    feGaussianBlur.setAttribute('stdDeviation', '0');\n    this.feGaussianBlur = feGaussianBlur;\n    filter.appendChild(feGaussianBlur);\n    var feOffset = createNS('feOffset');\n    feOffset.setAttribute('dx', '25');\n    feOffset.setAttribute('dy', '0');\n    feOffset.setAttribute('in', id + '_drop_shadow_1');\n    feOffset.setAttribute('result', id + '_drop_shadow_2');\n    this.feOffset = feOffset;\n    filter.appendChild(feOffset);\n    var feFlood = createNS('feFlood');\n    feFlood.setAttribute('flood-color', '#00ff00');\n    feFlood.setAttribute('flood-opacity', '1');\n    feFlood.setAttribute('result', id + '_drop_shadow_3');\n    this.feFlood = feFlood;\n    filter.appendChild(feFlood);\n    var feComposite = createNS('feComposite');\n    feComposite.setAttribute('in', id + '_drop_shadow_3');\n    feComposite.setAttribute('in2', id + '_drop_shadow_2');\n    feComposite.setAttribute('operator', 'in');\n    feComposite.setAttribute('result', id + '_drop_shadow_4');\n    filter.appendChild(feComposite);\n    var feMerge = this.createMergeNode(id, [id + '_drop_shadow_4', source]);\n    filter.appendChild(feMerge); //\n  }\n\n  extendPrototype([SVGComposableEffect], SVGDropShadowEffect);\n\n  SVGDropShadowEffect.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      if (forceRender || this.filterManager.effectElements[4].p._mdf) {\n        this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\n      }\n\n      if (forceRender || this.filterManager.effectElements[0].p._mdf) {\n        var col = this.filterManager.effectElements[0].p.v;\n        this.feFlood.setAttribute('flood-color', rgbToHex(Math.round(col[0] * 255), Math.round(col[1] * 255), Math.round(col[2] * 255)));\n      }\n\n      if (forceRender || this.filterManager.effectElements[1].p._mdf) {\n        this.feFlood.setAttribute('flood-opacity', this.filterManager.effectElements[1].p.v / 255);\n      }\n\n      if (forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {\n        var distance = this.filterManager.effectElements[3].p.v;\n        var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\n        var x = distance * Math.cos(angle);\n        var y = distance * Math.sin(angle);\n        this.feOffset.setAttribute('dx', x);\n        this.feOffset.setAttribute('dy', y);\n      }\n    }\n  };\n\n  var _svgMatteSymbols = [];\n\n  function SVGMatte3Effect(filterElem, filterManager, elem) {\n    this.initialized = false;\n    this.filterManager = filterManager;\n    this.filterElem = filterElem;\n    this.elem = elem;\n    elem.matteElement = createNS('g');\n    elem.matteElement.appendChild(elem.layerElement);\n    elem.matteElement.appendChild(elem.transformedElement);\n    elem.baseElement = elem.matteElement;\n  }\n\n  SVGMatte3Effect.prototype.findSymbol = function (mask) {\n    var i = 0;\n    var len = _svgMatteSymbols.length;\n\n    while (i < len) {\n      if (_svgMatteSymbols[i] === mask) {\n        return _svgMatteSymbols[i];\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  SVGMatte3Effect.prototype.replaceInParent = function (mask, symbolId) {\n    var parentNode = mask.layerElement.parentNode;\n\n    if (!parentNode) {\n      return;\n    }\n\n    var children = parentNode.children;\n    var i = 0;\n    var len = children.length;\n\n    while (i < len) {\n      if (children[i] === mask.layerElement) {\n        break;\n      }\n\n      i += 1;\n    }\n\n    var nextChild;\n\n    if (i <= len - 2) {\n      nextChild = children[i + 1];\n    }\n\n    var useElem = createNS('use');\n    useElem.setAttribute('href', '#' + symbolId);\n\n    if (nextChild) {\n      parentNode.insertBefore(useElem, nextChild);\n    } else {\n      parentNode.appendChild(useElem);\n    }\n  };\n\n  SVGMatte3Effect.prototype.setElementAsMask = function (elem, mask) {\n    if (!this.findSymbol(mask)) {\n      var symbolId = createElementID();\n      var masker = createNS('mask');\n      masker.setAttribute('id', mask.layerId);\n      masker.setAttribute('mask-type', 'alpha');\n\n      _svgMatteSymbols.push(mask);\n\n      var defs = elem.globalData.defs;\n      defs.appendChild(masker);\n      var symbol = createNS('symbol');\n      symbol.setAttribute('id', symbolId);\n      this.replaceInParent(mask, symbolId);\n      symbol.appendChild(mask.layerElement);\n      defs.appendChild(symbol);\n      var useElem = createNS('use');\n      useElem.setAttribute('href', '#' + symbolId);\n      masker.appendChild(useElem);\n      mask.data.hd = false;\n      mask.show();\n    }\n\n    elem.setMatte(mask.layerId);\n  };\n\n  SVGMatte3Effect.prototype.initialize = function () {\n    var ind = this.filterManager.effectElements[0].p.v;\n    var elements = this.elem.comp.elements;\n    var i = 0;\n    var len = elements.length;\n\n    while (i < len) {\n      if (elements[i] && elements[i].data.ind === ind) {\n        this.setElementAsMask(this.elem, elements[i]);\n      }\n\n      i += 1;\n    }\n\n    this.initialized = true;\n  };\n\n  SVGMatte3Effect.prototype.renderFrame = function () {\n    if (!this.initialized) {\n      this.initialize();\n    }\n  };\n\n  function SVGGaussianBlurEffect(filter, filterManager, elem, id) {\n    // Outset the filter region by 100% on all sides to accommodate blur expansion.\n    filter.setAttribute('x', '-100%');\n    filter.setAttribute('y', '-100%');\n    filter.setAttribute('width', '300%');\n    filter.setAttribute('height', '300%');\n    this.filterManager = filterManager;\n    var feGaussianBlur = createNS('feGaussianBlur');\n    feGaussianBlur.setAttribute('result', id);\n    filter.appendChild(feGaussianBlur);\n    this.feGaussianBlur = feGaussianBlur;\n  }\n\n  SVGGaussianBlurEffect.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      // Empirical value, matching AE's blur appearance.\n      var kBlurrinessToSigma = 0.3;\n      var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma; // Dimensions mapping:\n      //\n      //   1 -> horizontal & vertical\n      //   2 -> horizontal only\n      //   3 -> vertical only\n      //\n\n      var dimensions = this.filterManager.effectElements[1].p.v;\n      var sigmaX = dimensions == 3 ? 0 : sigma; // eslint-disable-line eqeqeq\n\n      var sigmaY = dimensions == 2 ? 0 : sigma; // eslint-disable-line eqeqeq\n\n      this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + ' ' + sigmaY); // Repeat edges mapping:\n      //\n      //   0 -> off -> duplicate\n      //   1 -> on  -> wrap\n\n      var edgeMode = this.filterManager.effectElements[2].p.v == 1 ? 'wrap' : 'duplicate'; // eslint-disable-line eqeqeq\n\n      this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\n    }\n  };\n\n  registerRenderer('canvas', CanvasRenderer);\n  registerRenderer('html', HybridRenderer);\n  registerRenderer('svg', SVGRenderer); // Registering shape modifiers\n\n  ShapeModifiers.registerModifier('tm', TrimModifier);\n  ShapeModifiers.registerModifier('pb', PuckerAndBloatModifier);\n  ShapeModifiers.registerModifier('rp', RepeaterModifier);\n  ShapeModifiers.registerModifier('rd', RoundCornersModifier); // Registering expression plugin\n\n  setExpressionsPlugin(Expressions);\n  initialize$1();\n  initialize(); // Registering svg effects\n\n  registerEffect(20, SVGTintFilter, true);\n  registerEffect(21, SVGFillFilter, true);\n  registerEffect(22, SVGStrokeEffect, false);\n  registerEffect(23, SVGTritoneFilter, true);\n  registerEffect(24, SVGProLevelsFilter, true);\n  registerEffect(25, SVGDropShadowEffect, true);\n  registerEffect(28, SVGMatte3Effect, false);\n  registerEffect(29, SVGGaussianBlurEffect, true);\n\n  return lottie;\n\n}));\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n",null,null,"function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport accepts from 'attr-accept'; // Firefox versions prior to 53 return a bogus MIME type for every file drag, so dragovers with\n// that MIME type will always be accepted\n\nexport function fileAccepted(file, accept) {\n  return file.type === 'application/x-moz-file' || accepts(file, accept);\n}\nexport function fileMatchSize(file, minSize, maxSize) {\n  if (isDefined(file.size)) {\n    if (isDefined(minSize) && isDefined(maxSize)) return file.size >= minSize && file.size <= maxSize;else if (isDefined(minSize)) return file.size >= minSize;else if (isDefined(maxSize)) return file.size <= maxSize;\n  }\n\n  return true;\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null;\n}\n\nexport function allFilesAccepted(_ref) {\n  var files = _ref.files,\n      accept = _ref.accept,\n      minSize = _ref.minSize,\n      maxSize = _ref.maxSize,\n      multiple = _ref.multiple;\n\n  if (!multiple && files.length > 1) {\n    return false;\n  }\n\n  return files.every(function (file) {\n    return fileAccepted(file, accept) && fileMatchSize(file, minSize, maxSize);\n  });\n} // React's synthetic events has event.isPropagationStopped,\n// but to remain compatibility with other libs (Preact) fall back\n// to check event.cancelBubble\n\nexport function isPropagationStopped(event) {\n  if (typeof event.isPropagationStopped === 'function') {\n    return event.isPropagationStopped();\n  } else if (typeof event.cancelBubble !== 'undefined') {\n    return event.cancelBubble;\n  }\n\n  return false;\n}\nexport function isEvtWithFiles(event) {\n  if (!event.dataTransfer) {\n    return !!event.target && !!event.target.files;\n  } // https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/types\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Recommended_drag_types#file\n\n\n  return Array.prototype.some.call(event.dataTransfer.types, function (type) {\n    return type === 'Files' || type === 'application/x-moz-file';\n  });\n}\nexport function isKindFile(item) {\n  return _typeof(item) === 'object' && item !== null && item.kind === 'file';\n} // allow the entire document to be a drag target\n\nexport function onDocumentDragOver(event) {\n  event.preventDefault();\n}\n\nfunction isIe(userAgent) {\n  return userAgent.indexOf('MSIE') !== -1 || userAgent.indexOf('Trident/') !== -1;\n}\n\nfunction isEdge(userAgent) {\n  return userAgent.indexOf('Edge/') !== -1;\n}\n\nexport function isIeOrEdge() {\n  var userAgent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.navigator.userAgent;\n  return isIe(userAgent) || isEdge(userAgent);\n}\n/**\n * This is intended to be used to compose event handlers\n * They are executed in order until one of them calls `event.isPropagationStopped()`.\n * Note that the check is done on the first invoke too,\n * meaning that if propagation was stopped before invoking the fns,\n * no handlers will be executed.\n *\n * @param {Function} fns the event hanlder functions\n * @return {Function} the event handler to add to an element\n */\n\nexport function composeEventHandlers() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function (event) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    return fns.some(function (fn) {\n      if (!isPropagationStopped(event) && fn) {\n        fn.apply(void 0, [event].concat(args));\n      }\n\n      return isPropagationStopped(event);\n    });\n  };\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* eslint prefer-template: 0 */\nimport React, { forwardRef, Fragment, useCallback, useEffect, useImperativeHandle, useMemo, useReducer, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { fromEvent } from 'file-selector';\nimport { allFilesAccepted, composeEventHandlers, fileAccepted, fileMatchSize, isEvtWithFiles, isIeOrEdge, isPropagationStopped, onDocumentDragOver } from './utils/index';\n/**\n * Convenience wrapper component for the `useDropzone` hook\n *\n * ```jsx\n * <Dropzone>\n *   {({getRootProps, getInputProps}) => (\n *     <div {...getRootProps()}>\n *       <input {...getInputProps()} />\n *       <p>Drag 'n' drop some files here, or click to select files</p>\n *     </div>\n *   )}\n * </Dropzone>\n * ```\n */\n\nvar Dropzone = forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      params = _objectWithoutProperties(_ref, [\"children\"]);\n\n  var _useDropzone = useDropzone(params),\n      open = _useDropzone.open,\n      props = _objectWithoutProperties(_useDropzone, [\"open\"]);\n\n  useImperativeHandle(ref, function () {\n    return {\n      open: open\n    };\n  }, [open]); // TODO: Figure out why react-styleguidist cannot create docs if we don't return a jsx element\n\n  return React.createElement(Fragment, null, children(_objectSpread({}, props, {\n    open: open\n  })));\n});\nDropzone.displayName = 'Dropzone';\nDropzone.propTypes = {\n  /**\n   * Render function that exposes the dropzone state and prop getter fns\n   *\n   * @param {object} params\n   * @param {Function} params.getRootProps Returns the props you should apply to the root drop container you render\n   * @param {Function} params.getInputProps Returns the props you should apply to hidden file input you render\n   * @param {Function} params.open Open the native file selection dialog\n   * @param {boolean} params.isFocused Dropzone area is in focus\n   * @param {boolean} params.isFileDialogActive File dialog is opened\n   * @param {boolean} params.isDragActive Active drag is in progress\n   * @param {boolean} params.isDragAccept Dragged files are accepted\n   * @param {boolean} params.isDragReject Some dragged files are rejected\n   * @param {File[]} params.draggedFiles Files in active drag\n   * @param {File[]} params.acceptedFiles Accepted files\n   * @param {File[]} params.rejectedFiles Rejected files\n   */\n  children: PropTypes.func,\n\n  /**\n   * Set accepted file types.\n   * See https://github.com/okonet/attr-accept for more information.\n   * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n   * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n   * Windows. In some cases there might not be a mime type set at all.\n   * See: https://github.com/react-dropzone/react-dropzone/issues/276\n   */\n  accept: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n\n  /**\n   * Allow drag 'n' drop (or selection from the file dialog) of multiple files\n   */\n  multiple: PropTypes.bool,\n\n  /**\n   * If false, allow dropped items to take over the current browser window\n   */\n  preventDropOnDocument: PropTypes.bool,\n\n  /**\n   * If true, disables click to open the native file selection dialog\n   */\n  noClick: PropTypes.bool,\n\n  /**\n   * If true, disables SPACE/ENTER to open the native file selection dialog.\n   * Note that it also stops tracking the focus state.\n   */\n  noKeyboard: PropTypes.bool,\n\n  /**\n   * If true, disables drag 'n' drop\n   */\n  noDrag: PropTypes.bool,\n\n  /**\n   * If true, stops drag event propagation to parents\n   */\n  noDragEventsBubbling: PropTypes.bool,\n\n  /**\n   * Minimum file size (in bytes)\n   */\n  minSize: PropTypes.number,\n\n  /**\n   * Maximum file size (in bytes)\n   */\n  maxSize: PropTypes.number,\n\n  /**\n   * Enable/disable the dropzone\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Use this to provide a custom file aggregator\n   *\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n   */\n  getFilesFromEvent: PropTypes.func,\n\n  /**\n   * Cb for when closing the file dialog with no selection\n   */\n  onFileDialogCancel: PropTypes.func,\n\n  /**\n   * Cb for when the `dragenter` event occurs.\n   *\n   * @param {DragEvent} event\n   */\n  onDragEnter: PropTypes.func,\n\n  /**\n   * Cb for when the `dragleave` event occurs\n   *\n   * @param {DragEvent} event\n   */\n  onDragLeave: PropTypes.func,\n\n  /**\n   * Cb for when the `dragover` event occurs\n   *\n   * @param {DragEvent} event\n   */\n  onDragOver: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\n   *\n   * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\n   * `accept` must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.\n   * If `multiple` is set to false and additional files are droppped,\n   * all files besides the first will be rejected.\n   * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\n   *\n   * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\n   * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\n   *\n   * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\n   * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n   *\n   * ```js\n   * function onDrop(acceptedFiles) {\n   *   const req = request.post('/upload')\n   *   acceptedFiles.forEach(file => {\n   *     req.attach(file.name, file)\n   *   })\n   *   req.end(callback)\n   * }\n   * ```\n   *\n   * @param {File[]} acceptedFiles\n   * @param {File[]} rejectedFiles\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n   */\n  onDrop: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that if no files are accepted, this callback is not invoked.\n   *\n   * @param {File[]} files\n   * @param {(DragEvent|Event)} event\n   */\n  onDropAccepted: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that if no files are rejected, this callback is not invoked.\n   *\n   * @param {object[]} files\n   * @param {(DragEvent|Event)} event\n   */\n  onDropRejected: PropTypes.func\n};\nexport default Dropzone;\n/**\n * A function that is invoked for the `dragenter`,\n * `dragover` and `dragleave` events.\n * It is not invoked if the items are not files (such as link, text, etc.).\n *\n * @callback dragCb\n * @param {DragEvent} event\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n * It is not invoked if the items are not files (such as link, text, etc.).\n *\n * @callback dropCb\n * @param {File[]} acceptedFiles List of accepted files\n * @param {File[]} rejectedFiles List of rejected files\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n * It is not invoked if the items are files (such as link, text, etc.).\n *\n * @callback dropAcceptedCb\n * @param {File[]} files List of accepted files that meet the given criteria\n * (`accept`, `multiple`, `minSize`, `maxSize`)\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n *\n * @callback dropRejectedCb\n * @param {File[]} files List of rejected files that do not meet the given criteria\n * (`accept`, `multiple`, `minSize`, `maxSize`)\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is used aggregate files,\n * in a asynchronous fashion, from drag or input change events.\n *\n * @callback getFilesFromEvent\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n * @returns {(File[]|Promise<File[]>)}\n */\n\n/**\n * An object with the current dropzone state and some helper functions.\n *\n * @typedef {object} DropzoneState\n * @property {Function} getRootProps Returns the props you should apply to the root drop container you render\n * @property {Function} getInputProps Returns the props you should apply to hidden file input you render\n * @property {Function} open Open the native file selection dialog\n * @property {boolean} isFocused Dropzone area is in focus\n * @property {boolean} isFileDialogActive File dialog is opened\n * @property {boolean} isDragActive Active drag is in progress\n * @property {boolean} isDragAccept Dragged files are accepted\n * @property {boolean} isDragReject Some dragged files are rejected\n * @property {File[]} draggedFiles Files in active drag\n * @property {File[]} acceptedFiles Accepted files\n * @property {File[]} rejectedFiles Rejected files\n */\n\nvar initialState = {\n  isFocused: false,\n  isFileDialogActive: false,\n  isDragActive: false,\n  isDragAccept: false,\n  isDragReject: false,\n  draggedFiles: [],\n  acceptedFiles: [],\n  rejectedFiles: []\n};\n/**\n * A React hook that creates a drag 'n' drop area.\n *\n * ```jsx\n * function MyDropzone(props) {\n *   const {getRootProps, getInputProps} = useDropzone({\n *     onDrop: acceptedFiles => {\n *       // do something with the File objects, e.g. upload to some server\n *     }\n *   });\n *   return (\n *     <div {...getRootProps()}>\n *       <input {...getInputProps()} />\n *       <p>Drag and drop some files here, or click to select files</p>\n *     </div>\n *   )\n * }\n * ```\n *\n * @function useDropzone\n *\n * @param {object} props\n * @param {string|string[]} [props.accept] Set accepted file types.\n * See https://github.com/okonet/attr-accept for more information.\n * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n * Windows. In some cases there might not be a mime type set at all.\n * See: https://github.com/react-dropzone/react-dropzone/issues/276\n * @param {boolean} [props.multiple=true] Allow drag 'n' drop (or selection from the file dialog) of multiple files\n * @param {boolean} [props.preventDropOnDocument=true] If false, allow dropped items to take over the current browser window\n * @param {boolean} [props.noClick=false] If true, disables click to open the native file selection dialog\n * @param {boolean} [props.noKeyboard=false] If true, disables SPACE/ENTER to open the native file selection dialog.\n * Note that it also stops tracking the focus state.\n * @param {boolean} [props.noDrag=false] If true, disables drag 'n' drop\n * @param {boolean} [props.noDragEventsBubbling=false] If true, stops drag event propagation to parents\n * @param {number} [props.minSize=0] Minimum file size (in bytes)\n * @param {number} [props.maxSize=Infinity] Maximum file size (in bytes)\n * @param {boolean} [props.disabled=false] Enable/disable the dropzone\n * @param {getFilesFromEvent} [props.getFilesFromEvent] Use this to provide a custom file aggregator\n * @param {Function} [props.onFileDialogCancel] Cb for when closing the file dialog with no selection\n * @param {dragCb} [props.onDragEnter] Cb for when the `dragenter` event occurs.\n * @param {dragCb} [props.onDragLeave] Cb for when the `dragleave` event occurs\n * @param {dragCb} [props.onDragOver] Cb for when the `dragover` event occurs\n * @param {dropCb} [props.onDrop] Cb for when the `drop` event occurs.\n * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\n *\n * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\n * `accept` must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.\n * If `multiple` is set to false and additional files are droppped,\n * all files besides the first will be rejected.\n * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\n *\n * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\n * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\n *\n * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\n * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n *\n * ```js\n * function onDrop(acceptedFiles) {\n *   const req = request.post('/upload')\n *   acceptedFiles.forEach(file => {\n *     req.attach(file.name, file)\n *   })\n *   req.end(callback)\n * }\n * ```\n * @param {dropAcceptedCb} [props.onDropAccepted]\n * @param {dropRejectedCb} [props.onDropRejected]\n *\n * @returns {DropzoneState}\n */\n\nexport function useDropzone() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      accept = _ref2.accept,\n      _ref2$disabled = _ref2.disabled,\n      disabled = _ref2$disabled === void 0 ? false : _ref2$disabled,\n      _ref2$getFilesFromEve = _ref2.getFilesFromEvent,\n      getFilesFromEvent = _ref2$getFilesFromEve === void 0 ? fromEvent : _ref2$getFilesFromEve,\n      _ref2$maxSize = _ref2.maxSize,\n      maxSize = _ref2$maxSize === void 0 ? Infinity : _ref2$maxSize,\n      _ref2$minSize = _ref2.minSize,\n      minSize = _ref2$minSize === void 0 ? 0 : _ref2$minSize,\n      _ref2$multiple = _ref2.multiple,\n      multiple = _ref2$multiple === void 0 ? true : _ref2$multiple,\n      onDragEnter = _ref2.onDragEnter,\n      onDragLeave = _ref2.onDragLeave,\n      onDragOver = _ref2.onDragOver,\n      onDrop = _ref2.onDrop,\n      onDropAccepted = _ref2.onDropAccepted,\n      onDropRejected = _ref2.onDropRejected,\n      onFileDialogCancel = _ref2.onFileDialogCancel,\n      _ref2$preventDropOnDo = _ref2.preventDropOnDocument,\n      preventDropOnDocument = _ref2$preventDropOnDo === void 0 ? true : _ref2$preventDropOnDo,\n      _ref2$noClick = _ref2.noClick,\n      noClick = _ref2$noClick === void 0 ? false : _ref2$noClick,\n      _ref2$noKeyboard = _ref2.noKeyboard,\n      noKeyboard = _ref2$noKeyboard === void 0 ? false : _ref2$noKeyboard,\n      _ref2$noDrag = _ref2.noDrag,\n      noDrag = _ref2$noDrag === void 0 ? false : _ref2$noDrag,\n      _ref2$noDragEventsBub = _ref2.noDragEventsBubbling,\n      noDragEventsBubbling = _ref2$noDragEventsBub === void 0 ? false : _ref2$noDragEventsBub;\n\n  var rootRef = useRef(null);\n  var inputRef = useRef(null);\n\n  var _useReducer = useReducer(reducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var isFocused = state.isFocused,\n      isFileDialogActive = state.isFileDialogActive,\n      draggedFiles = state.draggedFiles; // Fn for opening the file dialog programmatically\n\n  var openFileDialog = useCallback(function () {\n    if (inputRef.current) {\n      dispatch({\n        type: 'openDialog'\n      });\n      inputRef.current.value = null;\n      inputRef.current.click();\n    }\n  }, [dispatch]); // Update file dialog active state when the window is focused on\n\n  var onWindowFocus = function onWindowFocus() {\n    // Execute the timeout only if the file dialog is opened in the browser\n    if (isFileDialogActive) {\n      setTimeout(function () {\n        if (inputRef.current) {\n          var files = inputRef.current.files;\n\n          if (!files.length) {\n            dispatch({\n              type: 'closeDialog'\n            });\n\n            if (typeof onFileDialogCancel === 'function') {\n              onFileDialogCancel();\n            }\n          }\n        }\n      }, 300);\n    }\n  };\n\n  useEffect(function () {\n    window.addEventListener('focus', onWindowFocus, false);\n    return function () {\n      window.removeEventListener('focus', onWindowFocus, false);\n    };\n  }, [inputRef, isFileDialogActive, onFileDialogCancel]); // Cb to open the file dialog when SPACE/ENTER occurs on the dropzone\n\n  var onKeyDownCb = useCallback(function (event) {\n    // Ignore keyboard events bubbling up the DOM tree\n    if (!rootRef.current || !rootRef.current.isEqualNode(event.target)) {\n      return;\n    }\n\n    if (event.keyCode === 32 || event.keyCode === 13) {\n      event.preventDefault();\n      openFileDialog();\n    }\n  }, [rootRef, inputRef]); // Update focus state for the dropzone\n\n  var onFocusCb = useCallback(function () {\n    dispatch({\n      type: 'focus'\n    });\n  }, []);\n  var onBlurCb = useCallback(function () {\n    dispatch({\n      type: 'blur'\n    });\n  }, []); // Cb to open the file dialog when click occurs on the dropzone\n\n  var onClickCb = useCallback(function () {\n    if (noClick) {\n      return;\n    } // In IE11/Edge the file-browser dialog is blocking, therefore, use setTimeout()\n    // to ensure React can handle state changes\n    // See: https://github.com/react-dropzone/react-dropzone/issues/450\n\n\n    if (isIeOrEdge()) {\n      setTimeout(openFileDialog, 0);\n    } else {\n      openFileDialog();\n    }\n  }, [inputRef, noClick]);\n  var dragTargetsRef = useRef([]);\n\n  var onDocumentDrop = function onDocumentDrop(event) {\n    if (rootRef.current && rootRef.current.contains(event.target)) {\n      // If we intercepted an event for our instance, let it propagate down to the instance's onDrop handler\n      return;\n    }\n\n    event.preventDefault();\n    dragTargetsRef.current = [];\n  };\n\n  useEffect(function () {\n    if (preventDropOnDocument) {\n      document.addEventListener('dragover', onDocumentDragOver, false);\n      document.addEventListener('drop', onDocumentDrop, false);\n    }\n\n    return function () {\n      if (preventDropOnDocument) {\n        document.removeEventListener('dragover', onDocumentDragOver);\n        document.removeEventListener('drop', onDocumentDrop);\n      }\n    };\n  }, [rootRef, preventDropOnDocument]);\n  var onDragEnterCb = useCallback(function (event) {\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\n\n    event.persist();\n    stopPropagation(event); // Count the dropzone and any children that are entered.\n\n    if (dragTargetsRef.current.indexOf(event.target) === -1) {\n      dragTargetsRef.current = [].concat(_toConsumableArray(dragTargetsRef.current), [event.target]);\n    }\n\n    if (isEvtWithFiles(event)) {\n      Promise.resolve(getFilesFromEvent(event)).then(function (draggedFiles) {\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\n          return;\n        }\n\n        dispatch({\n          draggedFiles: draggedFiles,\n          isDragActive: true,\n          type: 'setDraggedFiles'\n        });\n\n        if (onDragEnter) {\n          onDragEnter(event);\n        }\n      });\n    }\n  }, [getFilesFromEvent, onDragEnter, noDragEventsBubbling]);\n  var onDragOverCb = useCallback(function (event) {\n    event.preventDefault();\n    event.persist();\n    stopPropagation(event);\n\n    if (event.dataTransfer) {\n      try {\n        event.dataTransfer.dropEffect = 'copy';\n      } catch (_unused) {}\n      /* eslint-disable-line no-empty */\n\n    }\n\n    if (isEvtWithFiles(event) && onDragOver) {\n      onDragOver(event);\n    }\n\n    return false;\n  }, [onDragOver, noDragEventsBubbling]);\n  var onDragLeaveCb = useCallback(function (event) {\n    event.preventDefault();\n    event.persist();\n    stopPropagation(event); // Only deactivate once the dropzone and all children have been left\n\n    var targets = dragTargetsRef.current.filter(function (target) {\n      return target !== event.target && rootRef.current && rootRef.current.contains(target);\n    });\n    dragTargetsRef.current = targets;\n\n    if (targets.length > 0) {\n      return;\n    }\n\n    dispatch({\n      isDragActive: false,\n      type: 'setDraggedFiles',\n      draggedFiles: []\n    });\n\n    if (isEvtWithFiles(event) && onDragLeave) {\n      onDragLeave(event);\n    }\n  }, [rootRef, onDragLeave, noDragEventsBubbling]);\n  var onDropCb = useCallback(function (event) {\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\n\n    event.persist();\n    stopPropagation(event);\n    dragTargetsRef.current = [];\n\n    if (isEvtWithFiles(event)) {\n      Promise.resolve(getFilesFromEvent(event)).then(function (files) {\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\n          return;\n        }\n\n        var acceptedFiles = [];\n        var rejectedFiles = [];\n        files.forEach(function (file) {\n          if (fileAccepted(file, accept) && fileMatchSize(file, minSize, maxSize)) {\n            acceptedFiles.push(file);\n          } else {\n            rejectedFiles.push(file);\n          }\n        });\n\n        if (!multiple && acceptedFiles.length > 1) {\n          rejectedFiles.push.apply(rejectedFiles, _toConsumableArray(acceptedFiles.splice(0))); // Reject everything and empty accepted files\n        }\n\n        dispatch({\n          acceptedFiles: acceptedFiles,\n          rejectedFiles: rejectedFiles,\n          type: 'setFiles'\n        });\n\n        if (onDrop) {\n          onDrop(acceptedFiles, rejectedFiles, event);\n        }\n\n        if (rejectedFiles.length > 0 && onDropRejected) {\n          onDropRejected(rejectedFiles, event);\n        }\n\n        if (acceptedFiles.length > 0 && onDropAccepted) {\n          onDropAccepted(acceptedFiles, event);\n        }\n      });\n    }\n\n    dispatch({\n      type: 'reset'\n    });\n  }, [multiple, accept, minSize, maxSize, getFilesFromEvent, onDrop, onDropAccepted, onDropRejected, noDragEventsBubbling]);\n\n  var composeHandler = function composeHandler(fn) {\n    return disabled ? null : fn;\n  };\n\n  var composeKeyboardHandler = function composeKeyboardHandler(fn) {\n    return noKeyboard ? null : composeHandler(fn);\n  };\n\n  var composeDragHandler = function composeDragHandler(fn) {\n    return noDrag ? null : composeHandler(fn);\n  };\n\n  var stopPropagation = function stopPropagation(event) {\n    if (noDragEventsBubbling) {\n      event.stopPropagation();\n    }\n  };\n\n  var getRootProps = useMemo(function () {\n    return function () {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$refKey = _ref3.refKey,\n          refKey = _ref3$refKey === void 0 ? 'ref' : _ref3$refKey,\n          onKeyDown = _ref3.onKeyDown,\n          onFocus = _ref3.onFocus,\n          onBlur = _ref3.onBlur,\n          onClick = _ref3.onClick,\n          onDragEnter = _ref3.onDragEnter,\n          onDragOver = _ref3.onDragOver,\n          onDragLeave = _ref3.onDragLeave,\n          onDrop = _ref3.onDrop,\n          rest = _objectWithoutProperties(_ref3, [\"refKey\", \"onKeyDown\", \"onFocus\", \"onBlur\", \"onClick\", \"onDragEnter\", \"onDragOver\", \"onDragLeave\", \"onDrop\"]);\n\n      return _objectSpread(_defineProperty({\n        onKeyDown: composeKeyboardHandler(composeEventHandlers(onKeyDown, onKeyDownCb)),\n        onFocus: composeKeyboardHandler(composeEventHandlers(onFocus, onFocusCb)),\n        onBlur: composeKeyboardHandler(composeEventHandlers(onBlur, onBlurCb)),\n        onClick: composeHandler(composeEventHandlers(onClick, onClickCb)),\n        onDragEnter: composeDragHandler(composeEventHandlers(onDragEnter, onDragEnterCb)),\n        onDragOver: composeDragHandler(composeEventHandlers(onDragOver, onDragOverCb)),\n        onDragLeave: composeDragHandler(composeEventHandlers(onDragLeave, onDragLeaveCb)),\n        onDrop: composeDragHandler(composeEventHandlers(onDrop, onDropCb))\n      }, refKey, rootRef), !disabled && !noKeyboard ? {\n        tabIndex: 0\n      } : {}, {}, rest);\n    };\n  }, [rootRef, onKeyDownCb, onFocusCb, onBlurCb, onClickCb, onDragEnterCb, onDragOverCb, onDragLeaveCb, onDropCb, noKeyboard, noDrag, disabled]);\n  var onInputElementClick = useCallback(function (event) {\n    event.stopPropagation();\n  }, []);\n  var getInputProps = useMemo(function () {\n    return function () {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$refKey = _ref4.refKey,\n          refKey = _ref4$refKey === void 0 ? 'ref' : _ref4$refKey,\n          onChange = _ref4.onChange,\n          onClick = _ref4.onClick,\n          rest = _objectWithoutProperties(_ref4, [\"refKey\", \"onChange\", \"onClick\"]);\n\n      var inputProps = _defineProperty({\n        accept: accept,\n        multiple: multiple,\n        type: 'file',\n        style: {\n          display: 'none'\n        },\n        onChange: composeHandler(composeEventHandlers(onChange, onDropCb)),\n        onClick: composeHandler(composeEventHandlers(onClick, onInputElementClick)),\n        autoComplete: 'off',\n        tabIndex: -1\n      }, refKey, inputRef);\n\n      return _objectSpread({}, inputProps, {}, rest);\n    };\n  }, [inputRef, accept, multiple, onDropCb, disabled]);\n  var fileCount = draggedFiles.length;\n  var isDragAccept = fileCount > 0 && allFilesAccepted({\n    files: draggedFiles,\n    accept: accept,\n    minSize: minSize,\n    maxSize: maxSize,\n    multiple: multiple\n  });\n  var isDragReject = fileCount > 0 && !isDragAccept;\n  return _objectSpread({}, state, {\n    isDragAccept: isDragAccept,\n    isDragReject: isDragReject,\n    isFocused: isFocused && !disabled,\n    getRootProps: getRootProps,\n    getInputProps: getInputProps,\n    rootRef: rootRef,\n    inputRef: inputRef,\n    open: composeHandler(openFileDialog)\n  });\n}\n\nfunction reducer(state, action) {\n  /* istanbul ignore next */\n  switch (action.type) {\n    case 'focus':\n      return _objectSpread({}, state, {\n        isFocused: true\n      });\n\n    case 'blur':\n      return _objectSpread({}, state, {\n        isFocused: false\n      });\n\n    case 'openDialog':\n      return _objectSpread({}, state, {\n        isFileDialogActive: true\n      });\n\n    case 'closeDialog':\n      return _objectSpread({}, state, {\n        isFileDialogActive: false\n      });\n\n    case 'setDraggedFiles':\n      /* eslint no-case-declarations: 0 */\n      var isDragActive = action.isDragActive,\n          draggedFiles = action.draggedFiles;\n      return _objectSpread({}, state, {\n        draggedFiles: draggedFiles,\n        isDragActive: isDragActive\n      });\n\n    case 'setFiles':\n      return _objectSpread({}, state, {\n        acceptedFiles: action.acceptedFiles,\n        rejectedFiles: action.rejectedFiles\n      });\n\n    case 'reset':\n      return _objectSpread({}, state, {\n        isFileDialogActive: false,\n        isDragActive: false,\n        draggedFiles: [],\n        acceptedFiles: [],\n        rejectedFiles: []\n      });\n\n    default:\n      return state;\n  }\n}"],"sourceRoot":""}